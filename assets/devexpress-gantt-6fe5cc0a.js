import{c as $,g as ee}from"./devexpress-diagram-17d1b438.js";var Z={exports:{}};/*! For license information please see dx-gantt.min.js.LICENSE.txt */(function(Q,ne){(function(G,K){Q.exports=K()})($,()=>(()=>{var G={9279:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Browser=void 0;var a=function(){function c(){}return c.IdentUserAgent=function(d,u){u===void 0&&(u=!1);var o=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],t="IE",n="Win",e={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(d&&d.length!==0){d=d.toLowerCase(),c.indentPlatformMajorVersion(d);try{for(var r={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},i="(?:/|\\s*)?",s="(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?",l="(?:"+s+")?",g={Safari:"applewebkit(?:.*?(?:version/"+s+"[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)"+i+l,Mozilla:"mozilla(?:.*rv:"+l+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+l,Firefox:"firefox"+i+l,Opera:"(?:opera|\\sopr)"+i+l,Opera10:"opera.*\\s*version"+i+l,IE:"msie\\s*"+l,Edge:"edge"+i+l},p=null,f=-1,y=0;y<o.length;y++){var m=o[y],v=new RegExp(g[m],"i").exec(d);if(v&&v.index>=0){if(p==="IE"&&f>=11&&m==="Safari")continue;(p=m)==="Opera10"&&(p="Opera");var T="trident"+i+l;f=c.GetBrowserVersion(d,v,T,c.getIECompatibleVersionString()),p==="Mozilla"&&f>=11&&(p="IE")}}p||(p=t);var b=f!==-1;b||(f=e[p]);var w=null,A=Number.MAX_VALUE;for(var D in r)if(Object.prototype.hasOwnProperty.call(r,D)){var _=D.substr(0,1)==="!",M=d.indexOf((_?D.substr(1):D).toLowerCase());M>=0&&(M<A||_)&&(A=_?0:M,w=r[D])}var x=d.toUpperCase().match("SM-[A-Z]"),N=x&&x.length>0;w==="WinPhone"&&f<9&&(f=Math.floor(c.getVersionFromTrident(d,"trident"+i+l))),!u&&p==="IE"&&f>7&&document.documentMode<f&&(f=document.documentMode),w==="WinPhone"&&(f=Math.max(9,f)),w||(w=n),w!==r["cpu os"]||b||(f=4),c.fillUserAgentInfo(o,p,f,w,N)}catch{c.fillUserAgentInfo(o,t,e[t],n)}}else c.fillUserAgentInfo(o,t,e[t],n)},c.GetBrowserVersion=function(d,u,o,t){var n=c.getVersionFromMatches(u);if(t){var e=c.getVersionFromTrident(d,o);if(t==="edge"||parseInt(t)===e)return e}return n},c.getIECompatibleVersionString=function(){if(document.compatible){for(var d=0;d<document.compatible.length;d++)if(document.compatible[d].userAgent==="IE"&&document.compatible[d].version)return document.compatible[d].version.toLowerCase()}return""},c.isTouchEnabled=function(){return c.hasTouchStart()||c.hasMaxTouchPoints()||c.hasMsMaxTouchPoints()},c.hasTouchStart=function(){return"ontouchstart"in window},c.hasMaxTouchPoints=function(){return navigator.maxTouchPoints>0},c.hasMsMaxTouchPoints=function(){return navigator.msMaxTouchPoints>0},c.hasNavigator=function(){return typeof navigator<"u"},c.fillUserAgentInfo=function(d,u,o,t,n){n===void 0&&(n=!1);for(var e=0;e<d.length;e++){var r=d[e];c[r]=r===u}c.Version=Math.floor(10*o)/10,c.MajorVersion=Math.floor(c.Version),c.WindowsPlatform=t==="Win"||t==="WinPhone",c.MacOSMobilePlatform=t==="MacMobile"||t==="Mac"&&c.isTouchEnabled(),c.MacOSPlatform=t==="Mac"&&!c.MacOSMobilePlatform,c.AndroidMobilePlatform=t==="Android",c.WindowsPhonePlatform=t==="WinPhone",c.WebKitFamily=c.Safari||c.Chrome||c.Opera&&c.MajorVersion>=15,c.NetscapeFamily=c.Netscape||c.Mozilla||c.Firefox,c.WebKitTouchUI=c.MacOSMobilePlatform||c.AndroidMobilePlatform;var i=c.IE&&c.MajorVersion>9&&c.WindowsPlatform&&c.UserAgent.toLowerCase().indexOf("touch")>=0;if(c.MSTouchUI=i||c.Edge&&!!window.navigator.maxTouchPoints,c.TouchUI=c.WebKitTouchUI||c.MSTouchUI,c.MobileUI=c.WebKitTouchUI||c.WindowsPhonePlatform,c.AndroidDefaultBrowser=c.AndroidMobilePlatform&&!c.Chrome,c.AndroidChromeBrowser=c.AndroidMobilePlatform&&c.Chrome,n&&(c.SamsungAndroidDevice=n),c.MSTouchUI){var s=c.UserAgent.toLowerCase().indexOf("arm;")>-1;c.VirtualKeyboardSupported=s||c.WindowsPhonePlatform}else c.VirtualKeyboardSupported=c.WebKitTouchUI;c.fillDocumentElementBrowserTypeClassNames(d)},c.indentPlatformMajorVersion=function(d){var u=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/.exec(d);u&&(c.PlaformMajorVersion=u[1])},c.getVersionFromMatches=function(d){var u=-1,o="";return d&&(d[1]&&(o+=d[1],d[2]&&(o+="."+d[2])),o!==""&&(u=parseFloat(o),isNaN(u)&&(u=-1))),u},c.getVersionFromTrident=function(d,u){var o=new RegExp(u,"i").exec(d);return c.getVersionFromMatches(o)+4},c.fillDocumentElementBrowserTypeClassNames=function(d){for(var u="",o=d.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),t=0;t<o.length;t++){var n=o[t];c[n]&&(u+="dx"+n+" ")}u+="dxBrowserVersion-"+c.MajorVersion,typeof document<"u"&&document&&document.documentElement&&(document.documentElement.className!==""&&(u=" "+u),document.documentElement.className+=u,c.Info=u)},c.getUserAgent=function(){return c.hasNavigator()&&navigator.userAgent?navigator.userAgent.toLowerCase():""},c.UserAgent=c.getUserAgent(),c._foo=c.IdentUserAgent(c.UserAgent),c}();h.Browser=a},6799:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ExtendedMinMax=h.ExtendedMax=h.ExtendedMin=h.MinMaxNumber=h.MinMax=void 0;var c=a(655),d=function(e,r){this.minElement=e,this.maxElement=r};h.MinMax=d;var u=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return c.__extends(r,e),Object.defineProperty(r.prototype,"length",{get:function(){return this.maxElement-this.minElement},enumerable:!1,configurable:!0}),r}(d);h.MinMaxNumber=u;var o=function(e,r){this.minElement=e,this.minValue=r};h.ExtendedMin=o;var t=function(e,r){this.maxElement=e,this.maxValue=r};h.ExtendedMax=t;var n=function(e){function r(i,s,l,g){var p=e.call(this,i,l)||this;return p.minValue=s,p.maxValue=g,p}return c.__extends(r,e),r}(d);h.ExtendedMinMax=n},3604:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Margins=void 0;var c=a(655),d=function(u){function o(){return u!==null&&u.apply(this,arguments)||this}return c.__extends(o,u),o.empty=function(){return new o(0,0,0,0)},o.prototype.clone=function(){return new o(this.left,this.right,this.top,this.bottom)},o}(a(4125).Offsets);h.Margins=d},5596:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Metrics=void 0;var a=function(){function c(){}return c.euclideanDistance=function(d,u){var o=d.x-u.x,t=d.y-u.y;return Math.sqrt(o*o+t*t)},c.manhattanDistance=function(d,u){return Math.abs(d.x-u.x)+Math.abs(d.y-u.y)},c}();h.Metrics=a},4125:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Offsets=void 0;var a=function(){function c(d,u,o,t){this.left=d,this.right=u,this.top=o,this.bottom=t}return c.empty=function(){return new c(0,0,0,0)},Object.defineProperty(c.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!1,configurable:!0}),c.fromNumber=function(d){return new c(d,d,d,d)},c.fromOffsets=function(d){return new c(d.left,d.right,d.top,d.bottom)},c.fromSide=function(d,u){return new c(d,d,u,u)},c.prototype.normalize=function(){return this.left=Math.max(0,this.left),this.right=Math.max(0,this.right),this.top=Math.max(0,this.top),this.bottom=Math.max(0,this.bottom),this},c.prototype.toString=function(){return JSON.stringify(this)},c.prototype.isEmpty=function(){return this.left===0&&this.right===0&&this.top===0&&this.bottom===0},c.prototype.offset=function(d){return this.left+=d.left,this.right+=d.right,this.top+=d.top,this.bottom+=d.bottom,this},c.prototype.multiply=function(d,u,o,t){switch(arguments.length){case 1:return this.left*=d,this.right*=d,this.top*=d,this.bottom*=d,this;case 2:return this.left*=d,this.right*=d,this.top*=u,this.bottom*=u,this;case 4:return this.left*=d,this.right*=u,this.top*=o,this.bottom*=t,this}return this},c.prototype.clone=function(){return new c(this.left,this.right,this.top,this.bottom)},c.prototype.copyFrom=function(d){this.left=d.left,this.right=d.right,this.top=d.top,this.bottom=d.bottom},c.prototype.equals=function(d){return this.top===d.top&&this.bottom===d.bottom&&this.right===d.right&&this.left===d.left},c.prototype.applyConverter=function(d){return this.left=d(this.left),this.right=d(this.right),this.top=d(this.top),this.bottom=d(this.bottom),this},c}();h.Offsets=a},8900:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Point=void 0;var a=function(){function c(d,u){this.x=d,this.y=u}return c.zero=function(){return new c(0,0)},c.fromNumber=function(d){return new c(d,d)},c.prototype.isZero=function(){return this.x===0&&this.y===0},c.prototype.toString=function(){return JSON.stringify(this)},c.prototype.copyFrom=function(d){this.x=d.x,this.y=d.y},c.prototype.clone=function(){return new c(this.x,this.y)},c.prototype.equals=function(d){return this.x===d.x&&this.y===d.y},c.prototype.offset=function(d,u){return this.x+=d,this.y+=u,this},c.prototype.offsetByPoint=function(d){return this.x+=d.x,this.y+=d.y,this},c.prototype.multiply=function(d,u){return this.x*=d,this.y*=u,this},c.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},c.prototype.applyConverter=function(d){return this.x=d(this.x),this.y=d(this.y),this},c.plus=function(d,u){return new c(d.x+u.x,d.y+u.y)},c.minus=function(d,u){return new c(d.x-u.x,d.y-u.y)},c.xComparer=function(d,u){return d.x-u.x},c.yComparer=function(d,u){return d.y-u.y},c.equals=function(d,u){return d.x===u.x&&d.y===u.y},c}();h.Point=a},6353:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Size=void 0;var a=function(){function c(d,u){this.width=d,this.height=u}return c.empty=function(){return new c(0,0)},c.fromNumber=function(d){return new c(d,d)},c.initByCommonAction=function(d){var u=function(t){return t.width},o=function(t){return t.height};return new c(d(u,o),d(o,u))},c.prototype.isEmpty=function(){return this.width===0&&this.height===0},c.prototype.toString=function(){return JSON.stringify(this)},c.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},c.prototype.offset=function(d,u){return this.width=this.width+d,this.height=this.height+u,this},c.prototype.multiply=function(d,u){return this.width*=d,this.height*=u,this},c.prototype.equals=function(d){return this.width===d.width&&this.height===d.height},c.prototype.clone=function(){return new c(this.width,this.height)},c.prototype.copyFrom=function(d){this.width=d.width,this.height=d.height},c.prototype.applyConverter=function(d){return this.width=d(this.width),this.height=d(this.height),this},c.equals=function(d,u){return d.width===u.width&&d.height===u.height},c}();h.Size=a},2217:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AttrUtils=void 0;var c=a(9279),d=function(){function u(){}return u.setElementAttribute=function(o,t,n){o.setAttribute&&(c.Browser.IE&&c.Browser.MajorVersion>=11&&t.toLowerCase()==="src"&&o.setAttribute(t,""),o.setAttribute(t,n))},u.setStyleAttribute=function(o,t,n){o.setProperty&&o.setProperty(t,n,"")},u.getElementAttribute=function(o,t){return o.getAttribute(t)},u.getStyleAttribute=function(o,t){if(o.getPropertyValue){if(c.Browser.Firefox)try{return o.getPropertyValue(t)}catch{return o[t]}return o.getPropertyValue(t)}return null},u.removeElementAttribute=function(o,t){o.removeAttribute&&o.removeAttribute(t)},u.removeStyleAttribute=function(o,t){o.removeProperty&&o.removeProperty(t)},u.changeElementStyleAttribute=function(o,t,n){u.saveStyleAttributeInElement(o,t),u.setStyleAttribute(o.style,t,n)},u.restoreElementStyleAttribute=function(o,t){var n="dxwu_saved"+t,e=o.style;if(u.isExistsAttributeInElement(o,n)){var r=u.getElementAttribute(o,n);return r===u.emptyObject||r===null?u.removeStyleAttribute(e,t):u.setStyleAttribute(e,t,r),u.removeElementAttribute(o,n),!0}return!1},u.saveStyleAttributeInElement=function(o,t){var n="dxwu_saved"+t,e=o.style;if(!u.isExistsAttributeInElement(o,n)){var r=u.getStyleAttribute(e,t);u.setElementAttribute(o,n,u.isAttributeExists(r)?r:u.emptyObject)}},u.isExistsAttributeInElement=function(o,t){var n=u.getElementAttribute(o,t);return u.isAttributeExists(n)},u.isAttributeExists=function(o){return o!==null&&o!==""},u.emptyObject="DxEmptyValue",u}();h.AttrUtils=d},2491:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.numberToStringHex=h.numberToStringBin=h.isOdd=h.isEven=h.isNonNullString=h.isString=h.isNumber=h.boolToString=h.boolToInt=h.isDefined=void 0;var c=a(49);h.isDefined=function(d){return d!=null},h.boolToInt=function(d){return d?1:0},h.boolToString=function(d){return d?"1":"0"},h.isNumber=function(d){return typeof d=="number"},h.isString=function(d){return typeof d=="string"},h.isNonNullString=function(d){return!!d},h.isEven=function(d){return d%2!=0},h.isOdd=function(d){return d%2==0},h.numberToStringBin=function(d,u){return u===void 0&&(u=0),c.StringUtils.padLeft(d.toString(2),u,"0")},h.numberToStringHex=function(d,u){return u===void 0&&(u=0),c.StringUtils.padLeft(d.toString(16),u,"0")}},4170:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Equals=h.Comparers=void 0;var a=function(){function d(){}return d.number=function(u,o){return u-o},d.string=function(u,o){return u===o?0:u>o?1:-1},d.stringIgnoreCase=function(u,o){return(u=u.toLowerCase())===(o=o.toLowerCase())?0:u>o?1:-1},d}();h.Comparers=a;var c=function(){function d(){}return d.simpleType=function(u,o){return u===o},d.object=function(u,o){return u&&o&&(u===o||u.equals(o))},d}();h.Equals=c},6907:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DomUtils=void 0;var c=a(9279),d=a(2491),u=a(8679),o=a(49),t=function(){function r(){}return r.clearInnerHtml=function(i){for(;i.firstChild;)i.removeChild(i.firstChild)},r.setStylePosition=function(i,s){i.left=u.MathUtils.round(s.x,3)+"px",i.top=u.MathUtils.round(s.y,3)+"px"},r.setStyleSize=function(i,s){i.width=u.MathUtils.round(s.width,3)+"px",i.height=u.MathUtils.round(s.height,3)+"px"},r.setStyleSizeAndPosition=function(i,s){r.setStylePosition(i,s),r.setStyleSize(i,s)},r.hideNode=function(i){if(i){var s=i.parentNode;s&&s.removeChild(i)}},r.isHTMLElementNode=function(i){return i.nodeType===Node.ELEMENT_NODE},r.isTextNode=function(i){return i.nodeType===Node.TEXT_NODE},r.isElementNode=function(i){return i.nodeType===Node.ELEMENT_NODE},r.isHTMLTableRowElement=function(i){return i.tagName==="TR"},r.isItParent=function(i,s){if(!i||!s)return!1;for(;s;){if(s===i)return!0;if(s.tagName==="BODY")return!1;s=s.parentNode}return!1},r.getParentByTagName=function(i,s){for(s=s.toUpperCase();i;){if(i.tagName==="BODY")return null;if(i.tagName===s)return i;i=i.parentNode}return null},r.getDocumentScrollTop=function(){var i=c.Browser.IE&&r.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollTop>0;return c.Browser.WebKitFamily||c.Browser.Edge||i?c.Browser.MacOSMobilePlatform?window.pageYOffset:c.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},r.getDocumentScrollLeft=function(){var i=c.Browser.IE&&r.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollLeft>0;return c.Browser.Edge||i?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:c.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},r.getCurrentStyle=function(i){if(i.currentStyle)return i.currentStyle;if(document.defaultView&&document.defaultView.getComputedStyle){var s=document.defaultView.getComputedStyle(i,null);if(!s&&c.Browser.Firefox&&window.frameElement){for(var l=[],g=window.frameElement;!(s=document.defaultView.getComputedStyle(i,null));)l.push([g,g.style.display]),g.style.setProperty("display","block","important"),g=g.tagName==="BODY"?g.ownerDocument.defaultView.frameElement:g.parentNode;s=function(y){if(typeof y!="object"||!d.isDefined(y))return y;var m={};for(var v in y)m[v]=y[v];return m}(s);for(var p=void 0,f=0;p=l[f];f++)p[0].style.display=p[1];document.body.offsetWidth}return s}return window.getComputedStyle(i,null)},r.setFocus=function(i){function s(){try{i.focus(),c.Browser.IE&&document.activeElement!==i&&i.focus()}catch{}}c.Browser.MacOSMobilePlatform?s():setTimeout(function(){s()},100)},r.hasClassName=function(i,s){try{var l=s.split(" "),g=i.classList;if(g){for(var p=l.length-1;p>=0;p--)if(!g.contains(l[p]))return!1}else{var f=i.getAttribute&&i.getAttribute("class");if(!f)return!1;var y=f.split(" ");for(p=l.length-1;p>=0;p--)if(y.indexOf(l[p])<0)return!1}return!0}catch{return!1}},r.addClassName=function(i,s){if(!r.hasClassName(i,s)){var l=i.getAttribute&&i.getAttribute("class");i.setAttribute("class",l===""?s:l+" "+s)}},r.removeClassName=function(i,s){var l=" "+(i.getAttribute&&i.getAttribute("class"))+" ",g=l.replace(" "+s+" "," ");l.length!==g.length&&i.setAttribute("class",o.StringUtils.trim(g))},r.toggleClassName=function(i,s,l){l===void 0?r.hasClassName(i,s)?r.removeClassName(i,s):r.addClassName(i,s):l?r.addClassName(i,s):r.removeClassName(i,s)},r.pxToInt=function(i){return n(i,parseInt)},r.pxToFloat=function(i){return n(i,parseFloat)},r.getAbsolutePositionY=function(i){function s(l){return Math.round(l.getBoundingClientRect().top+r.getDocumentScrollTop())}return i?c.Browser.IE?function(l){return c.Browser.IE&&l.parentNode===null?0:l.getBoundingClientRect().top+r.getDocumentScrollTop()}(i):c.Browser.Firefox&&c.Browser.Version>=3?s(i):c.Browser.Opera?function(l){var g=!0;l&&r.isHTMLTableRowElement(l)&&l.cells.length>0&&(l=l.cells[0]);for(var p=e(l,!1);l!=null;)p+=l.offsetTop,g||(p-=l.scrollTop),l=l.offsetParent,g=!1;return p+=document.body.scrollTop}(i):c.Browser.NetscapeFamily&&(!c.Browser.Firefox||c.Browser.Version<3)?function(l){for(var g=e(l,!1),p=!0;l!=null;){if(g+=l.offsetTop,p||l.offsetParent==null||(g-=l.scrollTop),!p&&c.Browser.Firefox){var f=r.getCurrentStyle(l);l.tagName==="DIV"&&f.overflow!=="visible"&&(g+=r.pxToInt(f.borderTopWidth))}p=!1,l=l.offsetParent}return g}(i):c.Browser.WebKitFamily||c.Browser.Edge?s(i):function(l){for(var g=0,p=!0;l!=null;)g+=l.offsetTop,p||l.offsetParent==null||(g-=l.scrollTop),p=!1,l=l.offsetParent;return g}(i):0},r.getAbsolutePositionX=function(i){function s(l){return Math.round(l.getBoundingClientRect().left+r.getDocumentScrollLeft())}return i?c.Browser.IE?function(l){return c.Browser.IE&&l.parentNode===null?0:l.getBoundingClientRect().left+r.getDocumentScrollLeft()}(i):c.Browser.Firefox&&c.Browser.Version>=3?s(i):c.Browser.Opera&&c.Browser.Version<=12?function(l){for(var g=!0,p=e(l,!0);l!=null;)p+=l.offsetLeft,g||(p-=l.scrollLeft),l=l.offsetParent,g=!1;return p+=document.body.scrollLeft}(i):c.Browser.NetscapeFamily&&(!c.Browser.Firefox||c.Browser.Version<3)?function(l){for(var g=e(l,!0),p=!0;l!=null;){if(g+=l.offsetLeft,p||l.offsetParent==null||(g-=l.scrollLeft),!p&&c.Browser.Firefox){var f=r.getCurrentStyle(l);l.tagName==="DIV"&&f.overflow!=="visible"&&(g+=r.pxToInt(f.borderLeftWidth))}p=!1,l=l.offsetParent}return g}(i):c.Browser.WebKitFamily||c.Browser.Edge?s(i):function(l){for(var g=0,p=!0;l!=null;)g+=l.offsetLeft,p||l.offsetParent==null||(g-=l.scrollLeft),p=!1,l=l.offsetParent;return g}(i):0},r.isInteractiveControl=function(i){return["A","INPUT","SELECT","OPTION","TEXTAREA","BUTTON","IFRAME"].indexOf(i.tagName)>-1},r.getClearClientHeight=function(i){return i.offsetHeight-(r.getTopBottomPaddings(i)+r.getVerticalBordersWidth(i))},r.getTopBottomPaddings=function(i,s){var l=s||r.getCurrentStyle(i);return r.pxToInt(l.paddingTop)+r.pxToInt(l.paddingBottom)},r.getVerticalBordersWidth=function(i,s){d.isDefined(s)||(s=c.Browser.IE&&c.Browser.MajorVersion!==9&&window.getComputedStyle?window.getComputedStyle(i):r.getCurrentStyle(i));var l=0;return s.borderTopStyle!=="none"&&(l+=r.pxToFloat(s.borderTopWidth)),s.borderBottomStyle!=="none"&&(l+=r.pxToFloat(s.borderBottomWidth)),l},r.getNodes=function(i,s){for(var l=i.all||i.getElementsByTagName("*"),g=[],p=0;p<l.length;p++){var f=l[p];s(f)&&g.push(f)}return g},r.getChildNodes=function(i,s){for(var l=i.childNodes,g=[],p=0;p<l.length;p++){var f=l[p];s(f)&&g.push(f)}return g},r.getNodesByClassName=function(i,s){if(i.querySelectorAll){var l=i.querySelectorAll("."+s),g=[];return l.forEach(function(p){return g.push(p)}),g}return r.getNodes(i,function(p){return r.hasClassName(p,s)})},r.getChildNodesByClassName=function(i,s){return i.querySelectorAll?function(l,g){for(var p=[],f=0;f<l.length;f++){var y=l[f];g(y)&&p.push(y)}return p}(i.querySelectorAll("."+s),function(l){return l.parentNode===i}):r.getChildNodes(i,function(l){return!!r.isElementNode(l)&&d.isNonNullString(l.className)&&r.hasClassName(l,l.className)})},r.getVerticalScrollBarWidth=function(){if(r.verticalScrollBarWidth===void 0){var i=document.createElement("DIV");i.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box",document.body.appendChild(i);var s=document.createElement("P");i.appendChild(s),s.style.cssText="width: 100%; height: 200px;";var l=s.offsetWidth;i.style.overflow="scroll";var g=s.offsetWidth;l===g&&(g=i.clientWidth),r.verticalScrollBarWidth=l-g,document.body.removeChild(i)}return r.verticalScrollBarWidth},r.getHorizontalBordersWidth=function(i,s){d.isDefined(s)||(s=c.Browser.IE&&window.getComputedStyle?window.getComputedStyle(i):r.getCurrentStyle(i));var l=0;return s.borderLeftStyle!=="none"&&(l+=r.pxToFloat(s.borderLeftWidth)),s.borderRightStyle!=="none"&&(l+=r.pxToFloat(s.borderRightWidth)),l},r.getFontFamiliesFromCssString=function(i){return i.split(",").map(function(s){return o.StringUtils.trim(s.replace(/'|"/gi,""))})},r.getInnerText=function(i){if(c.Browser.Safari&&c.Browser.MajorVersion<=5){r.html2PlainTextFilter===null&&(r.html2PlainTextFilter=document.createElement("DIV"),r.html2PlainTextFilter.style.width="0",r.html2PlainTextFilter.style.height="0",r.html2PlainTextFilter.style.overflow="visible",r.html2PlainTextFilter.style.display="none",document.body.appendChild(r.html2PlainTextFilter));var s=r.html2PlainTextFilter;s.innerHTML=i.innerHTML,s.style.display="";var l=s.innerText;return s.style.display="none",l}return c.Browser.NetscapeFamily||c.Browser.WebKitFamily||c.Browser.IE&&c.Browser.Version>=9||c.Browser.Edge?i.textContent:i.innerText},r.html2PlainTextFilter=null,r.verticalScrollBarWidth=void 0,r}();function n(r,i){var s=0;if(d.isDefined(r)&&r!=="")try{var l=r.indexOf("px");l>-1&&(s=i(r.substr(0,l)))}catch{}return s}function e(r,i){for(var s=0,l=!0;r!=null&&r.tagName!=="BODY";){var g=t.getCurrentStyle(r);if(g.position==="absolute")break;l||r.tagName!=="DIV"||g.position!==""&&g.position!=="static"||(s-=i?r.scrollLeft:r.scrollTop),r=r.parentNode,l=!1}return s}h.DomUtils=t},9712:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EncodeUtils=void 0;var a=function(){function c(){}return c.encodeHtml=function(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},c.decodeHtml=function(d){return d.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},c.prepareTextForRequest=function(d){return d.replace(/%/g,"%25").replace(/&/g,"%26amp;").replace(/\+/g,"%2B").replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/"/g,"%26quot;")},c.prepareTextForCallBackRequest=function(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},c.decodeViaTextArea=function(d){var u=document.createElement("TEXTAREA");return u.innerHTML=d,u.value},c}();h.EncodeUtils=a},3714:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EvtUtils=void 0;var c=a(9279),d=a(2491),u=a(6907),o=a(1632),t=function(){function n(){}return n.preventEvent=function(e){e.cancelable&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},n.getEventSource=function(e){return d.isDefined(e)?n.getEventSourceCore(e):null},n.getEventSourceByPosition=function(e){if(!d.isDefined(e))return null;if(!document.elementFromPoint)return n.getEventSourceCore(e);var r=n.getEventX(e)-(n.clientEventRequiresDocScrollCorrection()?u.DomUtils.getDocumentScrollLeft():0),i=n.getEventY(e)-(n.clientEventRequiresDocScrollCorrection()?u.DomUtils.getDocumentScrollTop():0);return r===void 0||i===void 0?n.getEventSourceCore(e):document.elementFromPoint(r,i)},n.getEventSourceCore=function(e){return e.srcElement?e.srcElement:e.target},n.getMouseWheelEventName=function(){return c.Browser.Safari?"mousewheel":c.Browser.NetscapeFamily&&c.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},n.isLeftButtonPressed=function(e){return!!o.TouchUtils.isTouchEvent(e)||!!(e=c.Browser.IE&&d.isDefined(event)?event:e)&&(c.Browser.IE&&c.Browser.Version<11?!!c.Browser.MSTouchUI||e.button%2==1:c.Browser.WebKitFamily?e.type==="pointermove"||e.type==="pointerenter"||e.type==="pointerleave"?e.buttons===1:e.which===1:c.Browser.NetscapeFamily||c.Browser.Edge||c.Browser.IE&&c.Browser.Version>=11?n.isMoveEventName(e.type)?e.buttons===1:e.which===1:!c.Browser.Opera||e.button===0)},n.isMoveEventName=function(e){return e===o.TouchUtils.touchMouseMoveEventName||e===n.getMoveEventName()},n.getMoveEventName=function(){return window.PointerEvent?"pointermove":c.Browser.TouchUI?"touchmove":"mousemove"},n.preventEventAndBubble=function(e){n.preventEvent(e),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},n.clientEventRequiresDocScrollCorrection=function(){var e=c.Browser.Safari&&c.Browser.Version<3,r=c.Browser.MacOSMobilePlatform&&c.Browser.Version<5.1;return c.Browser.AndroidDefaultBrowser||c.Browser.AndroidChromeBrowser||!(e||r)},n.getEventX=function(e){return o.TouchUtils.isTouchEvent(e)?o.TouchUtils.getEventX(e):e.clientX+(n.clientEventRequiresDocScrollCorrection()?u.DomUtils.getDocumentScrollLeft():0)},n.getEventY=function(e){return o.TouchUtils.isTouchEvent(e)?o.TouchUtils.getEventY(e):e.clientY+(n.clientEventRequiresDocScrollCorrection()?u.DomUtils.getDocumentScrollTop():0)},n.cancelBubble=function(e){e.cancelBubble=!0},n.getWheelDelta=function(e){var r;return r=c.Browser.NetscapeFamily&&c.Browser.MajorVersion<17?-e.detail:c.Browser.Safari?e.wheelDelta:-e.deltaY,c.Browser.Opera&&c.Browser.Version<9&&(r=-r),r},n}();h.EvtUtils=t},9937:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.JsonUtils=void 0;var a=function(){function c(){}return c.isValid=function(d){return!/[^,:{}[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(d.replace(/"(\\.|[^"\\])*"/g,""))},c}();h.JsonUtils=a},2153:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.KeyCode=h.ModifierKey=h.KeyUtils=void 0;var c,d,u=a(9279),o=a(9712),t=a(49),n=function(){function e(){}return e.getKeyModifiers=function(r){var i=0;return r.altKey&&(i|=c.Alt),r.ctrlKey&&(i|=c.Ctrl),r.shiftKey&&(i|=c.Shift),r.metaKey&&(i|=c.Meta),i},e.getShortcutCode=function(r,i,s,l,g){var p=r;return p|=i?c.Ctrl:0,p|=s?c.Shift:0,p|=l?c.Alt:0,p|=g?c.Meta:0},e.getShortcutCodeByEvent=function(r){return e.getShortcutCode(e.getEventKeyCode(r),r.ctrlKey,r.shiftKey,r.altKey,!!u.Browser.MacOSPlatform&&r.metaKey)},e.getEventKeyCode=function(r){return u.Browser.NetscapeFamily||u.Browser.Opera?r.which:r.keyCode},e.parseShortcutString=function(r){if(!r)return 0;var i=!1,s=!1,l=!1,g=!1,p=null,f=r.toString().split("+");if(f.length>0)for(var y=0;y<f.length;y++){var m=t.StringUtils.trim(f[y].toUpperCase());switch(m){case"CONTROL":case"CONTROLKEY":case"CTRL":i=!0;break;case"SHIFT":case"SHIFTKEY":s=!0;break;case"ALT":l=!0;break;case"CMD":g=!0;break;case"F1":p=d.F1;break;case"F2":p=d.F2;break;case"F3":p=d.F3;break;case"F4":p=d.F4;break;case"F5":p=d.F5;break;case"F6":p=d.F6;break;case"F7":p=d.F7;break;case"F8":p=d.F8;break;case"F9":p=d.F9;break;case"F10":p=d.F10;break;case"F11":p=d.F11;break;case"F12":p=d.F12;break;case"RETURN":case"ENTER":p=d.Enter;break;case"HOME":p=d.Home;break;case"END":p=d.End;break;case"LEFT":p=d.Left;break;case"RIGHT":p=d.Right;break;case"UP":p=d.Up;break;case"DOWN":p=d.Down;break;case"PAGEUP":p=d.PageUp;break;case"PAGEDOWN":p=d.PageDown;break;case"SPACE":p=d.Space;break;case"TAB":p=d.Tab;break;case"BACKSPACE":case"BACK":p=d.Backspace;break;case"CONTEXT":p=d.ContextMenu;break;case"ESCAPE":case"ESC":p=d.Esc;break;case"DELETE":case"DEL":p=d.Delete;break;case"INSERT":case"INS":p=d.Insert;break;case"PLUS":p="+".charCodeAt(0);break;default:p=m.charCodeAt(0)}}else alert(o.EncodeUtils.decodeViaTextArea("Invalid shortcut"));return e.getShortcutCode(p,i,s,l,g)},e}();h.KeyUtils=n,function(e){e[e.None=0]="None",e[e.Ctrl=65536]="Ctrl",e[e.Shift=262144]="Shift",e[e.Alt=1048576]="Alt",e[e.Meta=16777216]="Meta"}(c=h.ModifierKey||(h.ModifierKey={})),function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Pause=19]="Pause",e[e.CapsLock=20]="CapsLock",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Key_0=48]="Key_0",e[e.Key_1=49]="Key_1",e[e.Key_2=50]="Key_2",e[e.Key_3=51]="Key_3",e[e.Key_4=52]="Key_4",e[e.Key_5=53]="Key_5",e[e.Key_6=54]="Key_6",e[e.Key_7=55]="Key_7",e[e.Key_8=56]="Key_8",e[e.Key_9=57]="Key_9",e[e.Key_a=65]="Key_a",e[e.Key_b=66]="Key_b",e[e.Key_c=67]="Key_c",e[e.Key_d=68]="Key_d",e[e.Key_e=69]="Key_e",e[e.Key_f=70]="Key_f",e[e.Key_g=71]="Key_g",e[e.Key_h=72]="Key_h",e[e.Key_i=73]="Key_i",e[e.Key_j=74]="Key_j",e[e.Key_k=75]="Key_k",e[e.Key_l=76]="Key_l",e[e.Key_m=77]="Key_m",e[e.Key_n=78]="Key_n",e[e.Key_o=79]="Key_o",e[e.Key_p=80]="Key_p",e[e.Key_q=81]="Key_q",e[e.Key_r=82]="Key_r",e[e.Key_s=83]="Key_s",e[e.Key_t=84]="Key_t",e[e.Key_u=85]="Key_u",e[e.Key_v=86]="Key_v",e[e.Key_w=87]="Key_w",e[e.Key_x=88]="Key_x",e[e.Key_y=89]="Key_y",e[e.Key_z=90]="Key_z",e[e.Windows=91]="Windows",e[e.ContextMenu=93]="ContextMenu",e[e.Numpad_0=96]="Numpad_0",e[e.Numpad_1=97]="Numpad_1",e[e.Numpad_2=98]="Numpad_2",e[e.Numpad_3=99]="Numpad_3",e[e.Numpad_4=100]="Numpad_4",e[e.Numpad_5=101]="Numpad_5",e[e.Numpad_6=102]="Numpad_6",e[e.Numpad_7=103]="Numpad_7",e[e.Numpad_8=104]="Numpad_8",e[e.Numpad_9=105]="Numpad_9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.Decimal=110]="Decimal",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Semicolon=186]="Semicolon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.ForwardSlash=191]="ForwardSlash",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.BackSlash=220]="BackSlash",e[e.CloseBracket=221]="CloseBracket",e[e.SingleQuote=222]="SingleQuote"}(d=h.KeyCode||(h.KeyCode={}))},2940:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ListUtils=void 0;var c=a(6799),d=a(4170),u=function(){function o(){}return o.remove=function(t,n){var e=t.indexOf(n,0);e>=0&&t.splice(e,1)},o.removeBy=function(t,n){for(var e=t.length,r=0;r<e;r++)if(n(t[r],r))return t.splice(r,1)[0];return null},o.shallowCopy=function(t){return t.slice()},o.deepCopy=function(t){return o.map(t,function(n){return n.clone()})},o.initByValue=function(t,n){for(var e=[];t>0;t--)e.push(n);return e},o.initByCallback=function(t,n){for(var e=[],r=0;r<t;r++)e.push(n(r));return e},o.forEachOnInterval=function(t,n){for(var e=t.end,r=t.start;r<e;r++)n(r)},o.reverseForEachOnInterval=function(t,n){for(var e=t.start,r=t.end-1;r>=e;r--)n(r)},o.reducedMap=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=[],s=e;s<r;s++){var l=n(t[s],s);l!==null&&i.push(l)}return i},o.filter=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=[],s=e;s<r;s++){var l=t[s];n(l,s)&&i.push(l)}return i},o.map=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=[],s=e;s<r;s++)i.push(n(t[s],s));return i},o.indexBy=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=e;i<r;i++)if(n(t[i],i))return i;return-1},o.reverseIndexBy=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);for(var i=e;i>=r;i--)if(n(t[i],i))return i;return-1},o.elementBy=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);var i=o.indexBy(t,n,e,r);return i<0?null:t[i]},o.reverseElementBy=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);var i=o.reverseIndexBy(t,n,e,r);return i<0?null:t[i]},o.last=function(t){return t[t.length-1]},o.setLast=function(t,n){return t[t.length-1]=n},o.incLast=function(t){return++t[t.length-1]},o.decLast=function(t){return--t[t.length-1]},o.equals=function(t,n){return t.length===n.length&&o.allOf2(t,n,function(e,r){return e.equals(r)})},o.equalsByReference=function(t,n){var e=t.length;if(e!==t.length)return!1;for(var r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0},o.unique=function(t,n,e,r){e===void 0&&(e=n),r===void 0&&(r=function(){});var i=t.length;if(i===0)return[];var s=(t=t.sort(n))[0],l=o.reducedMap(t,function(g){return e(s,g)!==0?(s=g,g):(r(g),null)},1,i);return l.unshift(t[0]),l},o.uniqueNumber=function(t){t=t.sort(d.Comparers.number);for(var n=Number.NaN,e=t.length-1;e>=0;e--)n===t[e]?t.splice(e,1):n=t[e];return t},o.forEach=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=e;i<r;i++)n(t[i],i)},o.forEach2=function(t,n,e,r,i){r===void 0&&(r=0),i===void 0&&(i=t.length);for(var s=r;s<i;s++)e(t[s],n[s],s)},o.reverseForEach=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);for(var i=e;i>=r;i--)n(t[i],i)},o.reverseIndexOf=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);for(var i=e;i>=r;i--)if(t[i]===n)return i;return-1},o.accumulate=function(t,n,e,r,i){r===void 0&&(r=0),i===void 0&&(i=t.length);for(var s=n,l=r;l<i;l++)s=e(s,t[l],l);return s},o.accumulateNumber=function(t,n,e,r,i){e===void 0&&(e=0),r===void 0&&(r=0),i===void 0&&(i=t.length);for(var s=e,l=r;l<i;l++)s+=n(t[l],l,s);return s},o.anyOf=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=e;i<r;i++)if(n(t[i],i))return!0;return!1},o.unsafeAnyOf=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=e;i<r;i++){var s=n(t[i],i);if(s)return s}return null},o.reverseAnyOf=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);for(var i=e;i>=r;i--)if(n(t[i],i))return!0;return!1},o.unsafeReverseAnyOf=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);for(var i=e;i>=r;i--){var s=n(t[i],i);if(s)return s}return null},o.anyOf2=function(t,n,e,r,i){r===void 0&&(r=0),i===void 0&&(i=t.length);for(var s=r;s<i;s++)if(e(t[s],n[s],s))return!0;return!1},o.allOf=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=e;i<r;i++)if(!n(t[i],i))return!1;return!0},o.allOf2=function(t,n,e,r,i){r===void 0&&(r=0),i===void 0&&(i=t.length);for(var s=r;s<i;s++)if(!e(t[s],n[s],s))return!1;return!0},o.allOfOnInterval=function(t,n){for(var e=t.end,r=t.start;r<e;r++)if(!n(r))return!1;return!0},o.addListOnTail=function(t,n){for(var e=0,r=void 0;r=n[e];e++)t.push(r);return t},o.joinLists=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return o.accumulate(n,[],function(r,i){return o.addListOnTail(r,t(i)),r})},o.push=function(t,n){return t.push(n),t},o.countIf=function(t,n){return o.accumulateNumber(t,function(e,r){return n(e,r)?1:0})},o.clear=function(t){t.splice(0)},o.merge=function(t,n,e,r,i,s){if(i===void 0&&(i=0),s===void 0&&(s=t.length),t=t.slice(i,s),s-i<2)return t;for(var l=(t=t.sort(n))[i],g=[l],p=i+1;p<s;p++){var f=t[p];e(l,f)?r(l,f):(l=f,g.push(l))}return g},o.min=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);var i=o.minExtended(t,n,e,r);return i?i.minElement:null},o.max=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);var i=o.maxExtended(t,n,e,r);return i?i.maxElement:null},o.minMax=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);var i=o.minMaxExtended(t,n,e,r);return i?new c.MinMax(i.minElement,i.maxElement):null},o.minExtended=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=n(i),l=e+1;l<r;l++){var g=t[l],p=n(g);p<s&&(s=p,i=g)}return new c.ExtendedMin(i,s)},o.maxExtended=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=n(i),l=e+1;l<r;l++){var g=t[l],p=n(g);p>s&&(s=p,i=g)}return new c.ExtendedMax(i,s)},o.minMaxExtended=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=i,l=n(i),g=l,p=e+1;p<r;p++){var f=t[p],y=n(f);y<l?(l=y,i=f):y>g&&(g=y,s=f)}return new c.ExtendedMinMax(i,l,s,g)},o.minByCmp=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=e+1;s<r;s++){var l=t[s];n(l,i)<0&&(i=l)}return i},o.maxByCmp=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=e+1;s<r;s++){var l=t[s];n(l,i)>0&&(i=l)}return i},o.minMaxByCmp=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=i,l=e+1;l<r;l++){var g=t[l],p=n(g,i);p>0?s=g:p<0&&(i=g)}return new c.MinMax(i,s)},o}();h.ListUtils=u},8679:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.MathUtils=void 0;var c=a(2940),d=function(){function u(){}return u.round=function(o,t){t===void 0&&(t=0);var n=u.powFactor[t];return Math.round(o*n)/n},u.numberCloseTo=function(o,t,n){return n===void 0&&(n=1e-5),Math.abs(o-t)<n},u.restrictValue=function(o,t,n){return n<t&&(n=t),o>n?n:o<t?t:o},u.getRandomInt=function(o,t){return Math.floor(Math.random()*(t-o+1))+o},u.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var t=16*Math.random()|0;return(o==="x"?t:3&t|8).toString(16)})},u.powFactor=c.ListUtils.initByCallback(20,function(o){return Math.pow(10,o)}),u.somePrimes=[1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003],u}();h.MathUtils=d},49:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StringUtils=void 0;var a=function(){function c(){}return c.isAlpha=function(d){return d>="a"&&d<="z"||d>="A"&&d<="Z"},c.isDigit=function(d){return d>="0"&&d<="9"},c.stringHashCode=function(d){var u=0;if(d.length===0)return u;for(var o=d.length,t=0;t<o;t++)u=(u<<5)-u+d.charCodeAt(t),u|=0;return u},c.endsAt=function(d,u){var o=d.length-1,t=u.length-1,n=o-t;if(n<0)return!1;for(;o>=n;o--,t--)if(d[o]!==u[t])return!1;return!0},c.startsAt=function(d,u){return d.substr(0,u.length)===u},c.stringInLowerCase=function(d){return d.toLowerCase()===d},c.stringInUpperCase=function(d){return d.toUpperCase()===d},c.atLeastOneSymbolInUpperCase=function(d){for(var u=0,o=void 0;o=d[u];u++)if(c.stringInUpperCase(o)&&!c.stringInLowerCase(o))return!0;return!1},c.getSymbolFromEnd=function(d,u){return d[d.length-u]},c.trim=function(d,u){if(u===void 0)return c.trimInternal(d,!0,!0);var o=u.join("");return d.replace(new RegExp("(^["+o+"]*)|(["+o+"]*$)","g"),"")},c.trimStart=function(d,u){if(u===void 0)return c.trimInternal(d,!0,!1);var o=u.join("");return d.replace(new RegExp("^["+o+"]*","g"),"")},c.trimEnd=function(d,u){if(u===void 0)return c.trimInternal(d,!1,!0);var o=u.join("");return d.replace(new RegExp("["+o+"]*$","g"),"")},c.getDecimalSeparator=function(){return 1.1.toLocaleString().substr(1,1)},c.repeat=function(d,u){return new Array(u<=0?0:u+1).join(d)},c.isNullOrEmpty=function(d){return!d||!d.length},c.padLeft=function(d,u,o){return c.repeat(o,Math.max(0,u-d.length))+d},c.trimInternal=function(d,u,o){var t=d.length;if(!t)return d;if(t<764833){var n=d;return u&&(n=n.replace(/^\s+/,"")),o&&(n=n.replace(/\s+$/,"")),n}var e=0;if(o)for(;t>0&&/\s/.test(d[t-1]);)t--;if(u&&t>0)for(;e<t&&/\s/.test(d[e]);)e++;return d.substring(e,t)},c}();h.StringUtils=a},1632:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TouchUtils=void 0;var c=a(9279),d=a(2491),u=function(){function o(){}return o.onEventAttachingToDocument=function(t,n){return!c.Browser.MacOSMobilePlatform||!o.isTouchEventName(t)||(o.documentTouchHandlers[t]||(o.documentTouchHandlers[t]=[]),o.documentTouchHandlers[t].push(n),o.documentEventAttachingAllowed)},o.isTouchEventName=function(t){return c.Browser.WebKitTouchUI&&(t.indexOf("touch")>-1||t.indexOf("gesture")>-1)},o.isTouchEvent=function(t){return c.Browser.WebKitTouchUI&&d.isDefined(t.changedTouches)},o.getEventX=function(t){return c.Browser.IE?t.pageX:t.changedTouches[0].pageX},o.getEventY=function(t){return c.Browser.IE?t.pageY:t.changedTouches[0].pageY},o.touchMouseDownEventName=c.Browser.WebKitTouchUI?"touchstart":c.Browser.Edge&&c.Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",o.touchMouseUpEventName=c.Browser.WebKitTouchUI?"touchend":c.Browser.Edge&&c.Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",o.touchMouseMoveEventName=c.Browser.WebKitTouchUI?"touchmove":c.Browser.Edge&&c.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",o.msTouchDraggableClassName="dxMSTouchDraggable",o.documentTouchHandlers={},o.documentEventAttachingAllowed=!0,o}();h.TouchUtils=u},8721:(S,h,a)=>{a.r(h)},639:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BarManager=void 0;var a=function(){function c(d,u){this.commandManager=d,this.bars=u}return c.prototype.updateContextMenu=function(){for(var d=0,u=void 0;u=this.bars[d];d++)if(u.isContextMenu()){u.updateItemsList();for(var o=u.getCommandKeys(),t=0;t<o.length;t++)this.updateBarItem(u,o[t])}},c.prototype.updateItemsState=function(d){for(var u=!!d.length,o=function(r,i){if(i.isVisible()){for(var s=i.getCommandKeys(),l=function(p){if(u&&!d.filter(function(f){return f==s[p]}).length)return"continue";t.updateBarItem(i,s[p])},g=0;g<s.length;g++)l(g);i.completeUpdate()}},t=this,n=0,e=void 0;e=this.bars[n];n++)o(0,e)},c.prototype.updateBarItem=function(d,u){var o=this.commandManager.getCommand(u);if(o){var t=o.getState();d.setItemVisible(u,t.visible),t.visible&&(d.setItemEnabled(u,t.enabled),d.setItemValue(u,t.value))}},c}();h.BarManager=a},3290:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GanttClientCommand=void 0,function(a){a[a.CreateTask=0]="CreateTask",a[a.CreateSubTask=1]="CreateSubTask",a[a.RemoveTask=2]="RemoveTask",a[a.RemoveDependency=3]="RemoveDependency",a[a.TaskInformation=4]="TaskInformation",a[a.TaskAddContextItem=5]="TaskAddContextItem",a[a.Undo=6]="Undo",a[a.Redo=7]="Redo",a[a.ZoomIn=8]="ZoomIn",a[a.ZoomOut=9]="ZoomOut",a[a.FullScreen=10]="FullScreen",a[a.CollapseAll=11]="CollapseAll",a[a.ExpandAll=12]="ExpandAll",a[a.ResourceManager=13]="ResourceManager",a[a.ToggleResources=14]="ToggleResources",a[a.ToggleDependencies=15]="ToggleDependencies"}(h.GanttClientCommand||(h.GanttClientCommand={}))},3756:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CollapseAllCommand=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new u.SimpleCommandState(this.isEnabled())},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.collapseAll(),!0},n.prototype.isEnabled=function(){return!0},n}(d.CommandBase);h.CollapseAllCommand=o},6585:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ExpandAllCommand=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new u.SimpleCommandState(this.isEnabled())},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.expandAll(),!0},n.prototype.isEnabled=function(){return!0},n}(d.CommandBase);h.ExpandAllCommand=o},9687:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CommandBase=void 0;var a=function(){function c(d){this.control=d}return Object.defineProperty(c.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"history",{get:function(){return this.control.history},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"validationController",{get:function(){return this.control.validationController},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!1,configurable:!0}),c.prototype.execute=function(){for(var d=[],u=0;u<arguments.length;u++)d[u]=arguments[u];if(!this.state.enabled)return!1;var o=this.executeInternal.apply(this,d);return o&&this.control.barManager.updateItemsState([]),o},c.prototype.isEnabled=function(){return this.control.settings.editing.enabled},c.prototype.executeInternal=function(){for(var d=[],u=0;u<arguments.length;u++)d[u]=arguments[u];throw new Error("Not implemented")},c}();h.CommandBase=a},7156:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CommandManager=void 0;var c=a(5237),d=a(126),u=a(5477),o=a(6152),t=a(3290),n=a(3756),e=a(6585),r=a(4118),i=a(3044),s=a(9762),l=a(7823),g=a(3250),p=a(9072),f=a(1955),y=a(1757),m=a(7977),v=a(9793),T=a(358),b=a(9791),w=a(3936),A=a(5258),D=a(2018),_=a(4195),M=a(2714),x=a(299),N=a(2231),C=function(){function O(L){this.control=L,this.commands={},this.createCommand(t.GanttClientCommand.CreateTask,this.createTaskCommand),this.createCommand(t.GanttClientCommand.CreateSubTask,this.createSubTaskCommand),this.createCommand(t.GanttClientCommand.RemoveTask,this.removeTaskCommand),this.createCommand(t.GanttClientCommand.RemoveDependency,this.removeDependencyCommand),this.createCommand(t.GanttClientCommand.TaskInformation,this.showTaskEditDialog),this.createCommand(t.GanttClientCommand.ResourceManager,this.showResourcesDialog),this.createCommand(t.GanttClientCommand.TaskAddContextItem,new M.TaskAddContextItemCommand(this.control)),this.createCommand(t.GanttClientCommand.Undo,new p.UndoCommand(this.control)),this.createCommand(t.GanttClientCommand.Redo,new g.RedoCommand(this.control)),this.createCommand(t.GanttClientCommand.ZoomIn,new x.ZoomInCommand(this.control)),this.createCommand(t.GanttClientCommand.ZoomOut,new N.ZoomOutCommand(this.control)),this.createCommand(t.GanttClientCommand.FullScreen,new l.ToggleFullScreenCommand(this.control)),this.createCommand(t.GanttClientCommand.CollapseAll,new n.CollapseAllCommand(this.control)),this.createCommand(t.GanttClientCommand.ExpandAll,new e.ExpandAllCommand(this.control)),this.createCommand(t.GanttClientCommand.ToggleResources,this.toggleResources),this.createCommand(t.GanttClientCommand.ToggleDependencies,this.toggleDependencies)}return Object.defineProperty(O.prototype,"createTaskCommand",{get:function(){return new A.CreateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"createSubTaskCommand",{get:function(){return new w.CreateSubTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"removeTaskCommand",{get:function(){return new _.RemoveTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"updateTaskCommand",{get:function(){return new D.UpdateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"createDependencyCommand",{get:function(){return new r.CreateDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"removeDependencyCommand",{get:function(){return new i.RemoveDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"createResourceCommand",{get:function(){return new y.CreateResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"removeResourceCommand",{get:function(){return new T.RemoveResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"assignResourceCommand",{get:function(){return new f.AssignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"deassignResourceCommand",{get:function(){return new m.DeassignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"changeResourceColorCommand",{get:function(){return new v.ResourceColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"showTaskEditDialog",{get:function(){return new o.TaskEditDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"showConstraintViolationDialog",{get:function(){return new d.ConstraintViolationDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"showConfirmationDialog",{get:function(){return new c.ConfirmationDialog(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"showResourcesDialog",{get:function(){return new u.ResourcesDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"toggleResources",{get:function(){return new b.ToggleResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"toggleDependencies",{get:function(){return new s.ToggleDependenciesCommand(this.control)},enumerable:!1,configurable:!0}),O.prototype.getCommand=function(L){return this.commands[L]},O.prototype.createCommand=function(L,R){this.commands[L]=R},O}();h.CommandManager=C},4118:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CreateDependencyCommand=void 0;var c=a(655),d=a(5950),u=a(3279),o=a(1211),t=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return c.__extends(e,n),e.prototype.execute=function(r,i,s){return n.prototype.execute.call(this,r,i,s)},e.prototype.executeInternal=function(r,i,s){if(this.control.viewModel.dependencies.items.filter(function(p){return p.predecessorId===r&&p.successorId===i||p.successorId===r&&p.predecessorId===i}).length)return!1;var l=new u.DependencyInsertingArguments(r,i,s);if(this.modelManipulator.dispatcher.notifyDependencyInserting(l),l.cancel)return!1;if(r=l.predecessorId,i=l.successorId,s=l.type,this.control.history.beginTransaction(),this.history.addAndRedo(new o.InsertDependencyHistoryItem(this.modelManipulator,r,i,s)),this.control.isValidateDependenciesRequired()){var g=this.control.viewModel.tasks.getItemById(r);s===d.DependencyType.SF||s===d.DependencyType.SS?this.control.validationController.moveStartDependTasks(r,g.start):this.control.validationController.moveEndDependTasks(r,g.end)}return this.control.history.endTransaction(),!0},e.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyInsert},e}(a(2291).DependencyCommandBase);h.CreateDependencyCommand=t},2291:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DependencyCommandBase=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new u.SimpleCommandState(this.isEnabled())},n}(d.CommandBase);h.DependencyCommandBase=o},3044:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RemoveDependencyCommand=void 0;var c=a(655),d=a(9544),u=a(5139),o=a(4797),t=a(5865),n=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return c.__extends(r,e),r.prototype.execute=function(i,s){var l=this;return s===void 0&&(s=!0),s?(this.control.commandManager.showConfirmationDialog.execute(new u.ConfirmationDialogParameters(d.ConfirmationType.DependencyDelete,function(){l.executeInternal(i)})),!1):e.prototype.execute.call(this,i)},r.prototype.executeInternal=function(i){if((i=i||this.control.taskEditController.dependencyId)!=null){var s=this.control.viewModel.dependencies.items.filter(function(g){return g.internalId===i})[0];if(s){var l=new o.DependencyRemovingArguments(s);if(this.modelManipulator.dispatcher.notifyDependencyRemoving(l),!l.cancel)return this.history.addAndRedo(new t.RemoveDependencyHistoryItem(this.modelManipulator,i)),i===this.control.taskEditController.dependencyId&&this.control.taskEditController.selectDependency(null),this.control.barManager.updateItemsState([]),!0}}return!1},r.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDelete},r.prototype.getState=function(){var i=e.prototype.getState.call(this);return i.visible=i.enabled&&this.control.taskEditController.dependencyId!=null,i},r}(a(2291).DependencyCommandBase);h.RemoveDependencyCommand=n},9762:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ToggleDependenciesCommand=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new u.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.toggleDependencies(),!0},n}(d.CommandBase);h.ToggleDependenciesCommand=o},7823:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ToggleFullScreenCommand=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.isInFullScreenMode=!1,e.fullScreenTempVars={},e}return c.__extends(n,t),n.prototype.getState=function(){var e=new u.SimpleCommandState(!0);return e.value=this.control.fullScreenModeHelper.isInFullScreenMode,e},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.fullScreenModeHelper.toggle(),!0},n}(d.CommandBase);h.ToggleFullScreenCommand=o},3250:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RedoCommand=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){var e=new u.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.history.redo(),!0},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.history.canRedo()},n}(d.CommandBase);h.RedoCommand=o},9072:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UndoCommand=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){var e=new u.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.history.undo(),!0},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.history.canUndo()},n}(d.CommandBase);h.UndoCommand=o},1955:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AssignResourceCommand=void 0;var c=a(655),d=a(1389),u=a(3683),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.execute=function(e,r){return t.prototype.execute.call(this,e,r)},n.prototype.executeInternal=function(e,r){if(!this.control.viewModel.assignments.items.filter(function(l){return l.resourceId===e&&l.taskId===r})[0]){var i=this.control.viewModel,s=new d.ResourceAssigningArguments(i.convertInternalToPublicKey("resource",e),i.convertInternalToPublicKey("task",r));if(this.modelManipulator.dispatcher.notifyResourceAssigning(s),!s.cancel)return this.history.addAndRedo(new u.AssignResourceHistoryItem(this.modelManipulator,i.convertPublicToInternalKey("resource",s.resourceId),i.convertPublicToInternalKey("task",s.taskId))),!0}return!1},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},n}(a(200).ResourceCommandBase);h.AssignResourceCommand=o},1757:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CreateResourceCommand=void 0;var c=a(655),d=a(990),u=a(2961),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.execute=function(e,r,i){return r===void 0&&(r=""),t.prototype.execute.call(this,e,r,i)},n.prototype.executeInternal=function(e,r,i){r===void 0&&(r="");var s=new d.ResourceInsertingArguments(e,r);return this.modelManipulator.dispatcher.notifyResourceCreating(s),s.cancel||this.history.addAndRedo(new u.CreateResourceHistoryItem(this.modelManipulator,s.text,s.color,i)),!s.cancel},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceInsert},n}(a(200).ResourceCommandBase);h.CreateResourceCommand=o},7977:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DeassignResourceCommand=void 0;var c=a(655),d=a(1493),u=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.execute=function(n){return o.prototype.execute.call(this,n)},t.prototype.executeInternal=function(n){var e=this.control.viewModel.assignments.items.filter(function(r){return r.internalId===n})[0];return!(!e||!this.modelManipulator.dispatcher.fireResourceUnassigning(e))&&(this.history.addAndRedo(new d.DeassignResourceHistoryItem(this.modelManipulator,n)),!0)},t.prototype.isEnabled=function(){return o.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},t}(a(200).ResourceCommandBase);h.DeassignResourceCommand=u},9793:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceColorCommand=void 0;var c=a(655),d=a(4641),u=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.execute=function(n,e){return o.prototype.execute.call(this,n,e)},t.prototype.executeInternal=function(n,e){return this.control.viewModel.resources.getItemById(n).color!==e&&(this.history.addAndRedo(new d.ResourceColorHistoryItem(this.modelManipulator,n,e)),!0)},t}(a(9876).ResourcePropertyCommandBase);h.ResourceColorCommand=u},9876:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourcePropertyCommandBase=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new u.SimpleCommandState(this.isEnabled())},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceUpdate},n}(d.CommandBase);h.ResourcePropertyCommandBase=o},358:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RemoveResourceCommand=void 0;var c=a(655),d=a(9748),u=a(7466),o=a(1493),t=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return c.__extends(e,n),e.prototype.execute=function(r){return n.prototype.execute.call(this,r)},e.prototype.executeInternal=function(r){var i=this,s=this.control.viewModel.resources.items.filter(function(p){return p.internalId===r})[0];if(s){var l=new d.ResourceRemovingArguments(s);if(this.modelManipulator.dispatcher.notifyResourceRemoving(l),!l.cancel){var g=new u.RemoveResourceHistoryItem(this.modelManipulator,r);return this.control.viewModel.assignments.items.filter(function(p){return p.resourceId===r}).forEach(function(p){i.modelManipulator.dispatcher.fireResourceUnassigning(p)&&g.add(new o.DeassignResourceHistoryItem(i.modelManipulator,p.internalId))}),this.history.addAndRedo(g),!0}}return!1},e.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceDelete},e}(a(200).ResourceCommandBase);h.RemoveResourceCommand=t},200:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceCommandBase=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new u.SimpleCommandState(this.isEnabled())},n}(d.CommandBase);h.ResourceCommandBase=o},9791:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ToggleResourceCommand=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new u.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.toggleResources(),!0},n}(d.CommandBase);h.ToggleResourceCommand=o},4409:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SimpleCommandState=void 0;var a=function(c,d){this.visible=!0,this.enabled=c,this.value=d};h.SimpleCommandState=a},3936:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CreateSubTaskCommand=void 0;var c=a(655),d=a(4605),u=a(1284),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.execute=function(e){return t.prototype.execute.call(this,e)},n.prototype.executeInternal=function(e){e=e||this.control.currentSelectedTaskID;var r=this.control.viewModel.findItem(e);if(r.selected){var i={start:new Date(r.task.start.getTime()),end:new Date(r.task.end.getTime()),title:"New task",progress:0,parentId:e},s=new d.TaskInsertingArguments(null,i);if(this.modelManipulator.dispatcher.notifyTaskCreating(s),!s.cancel){this.history.addAndRedo(new u.CreateTaskHistoryItem(this.modelManipulator,s));var l=this.control.viewModel.findItem(i.parentId);t.prototype.updateParent.call(this,l)}return!s.cancel}return!1},n.prototype.isEnabled=function(){var e=this.control,r=e.viewModel.findItem(e.currentSelectedTaskID);return t.prototype.isEnabled.call(this)&&!!r&&r.selected},n.prototype.getState=function(){var e=t.prototype.getState.call(this),r=this.control;return e.visible=e.visible&&r.settings.editing.allowTaskInsert,e},n}(a(9254).TaskCommandBase);h.CreateSubTaskCommand=o},5258:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CreateTaskCommand=void 0;var c=a(655),d=a(4605),u=a(1284),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.execute=function(e){return t.prototype.execute.call(this,e)},n.prototype.executeInternal=function(e){var r,i;if(e!=null||(e={}),!e.parentId){var s=this.control.viewModel.findItem(this.control.currentSelectedTaskID),l=s&&s.task;l&&(e.parentId=l.parentId)}var g=this.control.viewModel.findItem(e.parentId)||this.control.viewModel.items[0],p=g&&g.task;e.start||(e.start=p?new Date(p.start.getTime()):new Date(this.control.range.start.getTime())),e.end||(e.end=p?new Date(p.end.getTime()):new Date(this.control.range.end.getTime())),(r=e.title)!==null&&r!==void 0||(e.title="New task"),(i=e.progress)!==null&&i!==void 0||(e.progress=0);var f=new d.TaskInsertingArguments(null,e);if(this.modelManipulator.dispatcher.notifyTaskCreating(f),!f.cancel){this.history.addAndRedo(new u.CreateTaskHistoryItem(this.modelManipulator,f));var y=this.control.viewModel.findItem(e.parentId);t.prototype.updateParent.call(this,y)}return!f.cancel},n.prototype.getState=function(){var e=t.prototype.getState.call(this);return e.visible=e.visible&&this.control.settings.editing.allowTaskInsert,e},n}(a(9254).TaskCommandBase);h.CreateTaskCommand=o},4195:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RemoveTaskCommand=void 0;var c=a(655),d=a(9544),u=a(5139),o=a(4642),t=a(5865),n=a(1493),e=a(9599),r=function(i){function s(){return i!==null&&i.apply(this,arguments)||this}return c.__extends(s,i),s.prototype.execute=function(l,g,p,f,y,m){var v=this;return g===void 0&&(g=!0),p===void 0&&(p=!1),f===void 0&&(f=!0),this.isApiCall=p,this.isUpdateParentTaskRequired=f,g?(this.control.commandManager.showConfirmationDialog.execute(new u.ConfirmationDialogParameters(d.ConfirmationType.TaskDelete,function(){v.executeInternal(l,y,m)})),!1):i.prototype.execute.call(this,l,y,m)},s.prototype.executeInternal=function(l,g,p){var f=this,y=p||[];l=l||this.control.currentSelectedTaskID;var m=this.control.viewModel.findItem(l),v=m?m.task:this.control.viewModel.tasks.getItemById(l),T=new o.TaskRemovingArguments(v);if(this.modelManipulator.dispatcher.notifyTaskRemoving(T),T.cancel)return!1;var b=this.history,w=this.control.viewModel;b.beginTransaction(),w.beginUpdate();var A=!!g,D=new e.RemoveTaskHistoryItem(this.modelManipulator,l),_=w.tasks.items.filter(function(C){return C.parentId===l}),M=_.map(function(C){return C.internalId}),x=w.dependencies.items.filter(function(C){return y.indexOf(C.internalId)===-1&&(C.predecessorId===l||C.successorId===l)&&!M.some(function(O){return C.predecessorId===O||C.successorId===O})});if(x.length){if(!this.control.settings.editing.allowDependencyDelete)return!1;x.forEach(function(C){D.add(new t.RemoveDependencyHistoryItem(f.modelManipulator,C.internalId)),y.push(C.internalId)})}if(w.assignments.items.filter(function(C){return C.taskId===l}).forEach(function(C){f.modelManipulator.dispatcher.fireResourceUnassigning(C)&&D.add(new n.DeassignResourceHistoryItem(f.modelManipulator,C.internalId))}),_.reverse().forEach(function(C){return new s(f.control).execute(C.internalId,!1,!0,!1,D,y)}),A?g.add(D):b.addAndRedo(D),this.isUpdateParentTaskRequired){var N=this.control.viewModel.findItem(v.parentId);i.prototype.updateParent.call(this,N)}return b.endTransaction(),w.endUpdate(),!0},s.prototype.isEnabled=function(){var l=this.control,g=l.viewModel.findItem(l.currentSelectedTaskID);return i.prototype.isEnabled.call(this)&&(!!g&&g.selected||this.isApiCall)},s.prototype.getState=function(){var l=i.prototype.getState.call(this),g=this.control;return l.visible=l.visible&&g.settings.editing.allowTaskDelete,l},s}(a(9254).TaskCommandBase);h.RemoveTaskCommand=r},2714:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAddContextItemCommand=void 0;var c=a(655),d=function(u){function o(){return u!==null&&u.apply(this,arguments)||this}return c.__extends(o,u),o.prototype.getState=function(){var t=u.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},o.prototype.execute=function(){return!1},o}(a(9254).TaskCommandBase);h.TaskAddContextItemCommand=d},9254:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskCommandBase=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.isApiCall=!1,e}return c.__extends(n,t),n.prototype.getState=function(){var e=new u.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled&&!this.control.taskEditController.dependencyId,e},n.prototype.updateParent=function(e){this.validationController._parentAutoCalc&&e&&e.children.length>0&&this.control.validationController.updateParentsIfRequired(e.children[0].task.internalId)},n}(d.CommandBase);h.TaskCommandBase=o},2018:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UpdateTaskCommand=void 0;var c=a(655),d=a(2491),u=a(9544),o=a(3433),t=a(5865),n=a(9496),e=a(9201),r=function(i){function s(){return i!==null&&i.apply(this,arguments)||this}return c.__extends(s,i),s.prototype.execute=function(l,g){return i.prototype.execute.call(this,l,g)},s.prototype.executeInternal=function(l,g){var p=this.control.viewModel.tasks.getItemById(l);if(!p)return!1;var f=this.control.modelManipulator.dispatcher.raiseTaskUpdating(p,g,function(m){g.title=m.title,g.progress=m.progress,g.start=m.start,g.end=m.end,g.color=m.color});if(f){(0,d.isDefined)(g.start)&&(0,d.isDefined)(g.end)&&g.end.getTime()<g.start.getTime()&&(g.end=g.start),(0,d.isDefined)(g.progress)&&(g.progress=Math.max(Math.min(g.progress,100),0));var y=this.filterChangedValues(g,p);this.processDependecyValidation(y,p)}return f},s.prototype.isEnabled=function(){return i.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},s.prototype.filterChangedValues=function(l,g){if(!l)return null;var p={};for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(0,d.isDefined)(l[f])&&g[f]!==l[f]&&(p[f]=l[f]);return p},s.prototype.processDependecyValidation=function(l,g){var p=this,f=function(b){p.onAfterValidationCallback(l,g,b)},y=this.control.isValidateDependenciesRequired();if(y){var m=[],v=(0,d.isDefined)(l.start)&&l.start!==g.start,T=(0,d.isDefined)(l.end)&&l.end!==g.end;v&&y&&(m=m.concat(this.control.validationController.checkStartDependencies(g.internalId,l.start))),T&&y&&(m=m.concat(this.control.validationController.checkEndDependencies(g.internalId,l.end))),m.length>0?this.control.commandManager.showConstraintViolationDialog.execute(new o.ConstraintViolationDialogParameters(m,f)):f(null)}else f(null)},s.prototype.onAfterValidationCallback=function(l,g,p){var f=this;if(!p||p.option!==u.ConstraintViolationOption.DoNothing||(delete l.start,delete l.end),Object.keys(l).length>0){this.history.beginTransaction(),(p==null?void 0:p.option)===u.ConstraintViolationOption.RemoveDependency&&p.validationErrors.forEach(function(b){return f.history.addAndRedo(new t.RemoveDependencyHistoryItem(f.modelManipulator,b.dependencyId))});var y=this.control.isValidateDependenciesRequired(),m=g.internalId,v=g.start,T=g.end;this.history.addAndRedo(new n.UpdateTaskHistoryItem(this.modelManipulator,m,l)),(0,d.isDefined)(l.start)&&y&&this.control.validationController.moveStartDependTasks(m,v),(0,d.isDefined)(l.end)&&y&&this.control.validationController.moveEndDependTasks(m,T),this.processAutoParentUpdate(m,l,v,T),this.history.endTransaction(),(p==null?void 0:p.option)!==u.ConstraintViolationOption.RemoveDependency&&(p==null?void 0:p.option)!==u.ConstraintViolationOption.KeepDependency||this.control.updateBarManager(),this.control.updateViewDataRange()}},s.prototype.processAutoParentUpdate=function(l,g,p,f){var y=(0,d.isDefined)(g.start),m=(0,d.isDefined)(g.end),v=(0,d.isDefined)(g.progress)||y||m,T=y?g.start.getTime()-p.getTime():null,b=m?g.end.getTime()-f.getTime():null,w=y&&e.DateUtils.getTimezoneOffsetDiff(p,g.start)!==0,A=m&&e.DateUtils.getTimezoneOffsetDiff(f,g.end)!==0,D=(w||A)&&Math.abs(b-T)===e.DateUtils.msPerHour;v?T!==0&&(T===b||D)?this.validationController.correctParentsOnChildMoving(l,T):this.validationController.updateParentsIfRequired(l):this.control.updateOwnerInAutoParentMode()},s}(a(9254).TaskCommandBase);h.UpdateTaskCommand=r},299:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ZoomInCommand=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new u.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.zoomIn(),!0},n}(d.CommandBase);h.ZoomInCommand=o},2231:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ZoomOutCommand=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new u.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.zoomOut(),!0},n}(d.CommandBase);h.ZoomOutCommand=o},5237:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ConfirmationDialog=void 0;var c=a(655),d=function(u){function o(){return u!==null&&u.apply(this,arguments)||this}return c.__extends(o,u),o.prototype.applyParameters=function(t,n){return this.history.beginTransaction(),n.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([]),!0},o.prototype.createParameters=function(t){return t},o.prototype.getDialogName=function(){return"Confirmation"},o}(a(4730).DialogBase);h.ConfirmationDialog=d},126:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ConstraintViolationDialogCommand=void 0;var c=a(655),d=function(u){function o(){return u!==null&&u.apply(this,arguments)||this}return c.__extends(o,u),o.prototype.applyParameters=function(t,n){return n.callback(t),!0},o.prototype.createParameters=function(t){return t},o.prototype.getDialogName=function(){return"ConstraintViolation"},o}(a(4730).DialogBase);h.ConstraintViolationDialogCommand=d},4730:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DialogBase=void 0;var c=a(655),d=a(9687),u=a(4409),o=function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.isApiCall=!1,e._canRefresh=!0,e}return c.__extends(n,t),n.prototype.execute=function(e,r){return e===void 0&&(e=void 0),r===void 0&&(r=!1),this.isApiCall=r,t.prototype.execute.call(this,e)},n.prototype.executeInternal=function(e){return this.options=e,this.showDialog(e)},Object.defineProperty(n.prototype,"canRefresh",{get:function(){return this._canRefresh},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){this.showDialog(this.options)},n.prototype.showDialog=function(e){var r=this,i=this.createParameters(e),s=i.clone();return!!this.onBeforeDialogShow(i)&&(n.activeInstance=this,this.control.showDialog(this.getDialogName(),i,function(l){l&&(r._canRefresh=!1,r.applyParameters(l,s),r._canRefresh=!0)},function(){delete n.activeInstance,r.afterClosing()}),!0)},n.prototype.onBeforeDialogShow=function(e){return!0},n.prototype.applyParameters=function(e,r){return!1},n.prototype.afterClosing=function(){},n.prototype.getState=function(){return new u.SimpleCommandState(this.isEnabled())},n.activeInstance=null,n}(d.CommandBase);h.DialogBase=o},9544:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ConstraintViolationOption=h.ConfirmationType=void 0,function(a){a[a.TaskDelete=0]="TaskDelete",a[a.DependencyDelete=1]="DependencyDelete",a[a.ResourcesDelete=2]="ResourcesDelete"}(h.ConfirmationType||(h.ConfirmationType={})),function(a){a[a.DoNothing=0]="DoNothing",a[a.RemoveDependency=1]="RemoveDependency",a[a.KeepDependency=2]="KeepDependency"}(h.ConstraintViolationOption||(h.ConstraintViolationOption={}))},5139:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ConfirmationDialogParameters=void 0;var c=a(655),d=function(u){function o(t,n){var e=u.call(this)||this;return e.type=t,e.callback=n,e}return c.__extends(o,u),o.prototype.clone=function(){var t=new o(this.type,this.callback);return t.message=this.message,t},o}(a(9705).DialogParametersBase);h.ConfirmationDialogParameters=d},3433:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ConstraintViolationDialogParameters=void 0;var c=a(655),d=function(u){function o(t,n){var e=u.call(this)||this;return e.validationErrors=t,e.callback=n,e}return c.__extends(o,u),o.prototype.clone=function(){var t=new o(this.validationErrors,this.callback);return t.option=this.option,t},Object.defineProperty(o.prototype,"hasCriticalErrors",{get:function(){var t;return(t=this.validationErrors)===null||t===void 0?void 0:t.some(function(n){return n.critical})},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"errorsCount",{get:function(){var t;return(t=this.validationErrors)===null||t===void 0?void 0:t.length},enumerable:!1,configurable:!0}),o}(a(9705).DialogParametersBase);h.ConstraintViolationDialogParameters=d},9705:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DialogParametersBase=void 0;var a=function(){};h.DialogParametersBase=a},6711:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourcesDialogParameters=void 0;var c=a(655),d=a(8828),u=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.clone=function(){var n=new t;return n.resources=new d.ResourceCollection,n.resources.addRange(this.resources.items),n},t}(a(9705).DialogParametersBase);h.ResourcesDialogParameters=u},1563:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskEditParameters=void 0;var c=a(655),d=a(8828),u=function(o){function t(){var n=o!==null&&o.apply(this,arguments)||this;return n.enableEdit=!0,n.enableRangeEdit=!0,n.isValidationRequired=!1,n.hiddenFields=[],n.readOnlyFields=[],n}return c.__extends(t,o),t.prototype.clone=function(){var n=new t;return n.id=this.id,n.title=this.title,n.progress=this.progress,n.start=this.start,n.end=this.end,n.assigned=new d.ResourceCollection,n.assigned.addRange(this.assigned.items),n.resources=new d.ResourceCollection,n.resources.addRange(this.resources.items),n.showResourcesDialogCommand=this.showResourcesDialogCommand,n.showTaskEditDialogCommand=this.showTaskEditDialogCommand,n.enableEdit=this.enableEdit,n.enableRangeEdit=this.enableRangeEdit,n.hiddenFields=this.hiddenFields.slice(),n.readOnlyFields=this.readOnlyFields.slice(),n.isValidationRequired=this.isValidationRequired,n.getCorrectDateRange=this.getCorrectDateRange,n},t}(a(9705).DialogParametersBase);h.TaskEditParameters=u},5477:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourcesDialogCommand=void 0;var c=a(655),d=a(8828),u=a(4730),o=a(9544),t=a(5139),n=a(6711),e=function(r){function i(){var s=r!==null&&r.apply(this,arguments)||this;return s.resourcesForDelete=[],s}return c.__extends(i,r),i.prototype.onBeforeDialogShow=function(s){return this.modelManipulator.dispatcher.raiseResourceManagerDialogShowing(s,function(l){s.resources=l.values.resources})},i.prototype.applyParameters=function(s,l){this.history.beginTransaction();for(var g=0;g<s.resources.length;g++)l.resources.getItemById(s.resources.getItem(g).internalId)||this.control.commandManager.createResourceCommand.execute(s.resources.getItem(g).text);for(g=0;g<l.resources.length;g++)s.resources.getItemById(l.resources.getItem(g).internalId)||this.resourcesForDelete.push(l.resources.getItem(g));return this.history.endTransaction(),!1},i.prototype.createParameters=function(s){this.callBack=s;var l=new n.ResourcesDialogParameters;return l.resources=new d.ResourceCollection,l.resources.addRange(this.control.viewModel.resources.items),l},i.prototype.afterClosing=function(){var s=this;if(this.resourcesForDelete.length){var l=this.control.commandManager.showConfirmationDialog,g=new t.ConfirmationDialogParameters(o.ConfirmationType.ResourcesDelete,function(){s.history.beginTransaction();for(var p=0;p<s.resourcesForDelete.length;p++)s.control.commandManager.removeResourceCommand.execute(s.resourcesForDelete[p].internalId);s.history.endTransaction()});g.message=this.resourcesForDelete.reduce(function(p,f){return c.__spreadArray(c.__spreadArray([],p,!0),[f.text],!1)},[]).join(", "),this.callBack&&(l.afterClosing=function(){delete u.DialogBase.activeInstance,s.callBack()}),l.execute(g)}else this.callBack&&this.callBack()},i.prototype.getDialogName=function(){return"Resources"},i}(u.DialogBase);h.ResourcesDialogCommand=e},6152:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskEditDialogCommand=void 0;var c=a(655),d=a(8828),u=a(1389),o=a(3683),t=a(1493),n=a(4730),e=a(1563),r=a(2491),i=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return c.__extends(l,s),l.prototype.onBeforeDialogShow=function(g){return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(g,function(p){var f=p.values;g.start=f.start,g.end=f.end,g.progress=f.progress,g.title=f.title,g.readOnlyFields=p.readOnlyFields,g.hiddenFields=p.hiddenFields})},l.prototype.applyParameters=function(g,p){var f=this;this.history.beginTransaction();var y=this.getUpdatedTaskData(g,p);Object.keys(y).length>0&&setTimeout(function(){return f.control.commandManager.updateTaskCommand.execute(p.id,y)},0);for(var m=0;m<g.assigned.length;m++)if(!p.assigned.getItemById(g.assigned.getItem(m).internalId)){var v=g.assigned.getItem(m).internalId,T=p.id,b=new u.ResourceAssigningArguments(v,T);this.modelManipulator.dispatcher.notifyResourceAssigning(b),b.cancel||this.history.addAndRedo(new o.AssignResourceHistoryItem(this.modelManipulator,b.resourceId,b.taskId))}var w=function(D){var _=p.assigned.getItem(D);if(!g.assigned.getItemById(_.internalId)){var M=A.control.viewModel.assignments.items.filter(function(x){return x.resourceId===_.internalId&&x.taskId===p.id})[0];A.modelManipulator.dispatcher.fireResourceUnassigning(M)&&A.history.addAndRedo(new t.DeassignResourceHistoryItem(A.modelManipulator,M.internalId))}},A=this;for(m=0;m<p.assigned.length;m++)w(m);return this.history.endTransaction(),!1},l.prototype.getUpdatedTaskData=function(g,p){var f={};return(0,r.isDefined)(g.title)&&p.title!==g.title&&(f.title=g.title),(0,r.isDefined)(g.progress)&&p.progress!==g.progress&&(f.progress=g.progress),(0,r.isDefined)(g.start)&&p.start!==g.start&&(f.start=g.start),(0,r.isDefined)(g.end)&&p.end!==g.end&&(f.end=g.end),f},l.prototype.createParameters=function(g){var p=this;g=g||this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);var f=new e.TaskEditParameters;return f.id=g.internalId,f.title=g.title,f.progress=g.progress,f.start=g.start,f.end=g.end,f.assigned=this.control.viewModel.getAssignedResources(g),f.resources=new d.ResourceCollection,f.resources.addRange(this.control.viewModel.resources.items),f.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,f.showTaskEditDialogCommand=this.control.commandManager.showTaskEditDialog,f.enableEdit=this.isTaskEditEnabled(),f.enableRangeEdit=this.isTaskRangeEditEnabled(g),f.isValidationRequired=this.control.isValidateDependenciesRequired(),f.getCorrectDateRange=function(y,m,v){return p.control.validationController.getCorrectDateRange(y,m,v)},f},l.prototype.isTaskEditEnabled=function(){var g=this.control.settings;return g.editing.enabled&&g.editing.allowTaskUpdate},l.prototype.isTaskRangeEditEnabled=function(g){return!this.control.viewModel.isTaskToCalculateByChildren(g.internalId)},l.prototype.isEnabled=function(){var g=this.control,p=g.viewModel.findItem(g.currentSelectedTaskID);return!!p&&p.selected||this.isApiCall},l.prototype.getState=function(){var g=s.prototype.getState.call(this);return g.visible=g.visible&&!this.control.taskEditController.dependencyId,g},l.prototype.getDialogName=function(){return"TaskEdit"},l}(n.DialogBase);h.TaskEditDialogCommand=i},6893:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GanttExportCalculator=void 0;var c=a(8900),d=a(6907),u=a(2449),o=a(1855),t=a(4991),n=a(2485),e=a(3917),r=a(405),i=a(6995),s=a(5063),l=a(6032),g=a(8603),p=a(6997),f=a(8935),y=a(6353),m=a(3424),v=a(5763),T=a(7802),b=a(9895),w=a(2642),A=function(){function D(_,M){var x,N;this._owner=_,this._props=new p.GanttPdfExportProps(M),(x=(N=this._props).margins)!==null&&x!==void 0||(N.margins=new s.Margin(D._defaultPageMargin))}return Object.defineProperty(D.prototype,"chartTableScaleTopMatrix",{get:function(){var _;return(_=this._chartTableScaleTopMatrix)!==null&&_!==void 0||(this._chartTableScaleTopMatrix=this.calculateChartScaleMatrix(0)),this._chartTableScaleTopMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"chartTableScaleBottomMatrix",{get:function(){var _;return(_=this._chartTableScaleBottomMatrix)!==null&&_!==void 0||(this._chartTableScaleBottomMatrix=this.calculateChartScaleMatrix(1)),this._chartTableScaleBottomMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"chartTableBodyMatrix",{get:function(){return this._chartTableBodyMatrix||this.calculateChartTableBodyMatrix(),this._chartTableBodyMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"treeListHeaderMatrix",{get:function(){return this._treeListHeaderMatrix||this.calculateTreeListTableHeaderMatrix(),this._treeListHeaderMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"treeListBodyMatrix",{get:function(){return this._treeListBodyMatrix||this.calculateTreeListTableBodyMatrix(),this._treeListBodyMatrix},enumerable:!1,configurable:!0}),D.prototype.getPages=function(_){return new m.PdfGanttPaginator(_,this.settings,this.createGlobalInfo()).getPages()},Object.defineProperty(D.prototype,"settings",{get:function(){return this.settingsForPaging},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"layoutCalculator",{get:function(){return this._taskAreaHelper.layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskAreaHelper",{get:function(){var _;return(_=this._taskAreaHelper)!==null&&_!==void 0||(this._taskAreaHelper=new g.TaskAreaExportHelper(this._owner,this._props)),this._taskAreaHelper},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"scalingHelper",{get:function(){var _,M;return(_=this._scalingHelper)!==null&&_!==void 0||(this._scalingHelper=new v.ScalingHelper((M=this._props)===null||M===void 0?void 0:M.pdfDoc)),this._scalingHelper},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"visibleTaskIndices",{get:function(){return this.taskAreaHelper.visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"baseCellWidth",{get:function(){return this.taskAreaHelper.baseCellSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"baseCellHeight",{get:function(){return this.taskAreaHelper.baseCellHeight},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"chartScaleTableStyle",{get:function(){var _;return(_=this._chartScaleTableStyle)!==null&&_!==void 0||(this._chartScaleTableStyle=this.getChartScaleTableStyle()),this._chartScaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"chartMainTableStyle",{get:function(){var _;return(_=this._chartMainTableStyle)!==null&&_!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"treeListTableStyle",{get:function(){return this._treeListTableStyle||this.calculateTreeListTableStyle(),this._treeListTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"pageTopMargin",{get:function(){return this._props.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"pageLeftMargin",{get:function(){return this._props.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"pageRightMargin",{get:function(){return this._props.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"pageBottomMargin",{get:function(){return this._props.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"headerTableTop",{get:function(){var _;return(_=this._headerTableTop)!==null&&_!==void 0||(this._headerTableTop=this.pageTopMargin),this._headerTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"mainTableTop",{get:function(){var _;return(_=this._mainTableTop)!==null&&_!==void 0||(this._mainTableTop=this.getMainTableTop()),this._mainTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"exportDataMode",{get:function(){return this._props.exportDataMode},enumerable:!1,configurable:!0}),D.prototype.getMainTableTop=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.offsetTop},Object.defineProperty(D.prototype,"chartLeft",{get:function(){var _;return(_=this._chartLeft)!==null&&_!==void 0||(this._chartLeft=this.getChartLeft()),this._chartLeft},enumerable:!1,configurable:!0}),D.prototype.getChartLeft=function(){var _;return((((_=this._props)===null||_===void 0?void 0:_.exportMode)||b.ExportMode.all)===b.ExportMode.chart?this.pageLeftMargin:this.treeListLeft+this.treeListWidth)-this.taskAreaHelper.offsetLeft},Object.defineProperty(D.prototype,"treeListLeft",{get:function(){var _;return(_=this._treeListLeft)!==null&&_!==void 0||(this._treeListLeft=this.pageLeftMargin),this._treeListLeft},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"headerTableHeight",{get:function(){return 2*this.taskAreaHelper.headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"mainTableHeight",{get:function(){var _;return(_=this._mainTableHeight)!==null&&_!==void 0||(this._mainTableHeight=this.taskAreaHelper.taskAreaHeight),this._mainTableHeight},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"treeListWidth",{get:function(){var _;return(_=this._treeListWidth)!==null&&_!==void 0||(this._treeListWidth=this.getTreeListTableWidth()),this._treeListWidth},enumerable:!1,configurable:!0}),D.prototype.getTreeListTableWidth=function(){var _,M=this,x=this.treeListHeaderMatrix[0].map(function(N,C){return M.getTreeListColumnWidth(C)});return(_=x==null?void 0:x.reduce(function(N,C){return N+C},0))!==null&&_!==void 0?_:0},Object.defineProperty(D.prototype,"chartWidth",{get:function(){var _=this;if(!this._chartWidth){var M=this.chartTableScaleBottomMatrix[0];this._chartWidth=M.reduce(function(x,N){return x+(N.styles.cellWidth.hasValue()?N.styles.cellWidth.getValue():_.baseCellWidth)},0)}return this._chartWidth},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"settingsForPaging",{get:function(){return this._settingsForPaging||(this._settingsForPaging=new p.GanttPdfExportProps(this._props),this.prepareAutoFormat(this._settingsForPaging),this.scalingHelper.scalePageMargins(this._settingsForPaging)),this._settingsForPaging},enumerable:!1,configurable:!0}),D.prototype.prepareAutoFormat=function(_){if(_.format===p.GanttPdfExportProps.autoFormatKey){_.format=null;var M=_.landscape,x=this.autoFormatWidth,N=this.autoFormatHeight;(M&&N>x||!M&&N<x)&&(_.landscape=!M),_.pageSize=new y.Size(x,N)}},Object.defineProperty(D.prototype,"autoFormatWidth",{get:function(){var _,M=(((_=this._props)===null||_===void 0?void 0:_.exportMode)||b.ExportMode.all)!==b.ExportMode.treeList,x=this.pageRightMargin;return(x+=M?this.chartLeft+this.chartWidth:this.treeListLeft+this.treeListWidth)+D._autoFormatWidthAddStock},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"autoFormatHeight",{get:function(){return this.mainTableTop+this.mainTableHeight+this.pageBottomMargin},enumerable:!1,configurable:!0}),D.prototype.createGlobalInfo=function(){var _={objects:this._canExportChart()?this.getGanttObjectsInfo():null,tables:this.getTablesInfo()};return this.scalingHelper.scaleSizes(_),_},D.prototype.getTablesInfo=function(){var _={};return this._canExportTreelist()&&(_[f.PdfPageTableNames.treeListHeader]=this.createTreeListHeaderTableInfo(),_[f.PdfPageTableNames.treeListMain]=this.createTreeListMainTableInfo()),this._canExportChart()&&(_[f.PdfPageTableNames.chartMain]=this.createChartMainTableInfo(),_[f.PdfPageTableNames.chartScaleTop]=this._createChartScaleTopInfo(),_[f.PdfPageTableNames.chartScaleBottom]=this._createChartScaleBottomInfo()),_},Object.defineProperty(D.prototype,"exportMode",{get:function(){var _,M;return(M=(_=this._props)===null||_===void 0?void 0:_.exportMode)!==null&&M!==void 0?M:b.ExportMode.all},enumerable:!1,configurable:!0}),D.prototype._canExportTreelist=function(){return this.exportMode===b.ExportMode.all||this.exportMode===b.ExportMode.treeList},D.prototype._canExportChart=function(){return this.exportMode===b.ExportMode.all||this.exportMode===b.ExportMode.chart},Object.defineProperty(D.prototype,"_predefinedFont",{get:function(){var _,M,x,N,C=(M=(_=this._props)===null||_===void 0?void 0:_.pdfDoc)===null||M===void 0?void 0:M.getFont();return(C==null?void 0:C.fontName)||((N=(x=this._props)===null||x===void 0?void 0:x.font)===null||N===void 0?void 0:N.name)},enumerable:!1,configurable:!0}),D.prototype._createChartScaleTopInfo=function(){return{name:f.PdfPageTableNames.chartScaleTop,size:new y.Size(this.chartWidth,this.taskAreaHelper.headerRowHeight),position:new c.Point(this.chartLeft,this.headerTableTop),style:this.chartScaleTableStyle,baseCellSize:new y.Size(this.baseCellWidth,this.taskAreaHelper.headerRowHeight),cells:this.chartTableScaleTopMatrix}},D.prototype._createChartScaleBottomInfo=function(){var _=this.taskAreaHelper.headerRowHeight;return{name:f.PdfPageTableNames.chartScaleBottom,size:new y.Size(this.chartWidth,_),position:new c.Point(this.chartLeft,this.headerTableTop+_),style:this.chartScaleTableStyle,baseCellSize:new y.Size(this.baseCellWidth,_),cells:this.chartTableScaleBottomMatrix}},D.prototype.createChartMainTableInfo=function(){return{name:f.PdfPageTableNames.chartMain,size:new y.Size(this.chartWidth,this.mainTableHeight),position:new c.Point(this.chartLeft,this.mainTableTop),style:this.chartMainTableStyle,baseCellSize:new y.Size(this.baseCellWidth,this.baseCellHeight),cells:this.chartTableBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},D.prototype.createTreeListHeaderTableInfo=function(){return{name:f.PdfPageTableNames.treeListHeader,size:new y.Size(this.treeListWidth,this.headerTableHeight),position:new c.Point(this.treeListLeft,this.headerTableTop),style:this.treeListTableStyle,baseCellSize:new y.Size(null,this.headerTableHeight),cells:this.treeListHeaderMatrix}},D.prototype.createTreeListMainTableInfo=function(){return{name:f.PdfPageTableNames.treeListMain,size:new y.Size(this.treeListWidth,this.mainTableHeight),position:new c.Point(this.treeListLeft,this.mainTableTop),style:this.treeListTableStyle,baseCellSize:new y.Size(null,this.baseCellHeight),cells:this.treeListBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},D.prototype.calculateChartScaleMatrix=function(_){for(var M=this.taskAreaHelper,x=M.scaleRanges,N=new Array,C=x[_][0],O=x[_][1],L=C;L<=O;L++){var R=this.layoutCalculator.getScaleItemStart(L,M.scales[_]),H=new l.CellDef(this._owner.renderHelper.getScaleItemTextByStart(R,M.scales[_]));H.styles.cellPadding.assign(0),H.styles.minCellHeight=this.taskAreaHelper.headerRowHeight;var V=_===0?M.scaleTopWidths[L]:M.scaleBottomWidths[L];H.styles.cellWidth.assign(V),N.push(H)}return[N]},D.prototype.calculateChartTableBodyMatrix=function(){var _=this;this._chartTableBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.visibleTaskIndices.forEach(function(M){return _._chartTableBodyMatrix.push(_.createChartTableBodyRow(M))}):this._chartTableBodyMatrix.push(this.createChartTableBodyRow(-1))},D.prototype.createChartTableBodyRow=function(_){var M=new l.CellDef;return this.rowHasChildren(_)&&M.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),this.chartTableScaleBottomMatrix[0].map(function(x){var N=new l.CellDef(M);return N.styles.cellWidth.assign(x.styles.cellWidth),N})},D.prototype.rowHasSelection=function(_){return this._owner.rowHasSelection(_)},D.prototype.rowHasChildren=function(_){return this._owner.rowHasChildren(_)},D.prototype.calculateTreeListTableHeaderMatrix=function(){this._treeListHeaderMatrix=new Array;for(var _=this._owner,M=_.getTreeListColCount(),x=new Array,N=0;N<M;N++){var C=new l.CellDef(_.getTreeListHeaderInfo(N));C.styles.minCellHeight=2*this.taskAreaHelper.headerRowHeight,x.push(C)}this._treeListHeaderMatrix.push(x)},D.prototype.calculateTreeListTableBodyMatrix=function(){this._treeListBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.fillTreeListTableBodyMatrix(this._treeListBodyMatrix):this.fillTreeListEmptyTableBodyMatrix(this._treeListBodyMatrix)},D.prototype.fillTreeListTableBodyMatrix=function(_){for(var M,x=this.visibleTaskIndices,N=this.treeListHeaderMatrix[0].length,C=0;C<x.length;C++){for(var O=new Array,L=x[C],R=(M=this._owner.getTask(L))===null||M===void 0?void 0:M.id,H=0;H<N;H++){var V=new l.CellDef(this._owner.getTreeListCellInfo(L,H,R));V.styles.cellWidth.hasValue()||V.styles.cellWidth.assign(this.getTreeListColumnWidth(H)),this.rowHasChildren(x[C])&&V.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),O.push(V)}_.push(O)}},D.prototype.fillTreeListEmptyTableBodyMatrix=function(_){var M=new Array,x=new l.CellDef(this._owner.getTreeListEmptyDataCellInfo());x.styles.cellWidth.assign(this.treeListWidth),x.styles.halign=w.PredefinedStyles.horizontalAlign[1],x.styles.valign=w.PredefinedStyles.verticalAlign[1],M.push(x),_.push(M)},D.prototype.getTreeListColumnWidth=function(_){var M=this.treeListHeaderMatrix[0][_],x=M&&M.styles;return x.cellWidth.getValue()||x.minCellWidth||0},D.prototype.getObjectsLeftOffset=function(_){_===void 0&&(_=!1);var M=this.dataObjectLeftDelta;return _||(M+=this.taskAreaHelper.customRangeLeftOffset),M},Object.defineProperty(D.prototype,"dataObjectLeftDelta",{get:function(){var _;return(_=this._dataObjectLeftDelta)!==null&&_!==void 0||(this._dataObjectLeftDelta=this.getDataObjectLeftDelta()),this._dataObjectLeftDelta},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"dataObjectTopDelta",{get:function(){var _;return(_=this._dataObjectTopDelta)!==null&&_!==void 0||(this._dataObjectTopDelta=this.getDataObjectTopDelta()),this._dataObjectTopDelta},enumerable:!1,configurable:!0}),D.prototype.getChartScaleTableStyle=function(){var _=new i.StyleDef(this.taskAreaHelper.scaleTableStyle);return this._predefinedFont&&(_.font=this._predefinedFont),_},D.prototype.getChartMainTableStyle=function(){var _=new i.StyleDef(this.taskAreaHelper.chartMainTableStyle);return this._predefinedFont&&(_.font=this._predefinedFont),_},D.prototype.calculateTreeListTableStyle=function(){this._treeListTableStyle=new i.StyleDef(this._owner.getTreeListTableStyle()),this._treeListTableStyle.fillColor.assign(this.chartMainTableStyle.fillColor),this._treeListTableStyle.lineColor.assign(this.chartMainTableStyle.lineColor),this._predefinedFont&&(this._treeListTableStyle.font=this._predefinedFont)},D.prototype.getGanttObjectsInfo=function(){return{tasks:this.tasksInfo,dependencies:this.dependenciesInfo,resources:this.resourcesInfo,timeMarkers:this.timeMarkersInfo}},Object.defineProperty(D.prototype,"tasksInfo",{get:function(){var _;return(_=this._tasksInfo)!==null&&_!==void 0||(this._tasksInfo=this.calculateTasksInfo()),this._tasksInfo},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"dependenciesInfo",{get:function(){var _;return(_=this._dependenciesInfo)!==null&&_!==void 0||(this._dependenciesInfo=this.calculateDependenciesInfo()),this._dependenciesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"resourcesInfo",{get:function(){var _;return(_=this._resourcesInfo)!==null&&_!==void 0||(this._resourcesInfo=this.calculateResourcesInfo()),this._resourcesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"timeMarkersInfo",{get:function(){var _;return(_=this._timeMarkersInfo)!==null&&_!==void 0||(this._timeMarkersInfo=this.calculateTimeMarkersInfoInfo()),this._timeMarkersInfo},enumerable:!1,configurable:!0}),D.prototype.getDataObjectLeftDelta=function(){return this.chartLeft-this.taskAreaHelper.objectsLeftDelta},D.prototype.getDataObjectTopDelta=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.objectsTopDelta},D.prototype.calculateTasksInfo=function(){var _=this,M=new Array;return this.visibleTaskIndices.forEach(function(x){return M.push(_.calculateTaskInfo(x))}),M},D.prototype.calculateTaskInfo=function(_){var M=new e.PdfTaskInfo,x=this.layoutCalculator.getTaskElementInfo(_);return M.taskColor=this.getTaskColor(_),M.sidePoints=this.getTaskSidePoints(_),M.isMilestone=x.className.indexOf(o.GridLayoutCalculator.milestoneClassName)>0,M.isMilestone||(M.isSmallTask=x.className.indexOf(o.GridLayoutCalculator.smallTaskClassName)>0,M.isParent=x.className.indexOf(o.GridLayoutCalculator.parentTaskClassName)>0,this.appendTaskTitle(M,_),this.appendTaskProgress(M,_)),M},D.prototype.appendTaskTitle=function(_,M){var x=this._owner.settings.taskTitlePosition;_.isSmallTask&&x!==u.TaskTitlePosition.Outside||x===u.TaskTitlePosition.None||(_.text=this._owner.getTaskText(M),_.textPosition=x,_.textStyle=this.getTaskTextStyle(M))},D.prototype.appendTaskProgress=function(_,M){var x=this.layoutCalculator.getTaskProgressElementInfo(M);_.progressWidth=x.size.width,_.progressColor=this.getTaskProgressColor(M),_.progressColor.applyOpacityToBackground(_.taskColor)},D.prototype.getTaskSidePoints=function(_){var M=this,x=this.layoutCalculator.getTaskSidePoints(_);return x.forEach(function(N){N.x+=M.getObjectsLeftOffset(!0),N.y+=M.dataObjectTopDelta}),x},D.prototype.getTaskColor=function(_){var M=this.taskAreaHelper.getTaskElementBackColor(_,o.GridLayoutCalculator.taskClassName);return new r.Color(M)},D.prototype.getTaskProgressColor=function(_){return new r.Color(this.taskAreaHelper.getTaskElementBackColor(_,o.GridLayoutCalculator.taskProgressClassName))},D.prototype.getTaskTextStyle=function(_){var M=new i.StyleDef;return M.cellPadding.assign(0),M.assign(this.taskAreaHelper.getTaskElementStyle(_,o.GridLayoutCalculator.taskTitleClassName)),M},D.prototype.calculateDependenciesInfo=function(){var _=this,M=new Array,x=this.taskAreaHelper,N=new r.Color(x.dependencyColor);return x.connectorLines.forEach(function(C){return M.push(_.createLineInfo(C,N,x.arrowWidth))}),M},D.prototype.createLineInfo=function(_,M,x){var N=new t.PdfDependencyLineInfo;if(N.fillColor=M,_.className.indexOf(o.GridLayoutCalculator.arrowClassName)>-1){var C=this.layoutCalculator.getArrowPositionByClassName(_.className);N.arrowInfo={position:C,width:x},N.points=[this.getArrowTopCorner(_,C,x)]}else N.points=this.getLinePoints(_);return N},D.prototype.getArrowTopCorner=function(_,M,x){var N=_.position.x+this.getObjectsLeftOffset(),C=_.position.y+this.dataObjectTopDelta;switch(M){case u.Position.Left:N+=x;break;case u.Position.Top:C+=x}return new c.Point(N,C)},D.prototype.getLinePoints=function(_){var M=_.position.x+this.getObjectsLeftOffset(),x=_.position.y+this.dataObjectTopDelta,N=M+_.size.width,C=x+_.size.height;return[new c.Point(M,x),new c.Point(N,C)]},D.prototype.calculateResourcesInfo=function(){var _=this,M=new Array;return this.taskAreaHelper.resourcesElements.forEach(function(x){return M=M.concat(_.calculateResourcesInLine(x))}),M},D.prototype.calculateResourcesInLine=function(_){var M=new Array;if(_)for(var x=d.DomUtils.pxToInt(_.style.left)+this.getObjectsLeftOffset(),N=d.DomUtils.pxToInt(_.style.top)+this.dataObjectTopDelta,C=_.getElementsByClassName(o.GridLayoutCalculator.taskResourceClassName),O=0;O<C.length;O++){var L=C[O];if(this.taskAreaHelper.isElementVisible(L)){var R=getComputedStyle(L);x+=this.getMargin(R).left,M.push(new n.PdfTaskResourcesInfo(L.textContent,new i.StyleDef(R),x,N)),x+=d.DomUtils.pxToInt(R.width)}}return M},D.prototype.calculateTimeMarkersInfoInfo=function(){var _=this,M=new Array;return this.taskAreaHelper.stripLinesElements.forEach(function(x){return M.push(_.createTimeMarkerInfo(x,!0))}),this.taskAreaHelper.noWorkingIntervalsElements.forEach(function(x){return M.push(_.createTimeMarkerInfo(x,!1))}),M},D.prototype.createTimeMarkerInfo=function(_,M){var x=getComputedStyle(_),N=d.DomUtils.pxToInt(x.left)+this.getObjectsLeftOffset(),C=d.DomUtils.pxToInt(x.top)+this.dataObjectTopDelta,O=d.DomUtils.pxToInt(x.width),L=d.DomUtils.pxToInt(x.height);return new T.PdfTimeMarkerInfo(new c.Point(N,C),new y.Size(O,L),new r.Color(x.backgroundColor),new r.Color(x.borderLeftColor),M)},D.prototype.getMargin=function(_){var M=new s.Margin(0);if(_){var x=_.margin;x||(x+=_.marginTop||"0",x+=" "+_.marginRight||0,x+=" "+_.marginBottom||0,x+=" "+_.marginLeft||0),M.assign(x)}return M},D._defaultPageMargin=10,D._autoFormatWidthAddStock=1,D}();h.GanttExportCalculator=A},4991:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfDependencyLineInfo=void 0;var c=a(8900),d=a(405),u=function(){function o(){}return o.prototype.assign=function(t){var n;this._copyPoints(t.points),this.arrowInfo=t.arrowInfo,(n=this.fillColor)!==null&&n!==void 0||(this.fillColor=new d.Color),this.fillColor.assign(t.fillColor)},o.prototype._copyPoints=function(t){var n=this;this.points=new Array,t==null||t.forEach(function(e){return n.points.push(new c.Point(e.x,e.y))})},o}();h.PdfDependencyLineInfo=u},266:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfObjectDrawer=void 0;var c=a(2449),d=a(817),u=a(3917),o=function(){function t(n,e){this._FONT_ROW_RATIO=1.15,this._info=e,this._pdfDoc=n}return t.prototype.draw=function(){this.drawTimeMarkers(),this.drawDependencies(),this.drawTasks(),this.drawResources()},t.prototype.drawTasks=function(){var n,e=this,r=(n=this._info)===null||n===void 0?void 0:n.tasks;r&&r.forEach(function(i){return e.drawTask(i)})},t.prototype.drawTask=function(n){var e=this._pdfDoc;e.setFillColor.apply(e,n.taskColor.getRBGColor()),e.setDrawColor.apply(e,n.taskColor.getRBGColor()),n.isMilestone?this.drawMilestone(n):this.drawRegularTask(n)},t.prototype.drawMilestone=function(n){var e=this._pdfDoc,r=n.sidePoints[0].x,i=n.sidePoints[0].y,s=n.sidePoints[1].x,l=n.sidePoints[1].y,g=n.sidePoints[2].x,p=n.sidePoints[2].y,f=n.sidePoints[3].x,y=n.sidePoints[3].y;e.triangle(r,i,s,l,g,p,"FD"),e.triangle(r,i,f,y,g,p,"FD")},t.prototype.drawRegularTask=function(n){var e=this._pdfDoc;e.rect(n.left,n.top,n.width,n.height,"FD"),n.isParent&&this.drawParentBorder(n),n.progressWidth&&(e.setFillColor.apply(e,n.progressColor.getRBGColor()),e.rect(n.left,n.top,n.progressWidth,n.height,"F")),n.text&&this.printTaskTitle(n)},t.prototype.drawParentBorder=function(n){var e=this._pdfDoc,r=n.sidePoints[0].x,i=n.sidePoints[1].y,s=n.sidePoints[3].y,l=n.sidePoints[2].x,g=n.sidePoints[3].y-n.sidePoints[1].y,p=n.progressWidth>g?n.progressColor.getRBGColor():n.taskColor.getRBGColor();e.setFillColor.apply(e,p),e.triangle(r,i,r,s,r+g,i,"FD"),e.setFillColor.apply(e,n.taskColor.getRBGColor()),e.triangle(l,i,l,s,l-g,i,"FD")},t.prototype.printTaskTitle=function(n){var e,r=this._pdfDoc,i=n.textStyle,s=i&&i.textColor.getRBGColor(),l=i&&i.fontSize;r.setTextColor.apply(r,s),r.setFontSize(l);var g=n.top+l*this._FONT_ROW_RATIO/r.internal.scaleFactor;n.isParent&&(g-=u.PdfTaskInfo.defaultParentHeightCorrection);var p=i&&i.cellPadding.left||0,f=i&&i.cellPadding.right||0;if(n.textPosition===c.TaskTitlePosition.Inside){var y=n.width-p-f;e=n.left+p,r.text(d.EllipsisHelper.limitPdfTextWithEllipsis(n.text,r,y),e,g)}else e=n.left-f,r.text(n.text,e,g,{align:"right"})},t.prototype.drawDependencies=function(){var n,e=this,r=(n=this._info)===null||n===void 0?void 0:n.dependencies;r&&r.forEach(function(i){return e.drawDependencyLine(i)})},t.prototype.drawDependencyLine=function(n){var e,r;if((e=this._pdfDoc).setFillColor.apply(e,n.fillColor.getRBGColor()),(r=this._pdfDoc).setDrawColor.apply(r,n.fillColor.getRBGColor()),n.arrowInfo)this.drawArrow(n);else{var i=n.points;this._pdfDoc.line(i[0].x,i[0].y,i[1].x,i[1].y)}},t.prototype.isValidLine=function(n){var e=n.points;return!(isNaN(e[0].x)||isNaN(e[0].y)||isNaN(e[1].x)||isNaN(e[1].y))},t.prototype.drawArrow=function(n){var e=n.arrowInfo.width||0,r=n.points[0].x,i=n.points[0].y;switch(n.arrowInfo.position){case c.Position.Left:this._pdfDoc.triangle(r,i+e,r+e,i,r+e,i+2*e,"FD");break;case c.Position.Right:this._pdfDoc.triangle(r,i,r,i+2*e,r+e,i+e,"FD");break;case c.Position.Top:this._pdfDoc.triangle(r,i+e,r+e,i,r+2*e,i+e,"FD");break;case c.Position.Bottom:this._pdfDoc.triangle(r,i,r+e,i+e,r+2*e,i,"FD")}},t.prototype.drawResources=function(){var n,e=this,r=this._pdfDoc,i=(n=this._info)===null||n===void 0?void 0:n.resources;i&&i.forEach(function(s){var l,g,p;r.setFontSize((l=s.style.fontSize)!==null&&l!==void 0?l:11);var f=s.y+s.style.fontSize*e._FONT_ROW_RATIO/r.internal.scaleFactor,y=(g=s.style.cellPadding.left)!==null&&g!==void 0?g:0,m=(p=s.style.cellPadding.right)!==null&&p!==void 0?p:1,v=Math.max(s.style.cellWidth.getValue(),y+r.getTextWidth(s.text)+m);r.setFillColor.apply(r,s.style.fillColor.getRBGColor()),r.rect(s.x,s.y,v,s.style.minCellHeight,"F"),r.setTextColor.apply(r,s.style.textColor.getRBGColor()),r.text(s.text,s.x+y,f)})},t.prototype.drawTimeMarkers=function(){var n,e=this,r=(n=this._info)===null||n===void 0?void 0:n.timeMarkers;r==null||r.forEach(function(i){return e.drawTimeMarker(i)})},t.prototype.drawTimeMarker=function(n){var e,r,i=this._pdfDoc,s=n.size.width>1,l=n.start.x,g=n.start.y,p=n.size.width,f=n.size.height,y=n.isStripLine;s&&(i.setFillColor.apply(i,n.color.getRBGColor()),i.saveGraphicsState(),i.setGState(new i.GState({opacity:(r=n.color.opacity)!==null&&r!==void 0?r:1})),i.rect(l,g,p,f,"F"),i.restoreGraphicsState()),y&&(this._pdfDoc.setLineDashPattern([3]),(e=this._pdfDoc).setDrawColor.apply(e,n.lineColor.getRBGColor()),s&&this._pdfDoc.line(l+p,g,l+p,g+f,"S"),this._pdfDoc.line(l,g,l,g+f,"S"),this._pdfDoc.setLineDashPattern())},t}();h.PdfObjectDrawer=o},3917:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfTaskInfo=void 0;var c=a(8900),d=a(405),u=a(6995),o=function(){function t(){}return Object.defineProperty(t.prototype,"left",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[0].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[1].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[2].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[3].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var n=this.bottom-this.top;return this.isParent&&(n-=t.defaultParentHeightCorrection),n},enumerable:!1,configurable:!0}),t.prototype.assign=function(n){var e,r,i;this.isMilestone=n.isMilestone,this._copyPoints(n.sidePoints),this.progressWidth=n.progressWidth,this.isSmallTask=n.isSmallTask,this.text=n.text,this.textPosition=n.textPosition,(e=this.progressColor)!==null&&e!==void 0||(this.progressColor=new d.Color),this.progressColor.assign(n.progressColor),(r=this.taskColor)!==null&&r!==void 0||(this.taskColor=new d.Color),this.taskColor.assign(n.taskColor),(i=this.textStyle)!==null&&i!==void 0||(this.textStyle=new u.StyleDef),this.textStyle.assign(n.textStyle),this.isParent=n.isParent},t.prototype._copyPoints=function(n){var e=this;this.sidePoints=new Array,n==null||n.forEach(function(r){return e.sidePoints.push(new c.Point(r.x,r.y))})},t.defaultParentHeightCorrection=4,t}();h.PdfTaskInfo=o},2485:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfTaskResourcesInfo=void 0;var c=a(2491),d=a(6995),u=function(){function o(t,n,e,r){t&&(this.text=t),n&&(this.style=new d.StyleDef(n)),(0,c.isDefined)(e)&&(this.x=e),(0,c.isDefined)(r)&&(this.y=r)}return o.prototype.assign=function(t){this.text=t.text,this.style=new d.StyleDef(t.style),this.x=t.x,this.y=t.y},o}();h.PdfTaskResourcesInfo=u},7802:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfTimeMarkerInfo=void 0;var c=a(8900),d=a(6353),u=a(2491),o=a(405),t=function(){function n(e,r,i,s,l){this.lineColor=new o.Color,this.color=new o.Color,e&&(this.start=new c.Point(e.x,e.y)),r&&(this.size=new d.Size(r.width,r.height)),i&&this.color.assign(i),s&&this.lineColor.assign(s),(0,u.isDefined)(l)&&(this.isStripLine=l)}return n.prototype.assign=function(e){var r,i,s,l;e&&(this.start=new c.Point((r=e.start)===null||r===void 0?void 0:r.x,(i=e.start)===null||i===void 0?void 0:i.y),this.size=new d.Size((s=e.size)===null||s===void 0?void 0:s.width,(l=e.size)===null||l===void 0?void 0:l.height),this.isStripLine=e.isStripLine,this.color.assign(e.color),this.lineColor.assign(e.lineColor))},n}();h.PdfTimeMarkerInfo=t},2978:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfGanttExporter=void 0;var c=a(4970),d=function(){function u(o){if(!o.settings.pdfDoc&&!o.settings.docCreateMethod)throw new Error("Cannot convert gantt to pdf without document instance!");this._info=o}return u.prototype.export=function(){var o,t,n=this.pdfDoc;this.applyCustomFont();for(var e=this._info,r=new c.PdfGanttPageDrawer(n,e.settings),i=e.getPages(n),s=i.length,l=0;l<s;l++){l>0&&n.addPage(this.getDocumentFormat(),this.getOrientation());var g=i[l];r.drawPage(g)}return!((o=this.props)===null||o===void 0)&&o.fileName&&n.save((t=this.props)===null||t===void 0?void 0:t.fileName),n},Object.defineProperty(u.prototype,"pdfDoc",{get:function(){var o,t;return(o=this._pdfDoc)!==null&&o!==void 0||(this._pdfDoc=(t=this._info.settings.pdfDoc)!==null&&t!==void 0?t:this.createDoc()),this._pdfDoc},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"props",{get:function(){return this._info.settings},enumerable:!1,configurable:!0}),u.prototype.createDoc=function(){var o=this.getJsPDFProps();return this._info.settings.docCreateMethod(o)},u.prototype.getJsPDFProps=function(){var o={putOnlyUsedFonts:!0,unit:"px",hotfixes:["px_scaling"]};return o.orientation=this.getOrientation(),o.format=this.getDocumentFormat(),o},u.prototype.getOrientation=function(){var o;return!((o=this.props)===null||o===void 0)&&o.landscape?"l":"p"},u.prototype.getDocumentFormat=function(){var o,t,n,e;return!((o=this.props)===null||o===void 0)&&o.format||!((t=this.props)===null||t===void 0)&&t.pageSize?!((n=this.props)===null||n===void 0)&&n.pageSize?[this.props.pageSize.height,this.props.pageSize.width]:(e=this.props)===null||e===void 0?void 0:e.format:"a4"},u.prototype.applyCustomFont=function(){this.props.font&&this.props.font.applyToDoc(this.pdfDoc)},u}();h.PdfGanttExporter=d},8935:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfPageTableNames=void 0;var a=function(){function c(){}return c.treeListHeader="treeListHeader",c.treeListMain="treeListMain",c.chartMain="chartMain",c.chartScaleTop="chartScaleTop",c.chartScaleBottom="chartScaleBottom",c}();h.PdfPageTableNames=a},4970:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfGanttPageDrawer=void 0;var c=a(8900),d=a(266),u=a(8935),o=a(9895),t=a(5510),n=function(){function e(r,i){this._pdfDoc=r,this._props=i}return e.prototype.drawPage=function(r){var i=this._pdfDoc,s=new t.PdfGanttTableDrawer(i);return this.needDrawChart()&&(s.drawTable(r.tables[u.PdfPageTableNames.chartMain]),new d.PdfObjectDrawer(i,r.objects).draw(),s.drawTable(r.tables[u.PdfPageTableNames.chartScaleTop]),s.drawTable(r.tables[u.PdfPageTableNames.chartScaleBottom])),this.needDrawTreeList()&&(s.drawTable(r.tables[u.PdfPageTableNames.treeListMain]),s.drawTable(r.tables[u.PdfPageTableNames.treeListHeader])),this.drawMargins(r),i},e.prototype.needDrawChart=function(){return!this._props||this._props.exportMode===o.ExportMode.all||this._props.exportMode===o.ExportMode.chart},e.prototype.needDrawTreeList=function(){return!this._props||this._props.exportMode===o.ExportMode.all||this._props.exportMode===o.ExportMode.treeList},e.prototype.getContentRightBottom=function(r){var i=new c.Point(0,0);for(var s in r.tables)if(Object.prototype.hasOwnProperty.call(r.tables,s)){var l=r.tables[s];i.x=Math.max(i.x,l.position.x+l.size.width),i.y=Math.max(i.y,l.position.y+l.size.height)}return i},e.prototype.drawMargins=function(r){var i=this._pdfDoc,s=this._props,l=i.getPageWidth(),g=i.getPageHeight(),p=this.getContentRightBottom(r);i.setFillColor(255,255,255),i.rect(0,0,s.margins.left,g,"F"),i.rect(0,0,l,s.margins.top,"F"),i.rect(p.x,0,l,g,"F"),i.rect(0,p.y,l,g,"F")},e}();h.PdfGanttPageDrawer=n},4429:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PageNavigation=void 0;var a=function(){function c(d,u,o,t,n,e){this._correctedBottoms=new Array,this.vIndex=0,this.hIndex=0,this.pageX=0,this.pageY=0,this._top=d==null?void 0:d.top,this._left=d==null?void 0:d.left,this._bottom=d==null?void 0:d.bottom,this._right=d==null?void 0:d.right,this.vIndex=u??this.vIndex,this.hIndex=o??this.hIndex,this.pageX=t??this.pageX,this.pageY=n??this.pageY,e&&(this._correctedBottoms=e)}return c.prototype.offset=function(d,u){d&&this.offsetOneD(d),u&&this.offsetOneD(u,!0)},c.prototype.offsetOneD=function(d,u){for(var o=d,t=this.getSpaceToBorder(u);t<o;)u?(this.vIndex++,this.pageY=this._top):(this.hIndex++,this.pageX=this._left),o-=t,t=this.getSpaceToBorder(u);u?this.pageY+=o:this.pageX+=o},Object.defineProperty(c.prototype,"defaultPageHeight",{get:function(){return this.getCurrentPageBottom()-this._top},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"defaultPageWidth",{get:function(){return this._right-this._left},enumerable:!1,configurable:!0}),c.prototype.getPageEnd=function(d){return d?this.getCurrentPageBottom():this._right},c.prototype.getPageStart=function(d){return d?this._top:this._left},c.prototype.getPageSize=function(d,u){return d?this.getPageHeight(u):this.defaultPageWidth},c.prototype.getSpaceToBorder=function(d){return d?this.getCurrentPageBottom()-this.pageY:this._right-this.pageX},c.prototype.getPageGlobalOffset=function(d,u){if(!u)return d*this.defaultPageWidth;for(var o=0,t=1;t<=d;t++)o+=this.getPageHeight(t-1);return o},c.prototype.assign=function(d){this._top=d._top,this._left=d._left,this._bottom=d._bottom,this._right=d._right,this._correctedBottoms=d._correctedBottoms,this.vIndex=d.vIndex,this.hIndex=d.hIndex,this.pageX=d.pageX,this.pageY=d.pageY},c.createFrom=function(d){var u=new c;return u.assign(d),u},c.prototype.clone=function(){var d=new c;return d.assign(this),d},c.prototype.getCurrentPageBottom=function(){return this.getPageBottom(this.vIndex)},c.prototype.getPageBottom=function(d){var u;return(u=this._correctedBottoms[d])!==null&&u!==void 0?u:this._bottom},c.prototype.getPageHeight=function(d){return this.getPageBottom(d)-this._top},c}();h.PageNavigation=a},3424:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfGanttPaginator=void 0;var c=a(8900),d=a(6353),u=a(4991),o=a(3917),t=a(2485),n=a(7802),e=a(8935),r=a(6032),i=a(4429),s=function(p,f,y,m,v){this.pageVerIndex=f,this.pageHorIndex=p,this.cellRowIndexOnPage=y,this.cellColIndexOnPage=m,this.cell=v},l=function(){function p(f,y,m,v){this.pageIndex=f,this.globalCellIndex=y,this.pageOffset=m,this.cutSize=v}return Object.defineProperty(p.prototype,"isCutted",{get:function(){return this.cutSize>0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"cellIndexOnPage",{get:function(){return this.globalCellIndex-this.pageOffset},enumerable:!1,configurable:!0}),p}(),g=function(){function p(f,y,m){this._pdfDoc=f,this._props=y,this._globalInfo=m}return p.prototype.getPages=function(){return delete this._pages,this._paginateTables(),this._paginateObjects(),this.pageMatrixToArray},p.prototype._paginateTables=function(){this._paginateTable(e.PdfPageTableNames.treeListHeader),this._paginateTable(e.PdfPageTableNames.treeListMain),this._paginateTable(e.PdfPageTableNames.chartScaleBottom),this._paginateTable(e.PdfPageTableNames.chartScaleTop),this._paginateTable(e.PdfPageTableNames.chartMain)},p.prototype._paginateObjects=function(){this._paginateTasks(),this._paginateDependencies(),this._paginateResources(),this._paginateTimeMarkers()},Object.defineProperty(p.prototype,"pageMatrixToArray",{get:function(){var f,y=new Array;return(f=this._pages)===null||f===void 0||f.forEach(function(m){y=y.concat(m)}),y},enumerable:!1,configurable:!0}),p.prototype._paginateTasks=function(){var f,y,m=this;(y=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.tasks)===null||y===void 0||y.forEach(function(v){return m._paginateTask(v)})},p.prototype._paginateDependencies=function(){var f,y,m=this;(y=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.dependencies)===null||y===void 0||y.forEach(function(v){v.arrowInfo?m._paginateArrow(v):m._paginateDependencyLine(v)})},p.prototype._paginateResources=function(){var f,y,m=this;(y=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.resources)===null||y===void 0||y.forEach(function(v){return m._paginateResource(v)})},p.prototype._paginateTimeMarkers=function(){var f,y,m=this;(y=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.timeMarkers)===null||y===void 0||y.forEach(function(v){return m._paginateTimeMarker(v)})},p.prototype._paginateTable=function(f){var y,m=(y=this._globalInfo)===null||y===void 0?void 0:y.tables[f];if(m){for(var v=this._getTableStart(m),T=this._preparePagesNavigationMatrixForTable(v,m),b=T.length,w=0;w<b;w++)for(var A=T[w].length,D=0;D<A;D++){var _=T[w][D],M=this._getPage(_.pageVerIndex,_.pageHorIndex,!0),x=_.pageHorIndex===v.hIndex?v.pageX:this.pageLeft,N=_.pageVerIndex===v.vIndex?v.pageY:this.pageTop;this._setTablePositionOnPage(M,f,x,N),this._addCellToPage(M,f,_)}this._updateTableSizeOnPages(f)}},p.prototype._paginateTask=function(f){for(var y=this._getTaskPagination(f),m=this._getTaskPagination(f,!0),v=0;v<m.length;v++)for(var T=0;T<y.length;T++){var b=new o.PdfTaskInfo;b.assign(f),this._offsetPoints(b.sidePoints,y[T].offset,m[v].offset),this._addTaskToPage(m[v].pageIndex,y[T].pageIndex,b)}},p.prototype._paginateArrow=function(f){var y=this._getPointPageInfo(f.points[0]),m=new u.PdfDependencyLineInfo;m.assign(f),this._offsetPoints(m.points,y.offsetX,y.offsetY),this._addDependencyToPage(y.pageVerIndex,y.pageHorIndex,m)},p.prototype._paginateDependencyLine=function(f){for(var y=this._getDependencyLinePagination(f),m=this._getDependencyLinePagination(f,!0),v=0;v<m.length;v++)for(var T=0;T<y.length;T++){var b=new u.PdfDependencyLineInfo;b.assign(f),this._offsetPoints(b.points,y[T].offset,m[v].offset),this._addDependencyToPage(m[v].pageIndex,y[T].pageIndex,b)}},p.prototype._paginateResource=function(f){var y=this._getPointPageInfo(new c.Point(f.x,f.y)),m=new t.PdfTaskResourcesInfo;m.assign(f),m.x-=y.offsetX,m.y-=y.offsetY,this._addResourceToPage(y.pageVerIndex,y.pageHorIndex,m)},p.prototype._paginateTimeMarker=function(f){for(var y=this._getTimeMarkerPagination(f),m=this._getTimeMarkerPagination(f,!0),v=0;v<m.length;v++)for(var T=0;T<y.length;T++){var b=new n.PdfTimeMarkerInfo;b.assign(f),b.start.x-=y[T].offset,b.start.y-=m[v].offset,this._addTimeMarkerToPage(m[v].pageIndex,y[T].pageIndex,b)}},p.prototype._getTableStart=function(f){var y=new i.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms);return y.offset(f.position.x,f.position.y),y},p.prototype._getPage=function(f,y,m){return m&&this._extendPageMatrixIfRequired(f,y),this._pages[f]&&this._pages[f][y]},p.prototype._getTableOrCreate=function(f,y){var m,v;return(m=(v=f.tables)[y])!==null&&m!==void 0||(v[y]=this._createTable(y)),f.tables[y]},p.prototype._preparePagesNavigationMatrixForTable=function(f,y){for(var m=new Array,v=this._getTableNavigationVector(f,y,!0),T=v.length,b=0;b<T;b++){for(var w=new Array,A=v[b],D=this._getTableNavigationVector(f,y,!1,A.globalCellIndex),_=D.length,M=0;M<_;M++){var x=D[M],N=y.name===e.PdfPageTableNames.chartScaleTop,C=this._prepareCuttedCell(y.cells[A.globalCellIndex][x.globalCellIndex],x,A,N),O=new s(x.pageIndex,A.pageIndex,A.cellIndexOnPage,x.cellIndexOnPage,C);w.push(O)}m.push(w)}return m},p.prototype._setTablePositionOnPage=function(f,y,m,v){this._getTableOrCreate(f,y).position=new c.Point(m,v)},p.prototype._extendPageMatrixIfRequired=function(f,y){var m;(m=this._pages)!==null&&m!==void 0||(this._pages=new Array);for(var v=this._pages.length;v<=f;v++)this._pages.push(new Array);var T=this._pages[f];for(v=T.length;v<=y;v++)T.push(this._createPage())},p.prototype._getTableAndExtendIfRequired=function(f,y,m,v){for(var T=this._getTableOrCreate(f,y),b=T.cells,w=b.length;w<=m;w++)b.push(new Array);var A=b[m];for(w=A.length;w<=v;w++)A.push(new r.CellDef);return T},p.prototype._createPage=function(){return{objects:{tasks:null,dependencies:null,resources:null,timeMarkers:null},tables:{}}},p.prototype._createTable=function(f){var y,m=(y=this._globalInfo)===null||y===void 0?void 0:y.tables[f];return{name:f,size:null,position:null,style:m.style,baseCellSize:m.baseCellSize,cells:new Array,hideRowLines:m.hideRowLines}},p.prototype._addCellToPage=function(f,y,m){var v=m.cellRowIndexOnPage,T=m.cellColIndexOnPage;this._getTableAndExtendIfRequired(f,y,v,T).cells[v][T].assign(m.cell)},p.prototype._updateTableSizeOnPages=function(f){for(var y,m=(y=this._pages[0])===null||y===void 0?void 0:y.length,v=this._pages.length,T=0;T<v;T++)for(var b=0;b<m;b++)this._updateTableSizeOnPage(this._pages[T][b],f)},p.prototype._updateTableSizeOnPage=function(f,y){var m,v=this,T=f==null?void 0:f.tables[y];if(T){var b=T.cells.length*T.baseCellSize.height||0,w=((m=T.cells[0])===null||m===void 0?void 0:m.reduce(function(A,D,_){return A+v._getCellWidth(T,0,_)},0))||0;T.size=new d.Size(w,b)}},p.prototype._getTableNavigationVector=function(f,y,m,v){var T,b;m===void 0&&(m=!1),v===void 0&&(v=0);for(var w=new Array,A=i.PageNavigation.createFrom(f),D=m?(T=y.cells)===null||T===void 0?void 0:T.length:(b=y.cells[v])===null||b===void 0?void 0:b.length,_=0;_<D;_++){var M=m?y.baseCellSize.height:this._getCellWidth(y,v,_);this._placeCell(w,A,_,M,m)}return w},p.prototype._placeCell=function(f,y,m,v,T){var b,w,A=T?y.vIndex:y.hIndex,D=(w=(b=f[f.length-1])===null||b===void 0?void 0:b.pageOffset)!==null&&w!==void 0?w:m,_=v,M=y.getSpaceToBorder(T);y.offsetOneD(v,T);var x=T?y.vIndex:y.hIndex;if(!T)for(var N=A;N<x;N++){var C=new l(N,m,D,M);D=m,f.push(C),_-=M,M=y.getPageSize(T)}x!==A&&(D=m);var O=new l(x,m,D,_!==v?_:null);f.push(O)},p.prototype._prepareCuttedCell=function(f,y,m,v){var T=new r.CellDef(f);if(y.isCutted){var b=y.cutSize;if(!v){var w=T.content,A=f.styles,D=b-(A&&A.cellPadding.left||0)-(A&&A.cellPadding.right||0),_=this._pdfDoc.splitTextToSize(w,D);f.content=w.replace(_[0],""),T.content=_[0]}T.styles.cellWidth.assign(b)}return m.isCutted&&(T.styles.minCellHeight=m.cutSize),T},p.prototype._getCellWidth=function(f,y,m){var v,T=f.cells[y][m],b=T.styles,w=b.cellWidth.getValue(),A=w??b.minCellWidth;return A??f.baseCellSize.width*((v=T.colSpan)!==null&&v!==void 0?v:1)},p.prototype._getTaskPagination=function(f,y){var m=y?f.height:f.width,v=y?f.top:f.left;return this._getLinePagination(v,m,y)},p.prototype._getDependencyLinePagination=function(f,y){var m=f.points[0],v=f.points[1],T=y?v.y-m.y:v.x-m.x,b=y?m.y:m.x;return this._getLinePagination(b,T,y)},p.prototype._getTimeMarkerPagination=function(f,y){var m=y?f.size.height:f.size.width,v=y?f.start.y:f.start.x;return this._getLinePagination(v,m,y)},p.prototype._getLinePagination=function(f,y,m){var v=new Array,T=this.pageNavigator.clone();T.offsetOneD(f,m);var b=m?T.vIndex:T.hIndex;T.offsetOneD(y,m);for(var w=m?T.vIndex:T.hIndex,A=b;A<=w;A++)v.push({offset:T.getPageGlobalOffset(A,m),pageIndex:A});return v},p.prototype._getPointPageInfo=function(f){var y=this.pageNavigator.clone();return y.offset(f.x,f.y),{offsetX:y.getPageGlobalOffset(y.hIndex),offsetY:y.getPageGlobalOffset(y.vIndex,!0),pageHorIndex:y.hIndex,pageVerIndex:y.vIndex}},Object.defineProperty(p.prototype,"pageWidth",{get:function(){var f;return(f=this._pdfDoc)===null||f===void 0?void 0:f.getPageWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageHeight",{get:function(){var f;return(f=this._pdfDoc)===null||f===void 0?void 0:f.getPageHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageLeftMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageTopMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageRightMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageBottomMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageLeft",{get:function(){var f;return(f=this._pageLeft)!==null&&f!==void 0||(this._pageLeft=this.pageLeftMargin),this._pageLeft},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageRight",{get:function(){var f;return(f=this._pageRight)!==null&&f!==void 0||(this._pageRight=this.pageWidth-this.pageRightMargin),this._pageRight},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageTop",{get:function(){var f;return(f=this._pageTop)!==null&&f!==void 0||(this._pageTop=this.pageTopMargin),this._pageTop},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageBottom",{get:function(){var f;return(f=this._pageBottom)!==null&&f!==void 0||(this._pageBottom=this.pageHeight-this.pageBottomMargin),this._pageBottom},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageBorders",{get:function(){return{left:this.pageLeft,top:this.pageTop,bottom:this.pageBottom,right:this.pageRight}},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"correctedPageBottoms",{get:function(){var f;return(f=this._correctedPageBottoms)!==null&&f!==void 0||(this._correctedPageBottoms=this._getCorrectedPagesBottom()),this._correctedPageBottoms},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pageNavigator",{get:function(){var f;return(f=this._pageNavigator)!==null&&f!==void 0||(this._pageNavigator=new i.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms)),this._pageNavigator},enumerable:!1,configurable:!0}),p.prototype._getCorrectedPagesBottom=function(){var f,y,m,v,T=new Array,b=(f=this._globalInfo)===null||f===void 0?void 0:f.tables,w=(y=b[e.PdfPageTableNames.treeListMain])!==null&&y!==void 0?y:b[e.PdfPageTableNames.chartMain],A=new i.PageNavigation(this.pageBorders);A.pageY=w.position.y;for(var D=0;D<w.cells.length;D++){var _=(v=(m=w.cells[D][0].styles)===null||m===void 0?void 0:m.minCellHeight)!==null&&v!==void 0?v:w.baseCellSize.height,M=A.vIndex,x=A.pageY;A.offsetOneD(_,!0),M!==A.vIndex&&(T.push(x),A.pageY=A.getPageStart(!0)+_)}return T},p.prototype._addTaskToPage=function(f,y,m){var v,T,b=this._getPage(f,y);b&&((v=(T=b.objects).tasks)!==null&&v!==void 0||(T.tasks=new Array),b.objects.tasks.push(m))},p.prototype._addDependencyToPage=function(f,y,m){var v,T,b=this._getPage(f,y);b&&((v=(T=b.objects).dependencies)!==null&&v!==void 0||(T.dependencies=new Array),b.objects.dependencies.push(m))},p.prototype._addResourceToPage=function(f,y,m){var v,T,b=this._getPage(f,y);b&&((v=(T=b.objects).resources)!==null&&v!==void 0||(T.resources=new Array),b.objects.resources.push(m))},p.prototype._addTimeMarkerToPage=function(f,y,m){var v,T,b=this._getPage(f,y);b&&((v=(T=b.objects).timeMarkers)!==null&&v!==void 0||(T.timeMarkers=new Array),b.objects.timeMarkers.push(m))},p.prototype._offsetPoints=function(f,y,m){f.forEach(function(v){v.x-=y,v.y-=m})},p}();h.PdfGanttPaginator=g},5763:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ScalingHelper=void 0;var c=a(8935),d=function(){function u(o){this._doc=o}return Object.defineProperty(u.prototype,"_docScaleFactor",{get:function(){var o,t;return(t=(o=this._doc)===null||o===void 0?void 0:o.internal)===null||t===void 0?void 0:t.scaleFactor},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_correctScaleNeeded",{get:function(){return this._docScaleFactor&&Math.abs(this._docScaleFactor-u._defaultScaleFactor)>Number.EPSILON},enumerable:!1,configurable:!0}),u.prototype.getScaledSize=function(o){return o*u._defaultScaleFactor/this._docScaleFactor},u.prototype.scalePageMargins=function(o){var t,n,e,r;this._correctScaleNeeded&&(!((t=o==null?void 0:o.margins)===null||t===void 0)&&t.left&&(o.margins.left=this.getScaledSize(o.margins.left)),!((n=o==null?void 0:o.margins)===null||n===void 0)&&n.right&&(o.margins.right=this.getScaledSize(o.margins.right)),!((e=o==null?void 0:o.margins)===null||e===void 0)&&e.top&&(o.margins.top=this.getScaledSize(o.margins.top)),!((r=o==null?void 0:o.margins)===null||r===void 0)&&r.bottom&&(o.margins.bottom=this.getScaledSize(o.margins.bottom)))},u.prototype.scaleSizes=function(o){this._correctScaleNeeded&&(this.scaleTables(o),this.scaleObjects(o.objects))},u.prototype.scaleTables=function(o){o!=null&&o.tables&&(this.scaleTable(o.tables[c.PdfPageTableNames.treeListHeader]),this.scaleTable(o.tables[c.PdfPageTableNames.treeListMain]),this.scaleTable(o.tables[c.PdfPageTableNames.chartMain]),this.scaleTable(o.tables[c.PdfPageTableNames.chartScaleTop]),this.scaleTable(o.tables[c.PdfPageTableNames.chartScaleBottom]))},u.prototype.scaleTable=function(o){var t,n,e,r,i,s;if(o&&(!((t=o.size)===null||t===void 0)&&t.width&&(o.size.width=this.getScaledSize(o.size.width)),!((n=o.size)===null||n===void 0)&&n.height&&(o.size.height=this.getScaledSize(o.size.height)),!((e=o.position)===null||e===void 0)&&e.x&&(o.position.x=this.getScaledSize(o.position.x)),!((r=o.position)===null||r===void 0)&&r.y&&(o.position.y=this.getScaledSize(o.position.y)),!((i=o.baseCellSize)===null||i===void 0)&&i.width&&(o.baseCellSize.width=this.getScaledSize(o.baseCellSize.width)),!((s=o.baseCellSize)===null||s===void 0)&&s.height&&(o.baseCellSize.height=this.getScaledSize(o.baseCellSize.height)),o.cells))for(var l=0;l<o.cells.length;l++)for(var g=o.cells[l],p=0;p<g.length;p++){var f=g[p];this.scaleStyle(f.styles)}},u.prototype.scaleObjects=function(o){this.scaleTasks(o==null?void 0:o.tasks),this.scaleDependencies(o==null?void 0:o.dependencies),this.scaleResources(o==null?void 0:o.resources),this.scaleTimeMarkers(o==null?void 0:o.timeMarkers)},u.prototype.scaleTasks=function(o){var t=this;o==null||o.forEach(function(n){t.scalePoints(n.sidePoints),n.progressWidth=t.getScaledSize(n.progressWidth),t.scaleStyle(n.textStyle)})},u.prototype.scaleDependencies=function(o){var t=this;o==null||o.forEach(function(n){var e;t.scalePoints(n.points),!((e=n.arrowInfo)===null||e===void 0)&&e.width&&(n.arrowInfo.width=t.getScaledSize(n.arrowInfo.width))})},u.prototype.scaleResources=function(o){var t=this;o==null||o.forEach(function(n){n.x=t.getScaledSize(n.x),n.y=t.getScaledSize(n.y),t.scaleStyle(n.style)})},u.prototype.scaleTimeMarkers=function(o){var t=this;o==null||o.forEach(function(n){n.start.x=t.getScaledSize(n.start.x),n.start.y=t.getScaledSize(n.start.y),n.size.width=t.getScaledSize(n.size.width),n.size.height=t.getScaledSize(n.size.height)})},u.prototype.scaleStyle=function(o){var t,n,e,r;if(o){var i=o.cellWidth;if(i!=null&&i.hasValue()){var s=this.getScaledSize(Number(i.getValue()));i.assign(s)}o.minCellHeight&&(o.minCellHeight=this.getScaledSize(o.minCellHeight)),o.minCellWidth&&(o.minCellWidth=this.getScaledSize(o.minCellWidth)),!((t=o.cellPadding)===null||t===void 0)&&t.left&&(o.cellPadding.left=this.getScaledSize(o.cellPadding.left)),!((n=o.cellPadding)===null||n===void 0)&&n.right&&(o.cellPadding.right=this.getScaledSize(o.cellPadding.right)),!((e=o.cellPadding)===null||e===void 0)&&e.top&&(o.cellPadding.top=this.getScaledSize(o.cellPadding.top)),!((r=o.cellPadding)===null||r===void 0)&&r.bottom&&(o.cellPadding.bottom=this.getScaledSize(o.cellPadding.bottom))}},u.prototype.scalePoints=function(o){var t=this;o==null||o.forEach(function(n){n.x=t.getScaledSize(n.x),n.y=t.getScaledSize(n.y)})},u._defaultScaleFactor=.75,u}();h.ScalingHelper=d},7223:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfCustomFontSettings=void 0;var c=a(2491),d=function(){function u(o){this.style="normal",o&&this.assign(o)}return u.prototype.assign=function(o){(0,c.isDefined)(o.fontObject)&&(this.fontObject=o.fontObject),(0,c.isDefined)(o.name)&&(this.name=o.name),(0,c.isDefined)(o.style)&&(this.style=o.style),(0,c.isDefined)(o.weight)&&(this.weight=o.weight)},u.prototype.applyToDoc=function(o){try{if(o&&this.fontObject&&this.name){var t=this.name+"-"+this.style+".ttf";o.addFileToVFS(t,this.fontObject),o.addFont(t,this.name,this.style,this.weight),o.setFont(this.name)}}catch{}},u}();h.PdfCustomFontSettings=d},6431:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfDataRange=void 0;var c=a(2491),d=function(){function u(o,t,n,e){var r=!o||o instanceof Date?{startDate:o,endDate:t,startIndex:n,endIndex:e}:o;r&&this.assign(r)}return u.prototype.assign=function(o){(0,c.isDefined)(o.startDate)&&(this.startDate=o.startDate instanceof Date?o.startDate:new Date(o.startDate)),(0,c.isDefined)(o.endDate)&&(this.endDate=o.endDate instanceof Date?o.endDate:new Date(o.endDate)),(0,c.isDefined)(o.startIndex)&&(this.startIndex=parseInt(o.startIndex)),(0,c.isDefined)(o.endIndex)&&(this.endIndex=parseInt(o.endIndex))},u}();h.PdfDataRange=d},9895:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DataExportMode=h.ExportMode=void 0,function(a){a[a.all=0]="all",a[a.treeList=1]="treeList",a[a.chart=2]="chart"}(h.ExportMode||(h.ExportMode={})),function(a){a[a.all=0]="all",a[a.visible=1]="visible"}(h.DataExportMode||(h.DataExportMode={}))},6997:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GanttPdfExportProps=void 0;var c=a(6353),d=a(2491),u=a(5063),o=a(6431),t=a(7223),n=a(9895),e=function(){function r(i){this.landscape=!1,this.margins=null,this.exportMode=n.ExportMode.all,this.exportDataMode=n.DataExportMode.visible,i&&this.assign(i)}return r.prototype.assign=function(i){if(i){if((0,d.isDefined)(i.pdfDocument)&&(this.pdfDoc=i.pdfDocument),(0,d.isDefined)(i.pdfDoc)&&(this.pdfDoc=i.pdfDoc),this.docCreateMethod=i.docCreateMethod,(0,d.isDefined)(i.fileName)&&(this.fileName=i.fileName),this.landscape=!!i.landscape,(0,d.isDefined)(i.margins)&&(this.margins=new u.Margin(i.margins)),(0,d.isDefined)(i.format)){var s=i.format;if(typeof s=="string")this.format=s;else{var l=parseInt(s.width),g=parseInt(s.height);this.pageSize=new c.Size(l,g)}}else if((0,d.isDefined)(i.pageSize)){var p=i.pageSize;this.pageSize=p instanceof c.Size?p.clone():new c.Size(p.width,p.height)}if((0,d.isDefined)(i.exportMode)&&(this.exportMode=this.getEnumValue(n.ExportMode,i.exportMode)),(0,d.isDefined)(i.dateRange)){var f=i.dateRange;typeof f=="number"||typeof f=="string"?this.exportDataMode=this.getEnumValue(n.DataExportMode,f):this.dateRange=new o.PdfDataRange(f)}(0,d.isDefined)(i.font)&&(this.font=new t.PdfCustomFontSettings(i.font))}},r.prototype.getEnumValue=function(i,s){if(!(0,d.isDefined)(i[s]))return null;var l=parseInt(s);return isNaN(l)?i[s]:l},r.autoFormatKey="auto",r}();h.GanttPdfExportProps=e},6032:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CellDef=void 0;var c=a(2491),d=a(6995),u=function(){function o(t,n,e){this.content="",typeof t=="string"?(this.content=t,this.colSpan=n,e&&this.appendStyles(e)):t&&this.assign(t)}return Object.defineProperty(o.prototype,"styles",{get:function(){return this._styles||(this._styles=new d.StyleDef),this._styles},enumerable:!1,configurable:!0}),o.prototype.assign=function(t){(0,c.isDefined)(t.content)&&(this.content=t.content),(0,c.isDefined)(t.colSpan)&&(this.colSpan=t.colSpan),t.styles&&this.appendStyles(t.styles)},o.prototype.appendStyles=function(t){t&&this.styles.assign(t)},o.prototype.hasValue=function(){return!0},o.prototype.getValue=function(){var t={};return t.content=this.content,this.colSpan>1&&(t.colSpan=this.colSpan),this._styles&&(t.styles=this._styles.getValue()),t},o}();h.CellDef=u},405:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Color=void 0;var c=a(2491),d=function(){function u(o){this._num=null,this._opacity=1,this._rgb=null,this.assign(o)}return Object.defineProperty(u.prototype,"opacity",{get:function(){return this._opacity},enumerable:!1,configurable:!0}),u.prototype.hasValue=function(){return(0,c.isDefined)(this._num)||!!this._rgb||this._opacity===0},u.prototype.getValue=function(){return!(this._opacity===0&&!this._rgb)&&((0,c.isDefined)(this._num)?this._num:this._rgb?this.getRBGColor():null)},u.prototype.assign=function(o){this.reset(),typeof o=="string"&&this.assignFromString(o),typeof o=="number"&&(this._num=o),o instanceof Array&&this.assignFromRgbArray(o),o instanceof u&&this.assignFromColor(o)},u.prototype.reset=function(){this._opacity=1,this._num=null,this._rgb=null},u.prototype.assignFromString=function(o){o&&(o==="transparent"&&(this._opacity=0),o.indexOf("#")===0&&this.assignFromHexString(o),o.substr(0,3).toLowerCase()==="rgb"&&this.assignFromRgbString(o))},u.prototype.assignFromHexString=function(o){if(o.length===4&&(o="#"+o[1].repeat(2)+o[2].repeat(2)+o[3].repeat(2)),o.length>6){var t=parseInt(o.substr(1,2),16),n=parseInt(o.substr(3,2),16),e=parseInt(o.substr(5,2),16);this._rgb=[t,n,e]}},u.prototype.assignFromRgbString=function(o){var t=o.substr(0,4).toLowerCase()==="rgba",n=o.toLowerCase().match(t?u.rgbaRegexp:u.rgbRegexp);if(n){var e=parseInt(n[1]),r=parseInt(n[2]),i=parseInt(n[3]);this._rgb=[e,r,i],t&&(this._opacity=parseFloat(n[4]))}},u.prototype.assignFromRgbArray=function(o){o&&o.length>2&&(this._rgb=[o[0],o[1],o[2]],(0,c.isDefined)(o[3])&&(this._opacity=o[3]))},u.prototype.assignFromColor=function(o){this._opacity=o._opacity,this._num=o._num,this._rgb=o._rgb},u.prototype.getRBGColor=function(){return this._rgb?this._rgb:[0,0,0]},u.prototype.applyOpacityToBackground=function(o){if(this._opacity!==1){var t=(o instanceof u?o:new u(o)).getValue();if(t instanceof Array){var n=this.opacity,e=Math.round((1-n)*t[0]+n*this._rgb[0]),r=Math.round((1-n)*t[1]+n*this._rgb[1]),i=Math.round((1-n)*t[2]+n*this._rgb[2]);this._rgb=[e,r,i]}}},u.rgbRegexp=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/,u.rgbaRegexp=/rgba?\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,?\s*([0-9]*\.?[0-9]*)\s*\)/,u}();h.Color=d},5510:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PdfGanttTableDrawer=void 0;var c=a(2491),d=a(8935),u=a(817),o=a(7624),t=function(){function n(e){this._pdfDoc=e}return n.prototype.drawTable=function(e){var r,i;if(e){var s=this.createTableOptions(e);!((r=e.style)===null||r===void 0)&&r.fontSize&&this._pdfDoc.setFontSize((i=e.style)===null||i===void 0?void 0:i.fontSize),this._pdfDoc.autoTable(s.getValue())}},n.prototype.createTableOptions=function(e){var r=this.createDefaultTableOptions();return this.addTableCommonSettings(e,r),this.addCommonTableStyles(e,r),this.prepareBodyCells(e),r.addBody(e.cells),e.hideRowLines&&this.hideRowLines(r),r},n.prototype.createDefaultTableOptions=function(){var e=new o.TableOptions;return e.pageBreak="auto",e.margin.assign(0),e.tableWidth.assign("auto"),e.styles.cellPadding.assign(0),e.styles.halign="center",e.styles.valign="middle",e.styles.lineWidth=1,e.styles.overflow="hidden",e},n.prototype.addTableCommonSettings=function(e,r){r.startY=e.position.y,r.margin.assign({left:e.position.x}),r.tableWidth.assign(e.size.width)},n.prototype.addCommonTableStyles=function(e,r){var i=r.styles;i.assign(e.style),i.fillColor.opacity===0&&i.fillColor.assign("#FFFFFF"),i.minCellHeight=e.baseCellSize.height,r.alternateRowStyles.minCellHeight=r.styles.minCellHeight,r.alternateRowStyles.fillColor.assign(r.styles.fillColor),(0,c.isDefined)(e.baseCellSize.width)&&i.cellWidth.assign(e.baseCellSize.width)},n.prototype.prepareBodyCells=function(e){var r,i,s;if(e.name===d.PdfPageTableNames.treeListMain||e.name===d.PdfPageTableNames.chartScaleTop||e.name===d.PdfPageTableNames.chartScaleBottom)for(var l=e.cells,g=0;g<l.length;g++)for(var p=l[g],f=0;f<p.length;f++){var y=p[f],m=y.styles,v=((r=m==null?void 0:m.cellWidth)===null||r===void 0?void 0:r.getValue())||e.baseCellSize.width||0,T=(i=m==null?void 0:m.cellPadding.left)!==null&&i!==void 0?i:0,b=(s=m==null?void 0:m.cellPadding.right)!==null&&s!==void 0?s:0,w=Math.max(v-T-b-n.cellEllipsisSpace,0);y.content=u.EllipsisHelper.limitPdfTextWithEllipsis(y.content,this._pdfDoc,w)}},n.prototype.hideRowLines=function(e){e.styles.lineWidth=0,e.onDrawCellCallback=function(r){var i=r.cell,s=r.doc,l=i.styles.lineColor,g=i.x,p=i.x+i.styles.cellWidth,f=i.y,y=i.y+r.row.height,m=r.column.index===r.table.columns.length-1,v=r.row.index===r.table.body.length-1,T=r.row.index===0;s.setDrawColor(l[0],l[1],l[2]),s.setLineWidth(1),s.line(g,y,g,f),m&&s.line(p,y,p,f),T&&s.line(g,f,p,f),v&&s.line(g,y,p,y)}},n.cellEllipsisSpace=3,n}();h.PdfGanttTableDrawer=t},817:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EllipsisHelper=void 0;var a=function(){function c(){}return c.limitPdfTextWithEllipsis=function(d,u,o){if(!(u!=null&&u.getTextWidth)||!o)return d;if(u.getTextWidth(d.toString())>o){for(var t=d,n=d.length-1;u.getTextWidth(t)>o&&n>0;)t=t.substring(0,n)+c.ellipsis,n--;return t}return d},c.ellipsis="...",c}();h.EllipsisHelper=a},5063:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Margin=void 0;var c=a(2491),d=a(6907),u=function(){function o(t){this.assign(t)}return o.prototype.assign=function(t){if((0,c.isDefined)(t))if(typeof t=="string")this.assignFromString(t);else if(typeof t=="number"||t instanceof Array)this.assignWithValues(t);else{var n=t||t;this.assignWithMargin(n)}},o.prototype.assignFromString=function(t){var n=t.split(" ").map(function(e){return d.DomUtils.pxToInt(e)});this.assignWithValues(n)},o.prototype.assignWithMargin=function(t){(0,c.isDefined)(t.top)&&(this.top=t.top),(0,c.isDefined)(t.right)&&(this.right=t.right),(0,c.isDefined)(t.bottom)&&(this.bottom=t.bottom),(0,c.isDefined)(t.left)&&(this.left=t.left)},o.prototype.assignWithValues=function(t){var n=this.getCorrectedValues(t);this.top=n[0],this.right=n[1],this.bottom=n[2],this.left=n[3]},o.prototype.getCorrectedValues=function(t){var n=[this.top,this.right,this.bottom,this.left];if(typeof t=="number")n=[t,t,t,t];else{var e=t;switch(e.length){case 1:n=[e[0],e[0],e[0],e[0]];break;case 2:n=[e[0],e[1],e[0],e[1]];break;case 3:n=[e[0],e[1],e[2],e[1]];break;default:e.forEach(function(r,i){return n[i]=r})}}return n},o.prototype.hasValue=function(){return(0,c.isDefined)(this.top)||(0,c.isDefined)(this.left)||(0,c.isDefined)(this.right)||(0,c.isDefined)(this.bottom)},o.prototype.getValue=function(){if(!this.hasValue())return null;if(this.top===this.bottom&&this.left===this.right&&this.top===this.left)return this.top;var t={};return(0,c.isDefined)(this.top)&&(t.top=this.top),(0,c.isDefined)(this.left)&&(t.left=this.left),(0,c.isDefined)(this.right)&&(t.right=this.right),(0,c.isDefined)(this.bottom)&&(t.bottom=this.bottom),t},o}();h.Margin=u},2642:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PredefinedStyles=void 0;var a=function(){function c(){}return c.getPredefinedStringOrUndefined=function(d,u){var o=d&&u&&d.toLowerCase()||void 0;return o&&(u.filter(function(t){return t.toLowerCase()===o})[0]||u.filter(function(t){return o.indexOf(t.toLowerCase())>-1})[0])},c.fontFamilies=["helvetica","times","courier"],c.fontStyles=["normal","bold","italic","bolditalic"],c.headerFooterVisibility=["everyPage","firstPage","never"],c.horizontalAlign=["left","center","right"],c.overflow=["linebreak","ellipsize","visible","hidden"],c.pageBreak=["auto","avoid","always"],c.rowPageBreak=["auto","avoid"],c.verticalAlign=["top","middle","bottom"],c.width=["auto","wrap"],c}();h.PredefinedStyles=a},6995:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StyleDef=void 0;var c=a(2491),d=a(6907),u=a(405),o=a(2642),t=a(5063),n=a(7343),e=function(){function r(i){this._fillColor=new u.Color,this._textColor=new u.Color,this._lineColor=new u.Color,this._cellWidth=new n.Width,this._cellPadding=new t.Margin,i&&this.assign(i)}return Object.defineProperty(r.prototype,"font",{get:function(){return this._fontFamily},set:function(i){this._fontFamily=o.PredefinedStyles.getPredefinedStringOrUndefined(i,o.PredefinedStyles.fontFamilies)||i},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(i){this._fontStyle=o.PredefinedStyles.getPredefinedStringOrUndefined(i,o.PredefinedStyles.fontStyles)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(i){this._fontSize=i},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"overflow",{get:function(){return this._overflow},set:function(i){this._overflow=o.PredefinedStyles.getPredefinedStringOrUndefined(i,o.PredefinedStyles.overflow)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"halign",{get:function(){return this._horizontalAlign},set:function(i){this._horizontalAlign=o.PredefinedStyles.getPredefinedStringOrUndefined(i,o.PredefinedStyles.horizontalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"valign",{get:function(){return this._verticalAlign},set:function(i){this._verticalAlign=o.PredefinedStyles.getPredefinedStringOrUndefined(i,o.PredefinedStyles.verticalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillColor",{get:function(){return this._fillColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textColor",{get:function(){return this._textColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineColor",{get:function(){return this._lineColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cellWidth",{get:function(){return this._cellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cellPadding",{get:function(){return this._cellPadding},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(i){this._lineWidth=i},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minCellWidth",{get:function(){return this._minCellWidth},set:function(i){this._minCellWidth=i},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minCellHeight",{get:function(){return this._minCellHeight},set:function(i){this._minCellHeight=i},enumerable:!1,configurable:!0}),r.prototype.assign=function(i){i&&(i instanceof r?((0,c.isDefined)(i.font)&&(this.font=i.font),(0,c.isDefined)(i.fontStyle)&&(this.fontStyle=i.fontStyle),(0,c.isDefined)(i.overflow)&&(this.overflow=i.overflow),(0,c.isDefined)(i.halign)&&(this.halign=i.halign),(0,c.isDefined)(i.valign)&&(this.valign=i.valign),(0,c.isDefined)(i.fontSize)&&(this.fontSize=i.fontSize),(0,c.isDefined)(i.lineWidth)&&(this.lineWidth=i.lineWidth),(0,c.isDefined)(i.minCellWidth)&&(this.minCellWidth=i.minCellWidth),(0,c.isDefined)(i.minCellHeight)&&(this.minCellHeight=i.minCellHeight),(0,c.isDefined)(i.fillColor)&&this.fillColor.assign(i.fillColor),(0,c.isDefined)(i.textColor)&&this.textColor.assign(i.textColor),(0,c.isDefined)(i.lineColor)&&this.lineColor.assign(i.lineColor),(0,c.isDefined)(i.cellWidth)&&this.cellWidth.assign(i.cellWidth),(0,c.isDefined)(i.cellPadding)&&this.cellPadding.assign(i.cellPadding)):this.assignFromCssStyle(i))},r.prototype.assignFromCssStyle=function(i){if(i.fontFamily&&(this.font=this.getPdfFontFamily(i)),this.fontStyle=this.getPdfFontStyle(i),(0,c.isDefined)(i.fontSize)&&(this.fontSize=this.getPfrFontSize(i.fontSize)),i.textAlign&&(this.halign=i.textAlign),i.verticalAlign&&(this.valign=i.verticalAlign),(0,c.isDefined)(i.borderWidth)&&(this.lineWidth=i.borderWidth),(0,c.isDefined)(i.cellWidth)&&this.cellWidth.assign(i.cellWidth),(0,c.isDefined)(i.width)&&(this.minCellWidth=typeof i.width=="number"?i.width:d.DomUtils.pxToInt(i.width)),(0,c.isDefined)(i.height)&&(this.minCellHeight=typeof i.height=="number"?i.height:d.DomUtils.pxToInt(i.height)),i.backgroundColor&&this.fillColor.assign(i.backgroundColor),i.color&&this.textColor.assign(i.color),i.borderColor&&this.lineColor.assign(i.borderColor),(0,c.isDefined)(i.width)&&this.cellWidth.assign(i.width),this.assignPaddingFromCss(i),(0,c.isDefined)(i.extraLeftPadding)){var s=this._cellPadding.left;this._cellPadding.left=s?s+i.extraLeftPadding:i.extraLeftPadding}},r.prototype.getPdfFontStyle=function(i){var s=i.fontWeight,l=parseInt(s),g=s==="bold"||!isNaN(l)&&l>500,p=g?"bold":"normal";return i.fontStyle==="italic"&&(p=g?"bolditalic":"italic"),p},r.prototype.getPdfFontFamily=function(i){var s=i.fontFamily&&i.fontFamily.toLowerCase(),l="helvetica";return s.indexOf("times")>-1&&(l="times"),s.indexOf("courier")>-1&&(l="courier"),l},r.prototype.getPfrFontSize=function(i){var s=d.DomUtils.pxToInt(i);if(!isNaN(s))return Math.ceil(s/96*72)},r.prototype.assignPaddingFromCss=function(i){if(i.padding)this._cellPadding.assign(i.padding);else{var s={};i.paddingLeft&&(s.left=d.DomUtils.pxToInt(i.paddingLeft)),i.paddingTop&&(s.top=d.DomUtils.pxToInt(i.paddingTop)),i.paddingRight&&(s.right=d.DomUtils.pxToInt(i.paddingRight)),i.paddingBottom&&(s.bottom=d.DomUtils.pxToInt(i.paddingBottom)),this._cellPadding.assign(s)}},r.prototype.hasValue=function(){return!0},r.prototype.getValue=function(){var i=this,s={};return(0,c.isDefined)(this.font)&&(s.font=this.font),(0,c.isDefined)(this.fontStyle)&&(s.fontStyle=this.fontStyle),(0,c.isDefined)(this.fontSize)&&(s.fontSize=this.fontSize),(0,c.isDefined)(this.overflow)&&(s.overflow=this.overflow),(0,c.isDefined)(this.halign)&&(s.halign=this.halign),(0,c.isDefined)(this.valign)&&(s.valign=this.valign),(0,c.isDefined)(this.lineWidth)&&(s.lineWidth=this.lineWidth),(0,c.isDefined)(this.minCellWidth)&&(s.minCellWidth=this.minCellWidth),(0,c.isDefined)(this.minCellHeight)&&(s.minCellHeight=this.minCellHeight),this.getJsPdfProviderProps().forEach(function(l){var g=i[l];g&&g.hasValue()&&(s[l]=g.getValue())}),s},r.prototype.getJsPdfProviderProps=function(){return["fillColor","textColor","lineColor","cellWidth","cellPadding"]},r}();h.StyleDef=e},7624:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TableOptions=void 0;var c=a(2491),d=a(6032),u=a(405),o=a(2642),t=a(5063),n=a(6995),e=a(7343),r=function(){function i(){this._margin=new t.Margin,this._tableLineColor=new u.Color,this._tableWidth=new e.Width,this._styles=new n.StyleDef,this._alternateRowStyles=new n.StyleDef}return Object.defineProperty(i.prototype,"pageBreak",{get:function(){return this._pageBreak},set:function(s){this._pageBreak=o.PredefinedStyles.getPredefinedStringOrUndefined(s,o.PredefinedStyles.pageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowPageBreak",{get:function(){return this._rowPageBreak},set:function(s){this._rowPageBreak=o.PredefinedStyles.getPredefinedStringOrUndefined(s,o.PredefinedStyles.rowPageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showHead",{get:function(){return this._showHead},set:function(s){this._showHead=o.PredefinedStyles.getPredefinedStringOrUndefined(s,o.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showFoot",{get:function(){return this._showFoot},set:function(s){this._showFoot=o.PredefinedStyles.getPredefinedStringOrUndefined(s,o.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"startY",{get:function(){return this._startY},set:function(s){this._startY=s},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tableLineWidth",{get:function(){return this._tableLineWidth},set:function(s){this._tableLineWidth=s},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tableLineColor",{get:function(){return this._tableLineColor},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tableWidth",{get:function(){return this._tableWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"styles",{get:function(){return this._styles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alternateRowStyles",{get:function(){return this._alternateRowStyles},enumerable:!1,configurable:!0}),i.prototype.hasValue=function(){return!0},i.prototype.getValue=function(){var s=this,l={};return l.pageBreak=this.pageBreak,l.rowPageBreak=this.rowPageBreak,l.showFoot=this.showFoot,l.showHead=this.showHead,l.startY=this.startY,l.tableLineWidth=this.tableLineWidth,this.getJsPdfProviderProps().forEach(function(g){var p=s[g];p&&p.hasValue()&&(l[g]=p.getValue())}),l.body=this.getBodyForJsPdf(),l.columnStyles=this.getColumnStylesForJsPdf(),this.onDrawCellCallback&&(l.didDrawCell=this.onDrawCellCallback),l},i.prototype.getJsPdfProviderProps=function(){return["margin","tableLineColor","tableWidth","styles","alternateRowStyles"]},i.prototype.getBodyForJsPdf=function(){for(var s=[],l=0;l<this._body.length;l++){for(var g=this._body[l],p=[],f=0;f<g.length;f++)p.push(g[f].getValue());s.push(p)}return s},i.prototype.assign=function(s){s&&((0,c.isDefined)(s.margin)&&this.margin.assign(s.margin),(0,c.isDefined)(s.pageBreak)&&(this.pageBreak=s.pageBreak),(0,c.isDefined)(s.rowPageBreak)&&(this.rowPageBreak=s.rowPageBreak),(0,c.isDefined)(s.showFoot)&&(this.showFoot=s.showFoot),(0,c.isDefined)(s.showHead)&&(this.showHead=s.showHead),(0,c.isDefined)(s.startY)&&(this.startY=s.startY),(0,c.isDefined)(s.tableLineWidth)&&(this.tableLineWidth=s.tableLineWidth),(0,c.isDefined)(s.tableLineColor)&&this.tableLineColor.assign(s.tableLineColor),(0,c.isDefined)(s.tableWidth)&&this.tableWidth.assign(s.tableWidth))},i.prototype.addBody=function(s){s&&(this._body=new Array,this.addCells(s,this._body))},i.prototype.addCells=function(s,l){for(var g=this.styles.fillColor,p=0;p<s.length;p++){for(var f=s[p],y=new Array,m=0;m<f.length;m++){var v=new d.CellDef(f[m]);g.hasValue()&&v.styles&&v.styles.fillColor.hasValue()&&v.styles.fillColor.applyOpacityToBackground(g),y.push(v)}l.push(y)}},i.prototype.applyColumnStyle=function(s,l){var g;(g=this._columnStyles)!==null&&g!==void 0||(this._columnStyles=new Array),this._columnStyles[s]=new n.StyleDef(l)},i.prototype.getColumnStylesForJsPdf=function(){if(this._columnStyles){var s={};return this._columnStyles.forEach(function(l,g){l&&(s[g]=l.getValue())}),s}return null},i}();h.TableOptions=r},7343:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Width=void 0;var c=a(2642),d=a(6907),u=function(){function o(t){this.assign(t)}return o.prototype.assign=function(t){if(t instanceof o)this._widthInternal=t._widthInternal;else{var n=typeof t=="number"?t:parseInt(t);isNaN(n)?this.assignFromString(t):this._widthInternal=n}},o.prototype.assignFromString=function(t){if(t){var n=d.DomUtils.pxToInt(t);this._widthInternal=n||c.PredefinedStyles.getPredefinedStringOrUndefined(t,c.PredefinedStyles.width)}},o.prototype.hasValue=function(){return!!this._widthInternal},o.prototype.getValue=function(){return this._widthInternal},o}();h.Width=u},8603:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaExportHelper=void 0;var c=a(6907),d=a(858),u=a(1855),o=a(9201),t=a(405),n=a(9895),e=function(){function r(i,s){this._owner=i,this._props=s}return Object.defineProperty(r.prototype,"customRangeLeftOffset",{get:function(){var i;return(i=this._customRangeLeftOffset)!==null&&i!==void 0||(this._customRangeLeftOffset=this.layoutCalculator.getWidthByDateRange(this.startDate,this.ownerStartDate)),this._customRangeLeftOffset},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"baseCellSize",{get:function(){return this._owner.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"objectsLeftDelta",{get:function(){return this.renderedScaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"objectsTopDelta",{get:function(){if(!this.hasTasks)return 0;var i=this.visibleTaskIndices[0];return this.getCellTop(i)+this.getTaskCellOffsetTop(i)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsetLeft",{get:function(){var i;return(i=this._offsetLeft)!==null&&i!==void 0||(this._offsetLeft=Math.max(this.visibleLeft-this.renderedScaleLeft,0)),this._offsetLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsetTop",{get:function(){var i;return(i=this._offsetTop)!==null&&i!==void 0||(this._offsetTop=this.getOffsetTop()),this._offsetTop},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scales",{get:function(){var i=this.settings.viewType;return[o.DateUtils.ViewTypeToScaleMap[i],i]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleRanges",{get:function(){var i;return(i=this._scaleRanges)!==null&&i!==void 0||(this._scaleRanges=this.layoutCalculator.getScaleRangesInArea(this.scaleLeft,this.scaleRight)),this._scaleRanges},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomStartIndex",{get:function(){return this.scaleRanges[1][0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomEndIndex",{get:function(){return this.scaleRanges[1][1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopStartIndex",{get:function(){return this.scaleRanges[0][0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopEndIndex",{get:function(){return this.scaleRanges[0][1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopWidths",{get:function(){var i;return(i=this._scaleTopWidths)!==null&&i!==void 0||(this._scaleTopWidths=this.getScaleTopWidths()),this._scaleTopWidths},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomWidths",{get:function(){var i;return(i=this._scaleBottomWidths)!==null&&i!==void 0||(this._scaleBottomWidths=this.getScaleBottomWidths()),this._scaleBottomWidths},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerRowHeight",{get:function(){if(!this._headerRowHeight){var i=this.scaleElements[0].filter(function(s){return!!s})[0];this._headerRowHeight=i==null?void 0:i.offsetHeight}return this._headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleTaskIndices",{get:function(){var i;return(i=this._visibleTaskIndices)!==null&&i!==void 0||(this._visibleTaskIndices=this.getTaskIndices()),this._visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"baseCellHeight",{get:function(){return this.hasTasks?this.baseCellSize.height:this.taskAreaHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskAreaHeight",{get:function(){return this.hasTasks?this.visibleTaskIndices.length*this.baseCellHeight:this._owner.renderHelper.taskArea.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTableStyle",{get:function(){var i;return(i=this._scaleTableStyle)!==null&&i!==void 0||(this._scaleTableStyle=this.getScaleTableStyle()),this._scaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"chartMainTableStyle",{get:function(){var i;return(i=this._chartMainTableStyle)!==null&&i!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parentRowBackColor",{get:function(){var i;return(i=this._parentRowBackColor)!==null&&i!==void 0||(this._parentRowBackColor=this.getParentBackColor()),this._parentRowBackColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"arrowWidth",{get:function(){var i;return(i=this._arrowWidth)!==null&&i!==void 0||(this._arrowWidth=this.getArrowWidth()),this._arrowWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dependencyColor",{get:function(){var i;return(i=this._dependencyColor)!==null&&i!==void 0||(this._dependencyColor=this.getDependencyColor()),this._dependencyColor},enumerable:!1,configurable:!0}),r.prototype.getTaskElementBackColor=function(i,s){var l=this.getTaskElementStyle(i,s);return l==null?void 0:l.backgroundColor},r.prototype.getTaskElementStyle=function(i,s){var l=this.getTaskWrapper(i);return this.getElementStyle(l.getElementsByClassName(s)[0])},r.prototype.isElementVisible=function(i){return i&&getComputedStyle(i).display!=="none"},Object.defineProperty(r.prototype,"hasTasks",{get:function(){return this.visibleTaskIndices.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleLeft",{get:function(){var i;return(i=this._visibleLeft)!==null&&i!==void 0||(this._visibleLeft=this.isVisibleMode?this.container.scrollLeft:0),this._visibleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleTop",{get:function(){var i;return(i=this._visibleTop)!==null&&i!==void 0||(this._visibleTop=this.isVisibleMode?this.container.scrollTop:0),this._visibleTop},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleRight",{get:function(){var i;return(i=this._visibleRight)!==null&&i!==void 0||(this._visibleRight=this.getVisibleRight()),this._visibleRight},enumerable:!1,configurable:!0}),r.prototype.getVisibleRight=function(){var i=this.container.getElement().offsetWidth;return this.visibleLeft+i},Object.defineProperty(r.prototype,"visibleBottom",{get:function(){var i;return(i=this._visibleBottom)!==null&&i!==void 0||(this._visibleBottom=this.getVisibleBottom()),this._visibleBottom},enumerable:!1,configurable:!0}),r.prototype.getVisibleBottom=function(){return this.isVisibleMode?this.visibleTop+this.container.getHeight():this.visibleTaskIndices.length*this.baseCellSize.height},Object.defineProperty(r.prototype,"scaleLeft",{get:function(){var i;return(i=this._scaleLeft)!==null&&i!==void 0||(this._scaleLeft=this.isVisibleMode?this.visibleLeft:this.getPosByDate(this.startDate)),this._scaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleRight",{get:function(){var i;return(i=this._scaleRight)!==null&&i!==void 0||(this._scaleRight=this.isVisibleMode?this.visibleRight:this.getPosByDate(this.endDate)-1),this._scaleRight},enumerable:!1,configurable:!0}),r.prototype.getScaleTopWidths=function(){var i=this.getScaleWidths(this.scaleTopStartIndex,this.scaleTopEndIndex,this.scales[0]),s=this.layoutCalculator,l=s.getScaleItemInfo(this.scaleBottomStartIndex,this.scales[1]),g=s.getScaleItemInfo(this.scaleTopStartIndex,this.scales[0]),p=Math.max(l.position.x-g.position.x,0);i[this.scaleTopStartIndex]-=p;var f=s.getScaleItemInfo(this.scaleTopEndIndex,this.scales[0]),y=s.getScaleItemInfo(this.scaleBottomEndIndex,this.scales[1]);return p=Math.max(f.position.x+f.size.width-y.position.x-y.size.width,0),i[this.scaleTopEndIndex]-=p,i},r.prototype.getScaleBottomWidths=function(){return this.getScaleWidths(this.scaleBottomStartIndex,this.scaleBottomEndIndex,this.scales[1])},r.prototype.getScaleWidths=function(i,s,l){for(var g=new Array,p=i;p<=s;p++)g[p]=this.layoutCalculator.getScaleItemInfo(p,l).size.width;return g},r.prototype.getOffsetTop=function(){return this.isVisibleMode&&this.hasTasks?this.getTaskCellOffsetTop(this.visibleTaskIndices[0]):0},Object.defineProperty(r.prototype,"renderedScaleLeft",{get:function(){return this.getCellLeft(this.scaleBottomStartIndex)},enumerable:!1,configurable:!0}),r.prototype.getTaskCellOffsetTop=function(i){var s=this.getCellTop(i);return Math.max(this.visibleTop-s,0)},r.prototype.getCellTop=function(i){return this.layoutCalculator.getGridBorderPosition(i-1,!1).y},r.prototype.getCellLeft=function(i){return this.layoutCalculator.getScaleItemInfo(i,this.scales[1]).position.x},r.prototype.getTaskIndices=function(){var i,s;return this.dataMode===n.DataExportMode.all||this.exportRange?this._owner.getAllVisibleTaskIndices((i=this.exportRange)===null||i===void 0?void 0:i.startIndex,(s=this.exportRange)===null||s===void 0?void 0:s.endIndex):this.getVisibleTaskIndices()},r.prototype.getVisibleTaskIndices=function(){var i=this,s=[];return this.taskElements.forEach(function(l,g){if(l){var p=c.DomUtils.pxToInt(l.style.top),f=p+l.offsetHeight,y=p>=i.visibleTop&&p<=i.visibleBottom,m=f>=i.visibleTop&&f<=i.visibleBottom;(y||m)&&s.push(g)}}),s},Object.defineProperty(r.prototype,"scaleElements",{get:function(){return this._owner.renderHelper.scaleElements.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBorders",{get:function(){return this._owner.renderHelper.scaleBorders.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hlRowElements",{get:function(){return this._owner.renderHelper.hlRowElements.filter(function(i){return!!i})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectionElements",{get:function(){return this._owner.renderHelper.selectionElements.filter(function(i){return!!i})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskElements",{get:function(){return this._owner.renderHelper.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"connectorLines",{get:function(){var i,s=this;return(i=this._connectorLines)!==null&&i!==void 0||(this._connectorLines=this._owner.renderHelper.allConnectorLines.filter(function(l){return s.isLineVisible(l)})),this._connectorLines},enumerable:!1,configurable:!0}),r.prototype.isLineVisible=function(i){if(this.dataMode===n.DataExportMode.all)return!0;var s=i.attr["dependency-id"];return this.visibleDependencyKeys.indexOf(s)>-1},Object.defineProperty(r.prototype,"visibleDependencyKeys",{get:function(){var i;return(i=this._visibleDependencyKeys)!==null&&i!==void 0||(this._visibleDependencyKeys=this._owner.getVisibleDependencyKeysByTaskRange(this.visibleTaskIndices)),this._visibleDependencyKeys},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resourcesElements",{get:function(){var i,s=this;return(i=this._resourcesElements)!==null&&i!==void 0||(this._resourcesElements=this.visibleTaskIndices.map(function(l){return s._owner.renderHelper.resourcesElements[l]}).filter(function(l){return s.isElementVisible(l)&&l.parentElement})),this._resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stripLinesElements",{get:function(){if(!this._stripLinesElements){var i=this._owner.renderHelper.stripLinesMap.filter(function(s){return!!s}).map(function(s){return s});this._stripLinesElements=i.map(function(s){return s})}return this._stripLinesElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"noWorkingIntervalsElements",{get:function(){if(!this._noWorkingIntervalsElements){this._noWorkingIntervalsElements=[];var i=this._owner.renderHelper.noWorkingIntervalsToElementsMap;for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&this._noWorkingIntervalsElements.push(i[s])}return this._noWorkingIntervalsElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskArea",{get:function(){return this._owner.renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"settings",{get:function(){return this._owner.settings},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataMode",{get:function(){var i;return(i=this._props)===null||i===void 0?void 0:i.exportDataMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"exportRange",{get:function(){var i;return(i=this._props)===null||i===void 0?void 0:i.dateRange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isVisibleMode",{get:function(){return this.dataMode===n.DataExportMode.visible&&!this.exportRange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ownerStartDate",{get:function(){return this._owner.range.start},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ownerEndDate",{get:function(){return this._owner.range.end},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startDate",{get:function(){var i,s,l,g;if(!((i=this.exportRange)===null||i===void 0)&&i.startDate&&(!((s=this.exportRange)===null||s===void 0)&&s.endDate)){var p=Math.min((l=this.exportRange)===null||l===void 0?void 0:l.startDate.getTime(),(g=this.exportRange)===null||g===void 0?void 0:g.endDate.getTime());return new Date(p)}return this.ownerStartDate},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endDate",{get:function(){var i,s,l,g;if(!((i=this.exportRange)===null||i===void 0)&&i.startDate&&(!((s=this.exportRange)===null||s===void 0)&&s.endDate)){var p=Math.max((l=this.exportRange)===null||l===void 0?void 0:l.startDate.getTime(),(g=this.exportRange)===null||g===void 0?void 0:g.endDate.getTime());return new Date(p)}return this.ownerEndDate},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasCustomRangeOutOfRender",{get:function(){return this.startDate.getTime()!==this.ownerStartDate.getTime()||this.endDate.getTime()!==this.ownerEndDate.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"layoutCalculator",{get:function(){if(!this._layoutCalculator){var i=this._owner.renderHelper.gridLayoutCalculator;this.hasCustomRangeOutOfRender?(this._layoutCalculator=new u.GridLayoutCalculator,this._layoutCalculator.setSettings(i.visibleTaskAreaSize,i.tickSize,i.elementSizeValues,new d.DateRange(this.startDate,this.endDate),i.viewModel,i.viewType,i.scrollBarHeight,this._owner.settings.firstDayOfWeek)):this._layoutCalculator=i}return this._layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"container",{get:function(){return this._owner.renderHelper.taskAreaContainer},enumerable:!1,configurable:!0}),r.prototype.getPosByDate=function(i){return this.layoutCalculator.getPosByDate(i)},r.prototype.getScaleTableStyle=function(){var i={},s=this.scaleElements[0].filter(function(g){return!!g})[0],l=this.getElementStyle(s);return i.backgroundColor=this.findElementBackColor(s),i.borderColor=this.getChartTableBorderColor(),i.verticalAlign="middle",i.textAlign="center",i.fontSize=l.fontSize,i.fontFamily=l.fontFamily,i.fontWeight=l.fontWeight,i.fontStyle=l.fontStyle,i.color=l.color,i},r.prototype.getChartMainTableStyle=function(){var i={};return i.backgroundColor=this.findElementBackColor(this.taskArea),i.borderColor=this.getChartTableBorderColor(),i},r.prototype.findElementBackColor=function(i){if(!i)return null;for(var s=i,l=new t.Color("transparent");l.opacity===0&&s;){var g=this.getElementStyle(s);l.assign(g.backgroundColor),s=s.parentElement}return l},r.prototype.getChartTableBorderColor=function(){var i=this.getElementStyle(this.scaleBorders[0].filter(function(s){return!!s})[0]);return i==null?void 0:i.borderColor},r.prototype.getParentBackColor=function(){var i=this.getElementStyle(this.hlRowElements[0]);return i==null?void 0:i.backgroundColor},r.prototype.getArrowWidth=function(){var i=this.getDependencyLineStyle(u.GridLayoutCalculator.arrowClassName),s=i.borderWidth||i.borderLeftWidth||i.borderRightWidth||i.borderTopWidth||i.borderBottomWidth;return i&&c.DomUtils.pxToInt(s)},r.prototype.getDependencyColor=function(){var i=this.getDependencyLineStyle(u.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL);return i==null?void 0:i.borderColor},r.prototype.getDependencyLineStyle=function(i){return this.getElementStyle(this.taskArea.getElementsByClassName(i)[0])},r.prototype.getElementStyle=function(i){return i&&getComputedStyle(i)},r.prototype.getTaskWrapper=function(i){return this.isTaskTemplateMode?this._owner.renderHelper.fakeTaskWrapper:(this.taskElements[i]||this._owner.renderHelper.createDefaultTaskElement(i),this.taskElements[i])},Object.defineProperty(r.prototype,"isTaskTemplateMode",{get:function(){return!!this._owner.settings.taskContentTemplate},enumerable:!1,configurable:!0}),r}();h.TaskAreaExportHelper=e},6057:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CollectionBase=void 0;var c=a(2491),d=a(2601),u=function(){function o(){this._items=new Array,this._isGanttCollection=!0}return o.prototype.add=function(t){if((0,c.isDefined)(t)){if(this.getItemById(t.internalId))throw"The collection item with id ='"+t.internalId+"' already exists.";this._addItem(t)}},o.prototype.addRange=function(t){for(var n=0;n<t.length;n++)this.add(t[n])},o.prototype.remove=function(t){var n=this._items.indexOf(t);n>-1&&n<this._items.length&&this._removeItems(n,1)},o.prototype.clear=function(){this._removeItems(0,this._items.length)},o.prototype.invalidate=function(){delete this._invertedItems},o.prototype._addItem=function(t){this._items.push(t),delete this._invertedItems},o.prototype._removeItems=function(t,n){this._items.splice(t,n),delete this._invertedItems},Object.defineProperty(o.prototype,"items",{get:function(){return this._items.slice()},set:function(t){t&&(this._items=t.slice())},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),o.prototype.getItem=function(t){return t>-1&&t<this._items.length?this._items[t]:null},Object.defineProperty(o.prototype,"invertedItems",{get:function(){var t;return(t=this._invertedItems)!==null&&t!==void 0||(this._invertedItems=this._createInvertedItems()),this._invertedItems},enumerable:!1,configurable:!0}),o.prototype._createInvertedItems=function(){for(var t={},n=0;n<this._items.length;n++){var e=this._items[n];t[e.internalId]=e}return t},o.prototype.getItemById=function(t){return this.invertedItems[t]},o.prototype.getItemByPublicId=function(t){return this._items.filter(function(n){return n.id===t||n.id.toString()===t})[0]},o.prototype.assign=function(t){(0,c.isDefined)(t)&&(this.items=t.items)},o.prototype.importFromObject=function(t){(0,c.isDefined)(t)&&(this.clear(),t._isGanttCollection?this.assign(t):t instanceof Array?this.importFromArray(t):this.createItemFromObjectAndAdd(t))},o.prototype.createItemFromObjectAndAdd=function(t){if((0,c.isDefined)(t)&&Object.keys(t).length>0){var n=this.createItem();n.assignFromObject(t),this.add(n)}},o.prototype.importFromArray=function(t){for(var n=0;n<t.length;n++)this.createItemFromObjectAndAdd(t[n])},o.prototype.importFromJSON=function(t){this.importFromObject(d.GanttJsonUtils.parseJson(t))},o}();h.CollectionBase=u},7380:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DependencyCollection=void 0;var c=a(655),d=a(6057),u=a(7352),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.createItem=function(){return new u.Dependency},n}(d.CollectionBase);h.DependencyCollection=o},4432:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WorkingDayRuleCollection=void 0;var c=a(655),d=a(6057),u=a(8401),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.createItem=function(){return new u.WorkingTimeRule},n}(d.CollectionBase);h.WorkingDayRuleCollection=o},9883:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceAssignmentCollection=void 0;var c=a(655),d=a(6057),u=a(7437),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.createItem=function(){return new u.ResourceAssignment},n}(d.CollectionBase);h.ResourceAssignmentCollection=o},8828:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceCollection=void 0;var c=a(655),d=a(6057),u=a(2301),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.createItem=function(){return new u.Resource},n}(d.CollectionBase);h.ResourceCollection=o},9504:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskCollection=void 0;var c=a(655),d=a(8492),u=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.createItem=function(){return new d.Task},t}(a(6057).CollectionBase);h.TaskCollection=u},5594:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EventDispatcher=void 0;var a=function(){function c(){this.listeners=[]}return c.prototype.add=function(d){if(!d)throw new Error("Error");this.hasEventListener(d)||this.listeners.push(d)},c.prototype.remove=function(d){for(var u=0,o=void 0;o=this.listeners[u];u++)if(o===d){this.listeners.splice(u,1);break}},c.prototype.raise=function(d){for(var u=[],o=1;o<arguments.length;o++)u[o-1]=arguments[o];for(var t=0,n=void 0;n=this.listeners[t];t++){var e=n[d];e==null||e.apply(n,u)}},c.prototype.hasEventListener=function(d){for(var u=0,o=this.listeners.length;u<o;u++)if(this.listeners[u]===d)return!0;return!1},c}();h.EventDispatcher=a},3452:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ModelChangesDispatcher=void 0;var c=a(255),d=a(8403),u=a(8738),o=a(9669),t=a(5594),n=function(){function e(){this.onModelChanged=new t.EventDispatcher,this.isLocked=!1}return e.prototype.notifyTaskCreating=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskCreating",r)},e.prototype.notifyTaskCreated=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyTaskCreated",r,i,s)},e.prototype.notifyTaskRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoving",r)},e.prototype.notifyTaskRemoved=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoved",r,i,s)},e.prototype.notifyTaskUpdating=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdating",r)},e.prototype.notifyTaskMoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskMoving",r)},e.prototype.notifyTaskEditDialogShowing=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskEditDialogShowing",r)},e.prototype.notifyResourceManagerDialogShowing=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceManagerDialogShowing",r)},e.prototype.notifyTaskUpdated=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdated",r,i,s)},e.prototype.notifyParentTaskUpdated=function(r,i){this.isLocked||this.onModelChanged.raise("NotifyParentTaskUpdated",r,i)},e.prototype.notifyDependencyInserting=function(r){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserting",r)},e.prototype.notifyDependencyInserted=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserted",r,i,s)},e.prototype.notifyDependencyRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoving",r)},e.prototype.notifyDependencyRemoved=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoved",r,i,s)},e.prototype.notifyResourceCreating=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceCreating",r)},e.prototype.notifyResourceCreated=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyResourceCreated",r,i,s)},e.prototype.notifyResourceRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoving",r)},e.prototype.notifyResourceRemoved=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoved",r,i,s)},e.prototype.notifyResourceColorChanged=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyResourceColorChanged",r,i,s)},e.prototype.notifyResourceAssigning=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigning",r)},e.prototype.notifyResourceAssigned=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigned",r,i,s)},e.prototype.notifyResourceUnassigning=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigning",r)},e.prototype.notifyResourceUnassigned=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigned",r,i,s)},e.prototype.notifyParentDataRecalculated=function(r){this.onModelChanged.raise("NotifyParentDataRecalculated",r)},e.prototype.notifyScaleCellPrepared=function(r){this.onModelChanged.raise("NotifyScaleCellPrepared",r)},e.prototype.notifyGanttViewUpdated=function(){this.onModelChanged.raise("NotifyGanttViewUpdated")},e.prototype.fireResourceUnassigning=function(r){var i=new u.ResourceUnassigningArguments(r);return this.notifyResourceUnassigning(i),!i.cancel},e.prototype.raiseTaskUpdating=function(r,i,s){var l=new o.TaskUpdatingArguments(r,i);return this.notifyTaskUpdating(l),!l.cancel&&(s(l.newValues),!0)},e.prototype.raiseTaskMoving=function(r,i,s,l){var g=new o.TaskUpdatingArguments(r,{start:i,end:s});return this.notifyTaskMoving(g),!g.cancel&&(l(g.start,g.end),!0)},e.prototype.raiseTaskTaskEditDialogShowing=function(r,i){var s=new d.TaskEditDialogShowingArguments(r);return this.notifyTaskEditDialogShowing(s),!s.cancel&&(i(s),!0)},e.prototype.raiseResourceManagerDialogShowing=function(r,i){var s=new c.ResourceManagerDialogShowingArguments(r);return this.notifyResourceManagerDialogShowing(s),!s.cancel&&(i(s),!0)},e.prototype.lock=function(){this.isLocked=!0},e.prototype.unlock=function(){this.isLocked=!1},e}();h.ModelChangesDispatcher=n},6124:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GanttDataObjectNames=h.DataObject=void 0;var c=a(2491),d=a(8679),u=function(){function o(){this.internalId=d.MathUtils.generateGuid()}return o.prototype.assignFromObject=function(t){(0,c.isDefined)(t)&&(0,c.isDefined)(t.id)&&this.updateId(t.id)},o.prototype.updateId=function(t){this.id=t,this.internalId=String(t)},o}();h.DataObject=u,h.GanttDataObjectNames={task:"task",dependency:"dependency",resource:"resource",resourceAssignment:"assignment"}},7352:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Dependency=void 0;var c=a(655),d=a(2491),u=a(6124),o=a(5950),t=function(n){function e(){var r=n.call(this)||this;return r.predecessorId="",r.successorId="",r.type=null,r}return c.__extends(e,n),Object.defineProperty(e.prototype,"isStartDependency",{get:function(){return this.type===o.DependencyType.SS||this.type===o.DependencyType.SF},enumerable:!1,configurable:!0}),e.prototype.assignFromObject=function(r){(0,d.isDefined)(r)&&(n.prototype.assignFromObject.call(this,r),this.predecessorId=String(r.predecessorId),this.successorId=String(r.successorId),this.type=this.parseType(r.type))},e.prototype.parseType=function(r){if(!(0,d.isDefined)(r))return o.DependencyType.FS;switch(r.toString().toUpperCase()){case"SS":case"1":return o.DependencyType.SS;case"FF":case"2":return o.DependencyType.FF;case"SF":case"3":return o.DependencyType.SF;default:return o.DependencyType.FS}},e}(u.DataObject);h.Dependency=t},5950:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DependencyType=h.TaskType=void 0,function(a){a[a.Regular=0]="Regular",a[a.Summary=1]="Summary",a[a.Milestone=2]="Milestone"}(h.TaskType||(h.TaskType={})),function(a){a[a.FS=0]="FS",a[a.SS=1]="SS",a[a.FF=2]="FF",a[a.SF=3]="SF"}(h.DependencyType||(h.DependencyType={}))},2301:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Resource=void 0;var c=a(655),d=a(2491),u=function(o){function t(){var n=o.call(this)||this;return n.text="",n.color="",n}return c.__extends(t,o),t.prototype.assignFromObject=function(n){(0,d.isDefined)(n)&&(o.prototype.assignFromObject.call(this,n),this.text=n.text,(0,d.isDefined)(n.color)&&(this.color=n.color))},t}(a(6124).DataObject);h.Resource=u},7437:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceAssignment=void 0;var c=a(655),d=a(2491),u=function(o){function t(){var n=o.call(this)||this;return n.taskId="",n.resourceId="",n}return c.__extends(t,o),t.prototype.assignFromObject=function(n){(0,d.isDefined)(n)&&(o.prototype.assignFromObject.call(this,n),this.taskId=String(n.taskId),this.resourceId=String(n.resourceId))},t}(a(6124).DataObject);h.ResourceAssignment=u},8492:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Task=void 0;var c=a(655),d=a(2491),u=a(6124),o=-8e15,t=function(n){function e(){var r=n.call(this)||this;return r.start=null,r.end=null,r.duration=null,r.description="",r.parentId=null,r.title="",r.owner=null,r.progress=0,r.taskType=null,r.customFields={},r.expanded=!0,r.color="",r}return c.__extends(e,n),Object.defineProperty(e.prototype,"normalizedProgress",{get:function(){return Math.max(Math.min(this.progress,100),0)},enumerable:!1,configurable:!0}),e.prototype.assignFromObject=function(r){(0,d.isDefined)(r)&&(n.prototype.assignFromObject.call(this,r),this.owner=r.owner,this.parentId=(0,d.isDefined)(r.parentId)?String(r.parentId):null,this.description=r.description,this.title=r.title,this.start=typeof r.start=="string"?new Date(r.start):r.start||this.createInvalidDate(),this.end=typeof r.end=="string"?new Date(r.end):r.end||this.createInvalidDate(),this.duration=r.duration,this.progress=r.progress,this.taskType=r.taskType,(0,d.isDefined)(r.expanded)&&(this.expanded=!!r.expanded),(0,d.isDefined)(r.color)&&(this.color=r.color),this.assignCustomFields(r.customFields))},e.prototype.assignCustomFields=function(r){if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(this.customFields[i]=r[i])},e.prototype.isMilestone=function(){return this.start.getTime()===this.end.getTime()},e.prototype.getDuration=function(){return this.end.getTime()-this.start.getTime()},e.prototype.isValidStart=function(){return this.isValidTaskaDte(this.start)},e.prototype.isValidEnd=function(){return this.isValidTaskaDte(this.end)},e.prototype.isValid=function(){return this.isValidStart()&&this.isValidEnd()},e.prototype.createInvalidDate=function(){return new Date(o)},e.prototype.isValidTaskaDte=function(r){return!!r&&r.getTime()!==o},e}(u.DataObject);h.Task=t},8774:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BaseArguments=void 0;var a=function(c){this.cancel=!1,this.values={},this.key=c};h.BaseArguments=a},3279:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DependencyInsertingArguments=void 0;var c=a(655),d=function(u){function o(t,n,e){var r=u.call(this,null)||this;return r.values={predecessorId:t,successorId:n,type:e},r}return c.__extends(o,u),Object.defineProperty(o.prototype,"predecessorId",{get:function(){return this.values.predecessorId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"successorId",{get:function(){return this.values.successorId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"type",{get:function(){return this.values.type},enumerable:!1,configurable:!0}),o}(a(8774).BaseArguments);h.DependencyInsertingArguments=d},4797:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DependencyRemovingArguments=void 0;var c=a(655),d=function(u){function o(t){var n=u.call(this,t.id)||this;return n.values=t,n}return c.__extends(o,u),o}(a(8774).BaseArguments);h.DependencyRemovingArguments=d},255:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceManagerDialogShowingArguments=void 0;var c=a(655),d=function(u){function o(t){var n=u.call(this,void 0)||this;return n.values.resources=t.resources,n}return c.__extends(o,u),o}(a(8774).BaseArguments);h.ResourceManagerDialogShowingArguments=d},8403:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskEditDialogShowingArguments=void 0;var c=a(655),d=function(u){function o(t){var n=u.call(this,t.id)||this;return n.values={start:t.start,end:t.end,title:t.title,progress:t.progress},n.hiddenFields=t.hiddenFields,n.readOnlyFields=t.readOnlyFields,n}return c.__extends(o,u),o}(a(8774).BaseArguments);h.TaskEditDialogShowingArguments=d},1389:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceAssigningArguments=void 0;var c=a(655),d=function(u){function o(t,n){var e=u.call(this,null)||this;return e.values={resourceId:t,taskId:n},e}return c.__extends(o,u),Object.defineProperty(o.prototype,"resourceId",{get:function(){return this.values.resourceId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskId",{get:function(){return this.values.taskId},enumerable:!1,configurable:!0}),o}(a(8774).BaseArguments);h.ResourceAssigningArguments=d},8738:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceUnassigningArguments=void 0;var c=a(655),d=function(u){function o(t){var n=u.call(this,t.internalId)||this;return n.values=t,n}return c.__extends(o,u),o}(a(8774).BaseArguments);h.ResourceUnassigningArguments=d},990:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceInsertingArguments=void 0;var c=a(655),d=function(u){function o(t,n){n===void 0&&(n="");var e=u.call(this,null)||this;return e.values={text:t,color:n},e}return c.__extends(o,u),Object.defineProperty(o.prototype,"text",{get:function(){return this.values.text},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),o}(a(8774).BaseArguments);h.ResourceInsertingArguments=d},9748:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceRemovingArguments=void 0;var c=a(655),d=function(u){function o(t){var n=u.call(this,t.id)||this;return n.values=t,n}return c.__extends(o,u),o}(a(8774).BaseArguments);h.ResourceRemovingArguments=d},4605:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskInsertingArguments=void 0;var c=a(655),d=function(u){function o(t,n){var e=u.call(this,t)||this;return e.values=n??{},e}return c.__extends(o,u),Object.defineProperty(o.prototype,"start",{get:function(){return this.values.start},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"end",{get:function(){return this.values.end},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"title",{get:function(){return this.values.title},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"progress",{get:function(){return this.values.progress},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parentId",{get:function(){return this.values.parentId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),o}(a(8774).BaseArguments);h.TaskInsertingArguments=d},4642:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskRemovingArguments=void 0;var c=a(655),d=function(u){function o(t){var n=u.call(this,t.id)||this;return n.values=t,n}return c.__extends(o,u),o}(a(8774).BaseArguments);h.TaskRemovingArguments=d},9669:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskUpdatingArguments=void 0;var c=a(655),d=function(u){function o(t,n){var e=u.call(this,t.id)||this;return e.values=t,e.createNewValues(n),e}return c.__extends(o,u),o.prototype.createNewValues=function(t){var n=this;this.newValues={};var e=function(s){Object.prototype.hasOwnProperty.call(t,s)&&(r.newValues[s]=t[s],Object.defineProperty(r,s,{get:function(){return n.newValues[s]}}))},r=this;for(var i in t)e(i)},o}(a(8774).BaseArguments);h.TaskUpdatingArguments=d},8725:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.History=void 0;var c=a(5221),d=a(9751),u=function(){function o(t){this.historyItems=[],this.currentIndex=-1,this.currentProcessingItemInfo=null,this.transaction=null,this.transactionLevel=-1,this._listener=t}return o.prototype.undo=function(){this.canUndo()&&(this.activateItem(this.historyItems[this.currentIndex],!0),this.currentIndex--)},o.prototype.redo=function(){this.canRedo()&&(this.currentIndex++,this.activateItem(this.historyItems[this.currentIndex]))},o.prototype.beginTransaction=function(){var t;this.transactionLevel++,this.transactionLevel==0&&(this.transaction=new d.CompositionHistoryItem,(t=this._listener)===null||t===void 0||t.onTransactionStart())},o.prototype.endTransaction=function(){var t;if(!(--this.transactionLevel>=0)){var n=this.transaction.historyItems.length;n>1?this.addInternal(this.transaction):n==1&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null,(t=this._listener)===null||t===void 0||t.onTransactionEnd()}},o.prototype.addAndRedo=function(t){this.add(t),this.activateItem(t)},o.prototype.add=function(t){this.transactionLevel>=0?this.transaction.add(t):this.addInternal(t)},o.prototype.canUndo=function(){return this.currentIndex>=0},o.prototype.canRedo=function(){return this.currentIndex<this.historyItems.length-1},o.prototype.addInternal=function(t){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(t),this.currentIndex++,this.deleteOldItems()},o.prototype.deleteOldItems=function(){var t=this.historyItems.length-o.MAX_HISTORY_ITEM_COUNT;t>0&&this.currentIndex>t&&(this.historyItems.splice(0,t),this.currentIndex-=t)},o.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},o.prototype.activateItem=function(t,n){n===void 0&&(n=!1),this.currentProcessingItemInfo=new c.HistoryItemInfo(t,n),n?t.undo():t.redo(),this.currentProcessingItemInfo=null},o.prototype.getCurrentProcessingItemInfo=function(){return this.currentProcessingItemInfo},o.prototype.rollBackAndRemove=function(t){var n=t.item;this.checkAndRemoveItem(n)&&(t.isUndo?n.redo():n instanceof d.CompositionHistoryItem?n.undoItemsQuery():n.undo())},o.prototype.checkAndRemoveItem=function(t){var n=this.historyItems.indexOf(t);return n>-1?(this.historyItems.splice(n,1),this.currentIndex--):this.transaction&&(n=this.transaction.historyItems.indexOf(t))>-1&&this.transaction.historyItems.splice(n,1),n>-1},o.prototype.updateObsoleteInsertedKey=function(t,n,e){this.transaction&&this.updateItemsObsoleteInsertedKey(t,n,e,[this.transaction]),this.updateItemsObsoleteInsertedKey(t,n,e,this.historyItems)},o.prototype.updateItemsObsoleteInsertedKey=function(t,n,e,r){if(r)for(var i=0;i<r.length;i++){var s=r[i];s.keyUpdaters.filter(function(l){return l.getKey()===t&&l.objectType===e}).forEach(function(l){return l.updateKey(n)}),s instanceof d.CompositionHistoryItem&&this.updateItemsObsoleteInsertedKey(t,n,e,s.historyItems)}},o.MAX_HISTORY_ITEM_COUNT=100,o}();h.History=u},9751:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CompositionHistoryItem=void 0;var c=a(655),d=function(u){function o(){var t=u.call(this,null)||this;return t.historyItems=[],t}return c.__extends(o,u),o.prototype.redo=function(){for(var t,n=0;t=this.historyItems[n];n++)t.redo()},o.prototype.undo=function(){for(var t,n=this.historyItems.length-1;t=this.historyItems[n];n--)t.undo()},o.prototype.add=function(t){if(t==null)throw new Error("Can't add null HistoryItem");this.historyItems.push(t)},o.prototype.undoItemsQuery=function(){this.undo()},o.prototype.setModelManipulator=function(t){if(u.prototype.setModelManipulator.call(this,t),this.historyItems)for(var n=0;n<this.historyItems.length;n++)this.historyItems[n].setModelManipulator(t)},o}(a(7917).HistoryItem);h.CompositionHistoryItem=d},1211:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.InsertDependencyHistoryItem=void 0;var c=a(655),d=a(8679),u=a(6124),o=function(t){function n(e,r,i,s){var l=t.call(this,e)||this;return l.predecessorId=r,l.successorId=i,l.type=s,l}return c.__extends(n,t),n.prototype.redo=function(){var e;(e=this.insertedKey)!==null&&e!==void 0||(this.insertedKey=d.MathUtils.generateGuid()),this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type,this.insertedKey)},n.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.insertedKey)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:u.GanttDataObjectNames.dependency,getKey:function(){return e.insertedKey},updateKey:function(r){return e.insertedKey=r}},{objectType:u.GanttDataObjectNames.task,getKey:function(){return e.predecessorId},updateKey:function(r){return e.predecessorId=r}},{objectType:u.GanttDataObjectNames.task,getKey:function(){return e.successorId},updateKey:function(r){return e.successorId=r}}]},enumerable:!1,configurable:!0}),n}(a(7917).HistoryItem);h.InsertDependencyHistoryItem=o},5865:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RemoveDependencyHistoryItem=void 0;var c=a(655),d=a(6124),u=function(o){function t(n,e){var r=o.call(this,n)||this;return r.dependencyId=e,r}return c.__extends(t,o),t.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},t.prototype.undo=function(){this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type,this.dependencyId)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var n=this;return[{objectType:d.GanttDataObjectNames.dependency,getKey:function(){return n.dependencyId},updateKey:function(e){return n.dependencyId=e}},{objectType:d.GanttDataObjectNames.task,getKey:function(){var e;return(e=n.dependency)===null||e===void 0?void 0:e.predecessorId},updateKey:function(e){return n.dependency.predecessorId=e}},{objectType:d.GanttDataObjectNames.task,getKey:function(){var e;return(e=n.dependency)===null||e===void 0?void 0:e.successorId},updateKey:function(e){return n.dependency.successorId=e}}]},enumerable:!1,configurable:!0}),t}(a(7917).HistoryItem);h.RemoveDependencyHistoryItem=u},7917:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.HistoryItem=void 0;var a=function(){function c(d){this.setModelManipulator(d)}return c.prototype.setModelManipulator=function(d){this.modelManipulator=d},Object.defineProperty(c.prototype,"keyUpdaters",{get:function(){return[]},enumerable:!1,configurable:!0}),c}();h.HistoryItem=a},5221:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.HistoryItemInfo=void 0;var a=function(c,d){d===void 0&&(d=!1),this.item=c,this.isUndo=d};h.HistoryItemInfo=a},3064:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.HistoryItemState=void 0;var a=function(c,d){this.id=c,this.value=d};h.HistoryItemState=a},3683:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AssignResourceHistoryItem=void 0;var c=a(655),d=a(7917),u=a(6124),o=a(8679),t=function(n){function e(r,i,s){var l=n.call(this,r)||this;return l.resourceId=i,l.taskId=s,l}return c.__extends(e,n),e.prototype.redo=function(){var r;(r=this.insertedKey)!==null&&r!==void 0||(this.insertedKey=o.MathUtils.generateGuid()),this.modelManipulator.resource.assign(this.resourceId,this.taskId,this.insertedKey)},e.prototype.undo=function(){this.modelManipulator.resource.deassig(this.insertedKey)},Object.defineProperty(e.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:u.GanttDataObjectNames.resourceAssignment,getKey:function(){return r.insertedKey},updateKey:function(i){return r.insertedKey=i}},{objectType:u.GanttDataObjectNames.task,getKey:function(){return r.taskId},updateKey:function(i){return r.taskId=i}},{objectType:u.GanttDataObjectNames.resource,getKey:function(){return r.resourceId},updateKey:function(i){return r.resourceId=i}}]},enumerable:!1,configurable:!0}),e}(d.HistoryItem);h.AssignResourceHistoryItem=t},1493:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DeassignResourceHistoryItem=void 0;var c=a(655),d=a(7917),u=a(6124),o=function(t){function n(e,r){var i=t.call(this,e)||this;return i.assignmentId=r,i}return c.__extends(n,t),n.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},n.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId,this.assignmentId)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:u.GanttDataObjectNames.resourceAssignment,getKey:function(){return e.assignmentId},updateKey:function(r){return e.assignmentId=r}},{objectType:u.GanttDataObjectNames.task,getKey:function(){var r;return(r=e.assignment)===null||r===void 0?void 0:r.taskId},updateKey:function(r){return e.assignment.taskId=r}},{objectType:u.GanttDataObjectNames.resource,getKey:function(){var r;return(r=e.assignment)===null||r===void 0?void 0:r.resourceId},updateKey:function(r){return e.assignment.resourceId=r}}]},enumerable:!1,configurable:!0}),n}(d.HistoryItem);h.DeassignResourceHistoryItem=o},2961:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CreateResourceHistoryItem=void 0;var c=a(655),d=a(7917),u=a(6124),o=a(8679),t=function(n){function e(r,i,s,l){s===void 0&&(s="");var g=n.call(this,r)||this;return g.text=i,g.color=s,g.createCallback=l,g}return c.__extends(e,n),e.prototype.redo=function(){var r;(r=this.insertedKey)!==null&&r!==void 0||(this.insertedKey=o.MathUtils.generateGuid()),this.modelManipulator.resource.create(this.text,this.color,this.insertedKey,this.createCallback)},e.prototype.undo=function(){this.modelManipulator.resource.remove(this.insertedKey)},Object.defineProperty(e.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:u.GanttDataObjectNames.resource,getKey:function(){return r.insertedKey},updateKey:function(i){return r.insertedKey=i}}]},enumerable:!1,configurable:!0}),e}(d.HistoryItem);h.CreateResourceHistoryItem=t},4641:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceColorHistoryItem=void 0;var c=a(655),d=function(u){function o(){return u!==null&&u.apply(this,arguments)||this}return c.__extends(o,u),o.prototype.getPropertiesManipulator=function(){return this.modelManipulator.resource.properties.color},o}(a(7049).ResourcePropertiesHistoryItemBase);h.ResourceColorHistoryItem=d},7049:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourcePropertiesHistoryItemBase=void 0;var c=a(655),d=a(6124),u=function(o){function t(n,e,r){var i=o.call(this,n)||this;return i.resourceId=e,i.newValue=r,i}return c.__extends(t,o),t.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.resourceId,this.newValue)},t.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},t.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var n=this;return[{objectType:d.GanttDataObjectNames.resource,getKey:function(){return n.resourceId},updateKey:function(e){return n.resourceId=e}}]},enumerable:!1,configurable:!0}),t}(a(7917).HistoryItem);h.ResourcePropertiesHistoryItemBase=u},7466:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RemoveResourceHistoryItem=void 0;var c=a(655),d=a(9751),u=a(6124),o=function(t){function n(e,r){var i=t.call(this)||this;return i.modelManipulator=e,i.resourceId=r,i}return c.__extends(n,t),n.prototype.redo=function(){t.prototype.redo.call(this),this.resource=this.modelManipulator.resource.remove(this.resourceId)},n.prototype.undo=function(){var e=this;this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,function(){e.resource.color&&e.modelManipulator.resource.properties.color.setValue(e.resource.internalId,e.resource.color),window.setTimeout(function(){return t.prototype.undo.call(e)},0)})},n.prototype.undoItemsQuery=function(){this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,function(){}),this.resource.color&&this.modelManipulator.resource.properties.color.setValue(this.resource.internalId,this.resource.color),t.prototype.undo.call(this)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:u.GanttDataObjectNames.resource,getKey:function(){return e.resourceId},updateKey:function(r){return e.resourceId=r}}]},enumerable:!1,configurable:!0}),n}(d.CompositionHistoryItem);h.RemoveResourceHistoryItem=o},1284:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CreateTaskHistoryItem=void 0;var c=a(655),d=a(8679),u=a(6124),o=function(t){function n(e,r){var i=t.call(this,e)||this;return i.data=r,i}return c.__extends(n,t),n.prototype.redo=function(){var e;(e=this.insertedKey)!==null&&e!==void 0||(this.insertedKey=d.MathUtils.generateGuid()),this.modelManipulator.task.create(this.data,this.insertedKey)},n.prototype.undo=function(){this.modelManipulator.task.remove(this.insertedKey)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e,r=this,i=[{objectType:u.GanttDataObjectNames.task,getKey:function(){return r.insertedKey},updateKey:function(s){return r.insertedKey=s}}];return!((e=this.data)===null||e===void 0)&&e.parentId&&i.push({objectType:u.GanttDataObjectNames.task,getKey:function(){var s;return(s=r.data)===null||s===void 0?void 0:s.parentId},updateKey:function(s){return r.data.parentId=s}}),i},enumerable:!1,configurable:!0}),n}(a(7917).HistoryItem);h.CreateTaskHistoryItem=o},9599:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RemoveTaskHistoryItem=void 0;var c=a(655),d=a(6124),u=a(9751),o=function(t){function n(e,r){var i=t.call(this)||this;return i.modelManipulator=e,i.taskId=r,i}return c.__extends(n,t),n.prototype.redo=function(){t.prototype.redo.call(this),this.task=this.modelManipulator.task.remove(this.taskId)},n.prototype.undo=function(){var e=this;this.modelManipulator.task.create(this.task,this.taskId,function(){window.setTimeout(function(){return t.prototype.undo.call(e)},0)})},n.prototype.undoItemsQuery=function(){var e;this.modelManipulator.task.create(this.task,this.taskId);for(var r=this.historyItems.length-1;e=this.historyItems[r];r--)e instanceof u.CompositionHistoryItem?e.undoItemsQuery():e.undo()},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:d.GanttDataObjectNames.task,getKey:function(){return e.taskId},updateKey:function(r){return e.taskId=r}},{objectType:d.GanttDataObjectNames.task,getKey:function(){var r;return(r=e.task)===null||r===void 0?void 0:r.parentId},updateKey:function(r){return e.task.parentId=r}}]},enumerable:!1,configurable:!0}),n}(u.CompositionHistoryItem);h.RemoveTaskHistoryItem=o},9496:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UpdateTaskHistoryItem=void 0;var c=a(655),d=a(6124),u=a(7917),o=a(3064),t=function(n){function e(r,i,s){var l=n.call(this,r)||this;return l.taskId=i,l.newValues=s,l}return c.__extends(e,n),e.prototype.redo=function(){var r=this.modelManipulator.task.update(this.taskId,this.newValues);this.oldState=new o.HistoryItemState(this.taskId,r)},e.prototype.undo=function(){this.modelManipulator.task.update(this.taskId,this.oldState.value)},Object.defineProperty(e.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:d.GanttDataObjectNames.task,getKey:function(){return r.taskId},updateKey:function(i){return r.taskId=i}}]},enumerable:!1,configurable:!0}),e}(u.HistoryItem);h.UpdateTaskHistoryItem=t},6382:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BaseManipulator=void 0;var a=function(){function c(d,u){this.viewModel=d,this.dispatcher=u}return c.prototype.getErrorCallback=function(){return this.viewModel.getDataUpdateErrorCallback()},Object.defineProperty(c.prototype,"renderHelper",{get:function(){return this.viewModel.owner.renderHelper},enumerable:!1,configurable:!0}),c}();h.BaseManipulator=a},1178:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskDependencyManipulator=void 0;var c=a(655),d=a(6124),u=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.insertDependency=function(n,e,r,i){var s=this.viewModel;s.onBeginDataObjectCreate();var l=s.dependencies.createItem();return l.predecessorId=n,l.successorId=e,l.type=r,i&&(l.internalId=i),l.id=l.internalId,s.dependencies.add(l),s.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(l.internalId,!0),this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(l),function(g){var p=l.internalId;l.updateId(g),s.processServerInsertedKey(p,l.internalId,d.GanttDataObjectNames.dependency)},this.getErrorCallback()),s.onEndDataObjectCreate(),l},t.prototype.removeDependency=function(n){var e=this.viewModel.dependencies.getItemById(n);return this.viewModel.dependencies.remove(e),this.dispatcher.notifyDependencyRemoved(e.id,this.getErrorCallback(),this.viewModel.getDependencyObjectForDataSource(e)),this.viewModel.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(e.internalId),e},t.prototype.getObjectForDataSource=function(n){var e=this.viewModel.tasks.getItemById(n.predecessorId),r=this.viewModel.tasks.getItemById(n.successorId);return{id:n.id,predecessorId:e.id,successorId:r.id,type:n.type}},t}(a(6382).BaseManipulator);h.TaskDependencyManipulator=u},9650:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ModelManipulator=void 0;var c=a(1178),d=a(7518),u=a(728),o=function(t,n){this.task=new u.TaskManipulator(t,n),this.dependency=new c.TaskDependencyManipulator(t,n),this.resource=new d.ResourcesManipulator(t,n),this.dispatcher=n};h.ModelManipulator=o},4596:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourceColorManipulator=void 0;var c=a(655),d=function(u){function o(){return u!==null&&u.apply(this,arguments)||this}return c.__extends(o,u),o.prototype.getPropertyValue=function(t){return t.color},o.prototype.setPropertyValue=function(t,n){t.color=n,this.dispatcher.notifyResourceColorChanged(t.id,n,this.getErrorCallback())},o}(a(7470).ResourcePropertyManipulator);h.ResourceColorManipulator=d},79:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourcePropertiesManipulator=void 0;var c=a(655),d=a(6382),u=a(4596),o=function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.color=new u.ResourceColorManipulator(e,r),i}return c.__extends(n,t),n}(d.BaseManipulator);h.ResourcePropertiesManipulator=o},7470:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourcePropertyManipulator=void 0;var c=a(655),d=a(3064),u=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.setValue=function(n,e){var r=this,i=this.viewModel.resources.getItemById(n),s=new d.HistoryItemState(n,this.getPropertyValue(i));return this.setPropertyValue(i,e),this.viewModel.assignments.items.filter(function(l){return l.resourceId===i.internalId}).forEach(function(l){var g=r.viewModel.findItem(l.taskId).visibleIndex;r.renderHelper.recreateTaskElement(g)}),s},t.prototype.restoreValue=function(n){var e=this;if(n){var r=n.value,i=this.viewModel.resources.getItemById(n.id);this.setPropertyValue(i,r),this.viewModel.assignments.items.filter(function(s){return s.resourceId===i.internalId}).forEach(function(s){var l=e.viewModel.findItem(s.taskId).visibleIndex;e.renderHelper.recreateTaskElement(l)})}},t}(a(6382).BaseManipulator);h.ResourcePropertyManipulator=u},7518:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourcesManipulator=void 0;var c=a(655),d=a(6124),u=a(6382),o=a(79),t=function(n){function e(r,i){var s=n.call(this,r,i)||this;return s.properties=new o.ResourcePropertiesManipulator(r,i),s}return c.__extends(e,n),e.prototype.create=function(r,i,s,l){var g=this.viewModel;g.onBeginDataObjectCreate();var p=g.resources.createItem();return p.text=r,i&&(p.color=i),s&&(p.internalId=s),p.id=p.internalId,this.viewModel.resources.add(p),this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(p),function(f){var y=p.internalId;p.updateId(f),g.processServerInsertedKey(y,p.internalId,d.GanttDataObjectNames.resource),l&&l(f)},this.getErrorCallback()),g.onEndDataObjectCreate(),p},e.prototype.remove=function(r){var i=this.viewModel.resources.getItemById(r);if(!i)throw new Error("Invalid resource id");if(this.viewModel.assignments.items.filter(function(s){return s.resourceId===r}).length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(i),this.dispatcher.notifyResourceRemoved(i.id,this.getErrorCallback(),this.viewModel.getResourceObjectForDataSource(i)),i},e.prototype.assign=function(r,i,s){var l=this.viewModel;l.onBeginDataObjectCreate();var g=l.assignments.createItem();return g.resourceId=r,g.taskId=i,s&&(g.internalId=s),g.id=g.internalId,this.viewModel.assignments.add(g),this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(g),function(p){var f=g.internalId;g.updateId(p),l.processServerInsertedKey(f,g.internalId,d.GanttDataObjectNames.resourceAssignment)},this.getErrorCallback()),this.viewModel.updateModel(),l.onEndDataObjectCreate(),this.viewModel.owner.resetAndUpdate(),g},e.prototype.deassig=function(r){var i=this.viewModel.assignments.getItemById(r);return this.viewModel.assignments.remove(i),this.dispatcher.notifyResourceUnassigned(i.id,this.getErrorCallback(),this.viewModel.getResourceAssignmentObjectForDataSource(i)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),i},e.prototype.getResourceObjectForDataSource=function(r){return{id:r.id,text:r.text}},e.prototype.getResourceAssignmentObjectForDataSource=function(r){return{id:r.id,taskId:this.viewModel.tasks.getItemById(r.taskId).id,resourceId:this.viewModel.resources.getItemById(r.resourceId).id}},e}(u.BaseManipulator);h.ResourcesManipulator=t},728:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskManipulator=void 0;var c=a(655),d=a(2491),u=a(6124),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.create=function(e,r,i){var s=this,l=this.viewModel;l.onBeginDataObjectCreate();var g=l.tasks.createItem();g.start=e.start,g.end=e.end,g.title=e.title,g.progress=e.progress,e.color&&(g.color=e.color);var p=l.tasks.getItemById(e.parentId);return p&&(p.expanded=!0),g.parentId=e.parentId,r&&(g.internalId=r),g.id=g.internalId,l.tasks.add(g),l.updateModel(),this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(g),function(f){var y=g.internalId;if(g.updateId(f),l.processServerInsertedKey(y,g.internalId,u.GanttDataObjectNames.task),i&&i(),s.viewModel.requireFirstLoadParentAutoCalc){var m=l.getCurrentTaskData().map(function(v){return v.parentId===""&&(v.parentId=null),v});s.dispatcher.notifyParentDataRecalculated(m)}},this.getErrorCallback()),l.onEndDataObjectCreate(),l.owner.resetAndUpdate(),g},n.prototype.remove=function(e){var r=this.viewModel.tasks.getItemById(e);if(!r)throw new Error("Invalid task id");if(this.viewModel.dependencies.items.filter(function(i){return i.predecessorId==e||i.successorId==e}).length)throw new Error("Can't delete task with dependency");if(this.viewModel.assignments.items.filter(function(i){return i.taskId==e}).length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(r),this.dispatcher.notifyTaskRemoved(r.id,this.getErrorCallback(),this.viewModel.getTaskObjectForDataSource(r)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),r},n.prototype.update=function(e,r){var i=this.viewModel.tasks.getItemById(e),s={};Object.keys(r).forEach(function(g){(0,d.isDefined)(i[g])&&(s[g]=i[g],i[g]=r[g])});var l=this.viewModel.findItem(e);return l&&this.renderHelper.recreateTaskElement(l.visibleIndex),this.dispatcher.notifyTaskUpdated(i.id,r,this.getErrorCallback()),s},n.prototype.getObjectForDataSource=function(e){return this.viewModel.getTaskObjectForDataSource(e)},n}(a(6382).BaseManipulator);h.TaskManipulator=o},2601:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GanttJsonUtils=void 0;var c=a(9937),d=function(){function u(){}return u.parseJson=function(o){return c.JsonUtils.isValid(o)?JSON.parse(o):null},u}();h.GanttJsonUtils=d},8478:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ValidationController=void 0;var c=a(655),d=a(2491),u=a(9201),o=a(5950),t=a(9496),n=a(858),e=a(7880),r=a(4927),i=function(){function s(l){this.lockPredecessorToSuccessor=!0,this.settings=l}return Object.defineProperty(s.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"history",{get:function(){return this.settings.getHistory()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"modelManipulator",{get:function(){return this.settings.getModelManipulator()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"range",{get:function(){return this.settings.getRange()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"validationSettings",{get:function(){return this.settings.getValidationSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_parentAutoCalc",{get:function(){return this.viewModel.parentAutoCalc},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"enablePredecessorGap",{get:function(){return this.viewModel.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isValidateDependenciesRequired",{get:function(){return this.settings.getIsValidateDependenciesRequired()},enumerable:!1,configurable:!0}),s.prototype.updateOwnerInAutoParentMode=function(){this.settings.updateOwnerInAutoParentMode()},s.prototype.checkStartDependencies=function(l,g){var p=this,f=[],y=this.viewModel.tasks.getItemById(l);return this.viewModel.dependencies.items.filter(function(m){return m.successorId===l}).forEach(function(m){var v=p.viewModel.tasks.getItemById(m.predecessorId);(m.type===o.DependencyType.FS&&v.end>g||m.type===o.DependencyType.SS&&v.start>g)&&f.push(new r.ValidationError(m.internalId,!0)),(m.type===o.DependencyType.FS&&v.end.valueOf()===y.start.valueOf()&&g>v.end||m.type===o.DependencyType.SS&&v.start.valueOf()===y.start.valueOf()&&g>v.start)&&f.push(new r.ValidationError(m.internalId))}),f},s.prototype.checkEndDependencies=function(l,g){var p=this,f=[],y=this.viewModel.tasks.getItemById(l);return this.viewModel.dependencies.items.filter(function(m){return m.successorId===l}).forEach(function(m){var v=p.viewModel.tasks.getItemById(m.predecessorId);(m.type===o.DependencyType.SF&&v.start>g||m.type===o.DependencyType.FF&&v.end>g)&&f.push(new r.ValidationError(m.internalId,!0)),(m.type===o.DependencyType.SF&&v.start.valueOf()===y.end.valueOf()&&g>v.start||m.type===o.DependencyType.FF&&v.end.valueOf()===y.end.valueOf()&&g>v.end)&&f.push(new r.ValidationError(m.internalId))}),f},s.prototype.moveEndDependTasks=function(l,g,p){var f=this;p===void 0&&(p=null);var y=this.viewModel.dependencies.items.filter(function(v){return v.predecessorId===l&&!v.isStartDependency}),m=this.viewModel.tasks.getItemById(l);y.forEach(function(v){var T=f.viewModel.tasks.getItemById(v.successorId);if(!(!T||p&&f.viewModel.checkParent(T.internalId,p)||T.parentId===m.id)){var b=new n.DateRange(new Date(T.start.getTime()),new Date(T.end.getTime())),w=new n.DateRange(new Date(T.start.getTime()),new Date(T.end.getTime())),A=m.end.getTime()-g.getTime(),D=f.enablePredecessorGap?m.end:g;if(v.type===o.DependencyType.FS&&(T.start<D||f.lockPredecessorToSuccessor&&T.start.getTime()===g.getTime())?(w.start.setTime(m.end.getTime()),w.end.setTime(w.start.getTime()+(T.end.getTime()-T.start.getTime())),f.correctMoving(T.internalId,w)):v.type===o.DependencyType.FF&&(T.end<D||f.lockPredecessorToSuccessor&&T.end.getTime()===g.getTime())?(w.start.setTime(m.end.getTime()-(T.end.getTime()-T.start.getTime())),w.end.setTime(m.end.getTime()),f.correctMoving(T.internalId,w)):f.enablePredecessorGap||(w.start.setTime(T.start.getTime()+A),w.end.setTime(T.end.getTime()+A)),!b.equal(w)){var _={start:w.start,end:w.end};f.history.addAndRedo(new t.UpdateTaskHistoryItem(f.modelManipulator,v.successorId,_)),f.moveRelatedTasks(v,b,T,w)}}})},s.prototype.moveStartDependTasks=function(l,g,p){var f=this;p===void 0&&(p=null);var y=this.viewModel.dependencies.items.filter(function(v){return v.predecessorId===l&&v.isStartDependency}),m=this.viewModel.tasks.getItemById(l);y.forEach(function(v){var T=f.viewModel.tasks.getItemById(v.successorId);if(!(!T||p&&f.viewModel.checkParent(T.internalId,p)||T.parentId===m.id)){var b=new n.DateRange(new Date(T.start.getTime()),new Date(T.end.getTime())),w=new n.DateRange(new Date(T.start.getTime()),new Date(T.end.getTime())),A=m.start.getTime()-g.getTime(),D=f.enablePredecessorGap?m.start:g;if(v.type===o.DependencyType.SF&&(T.end<D||f.lockPredecessorToSuccessor&&T.end.getTime()===g.getTime())?(w.start.setTime(m.start.getTime()-(T.end.getTime()-T.start.getTime())),w.end.setTime(m.start.getTime()),f.correctMoving(T.internalId,w)):v.type===o.DependencyType.SS&&(T.start<D||f.lockPredecessorToSuccessor&&T.start.getTime()===g.getTime())?(w.start.setTime(m.start.getTime()),w.end.setTime(m.start.getTime()+(T.end.getTime()-T.start.getTime())),f.correctMoving(T.internalId,w)):f.enablePredecessorGap||(w.start.setTime(T.start.getTime()+A),w.end.setTime(T.end.getTime()+A)),!b.equal(w)){var _={start:w.start,end:w.end};f.history.addAndRedo(new t.UpdateTaskHistoryItem(f.modelManipulator,v.successorId,_)),f.moveRelatedTasks(v,b,T,w)}}})},s.prototype.moveRelatedTasks=function(l,g,p,f){var y=f.start.getTime()-g.start.getTime();this.correctParentsOnChildMoving(p.internalId,y),this.moveStartDependTasks(l.successorId,g.start),this.moveEndDependTasks(l.successorId,g.end)},s.prototype.getCorrectDateRange=function(l,g,p){var f=this,y=new n.DateRange(new Date(g),new Date(p));return c.__spreadArray(c.__spreadArray([],this.checkStartDependencies(l,y.start),!0),this.checkEndDependencies(l,y.end),!0).filter(function(m){return m.critical}).forEach(function(m){var v=f.viewModel.dependencies.getItemById(m.dependencyId),T=f.viewModel.tasks.getItemById(v.predecessorId);v.type===o.DependencyType.FS&&y.start<T.end&&y.start.setTime(T.end.getTime()),v.type===o.DependencyType.SS&&y.start<T.start&&y.start.setTime(T.start.getTime()),v.type===o.DependencyType.FF&&y.end<T.end&&y.end.setTime(T.end.getTime()),v.type===o.DependencyType.SF&&y.end<T.start&&y.end.setTime(T.start.getTime())}),y},s.prototype.correctMoving=function(l,g){var p=this,f=g.end.getTime()-g.start.getTime();return c.__spreadArray(c.__spreadArray([],this.checkStartDependencies(l,g.start),!0),this.checkEndDependencies(l,g.end),!0).filter(function(y){return y.critical}).forEach(function(y){var m=p.viewModel.dependencies.getItemById(y.dependencyId),v=p.viewModel.tasks.getItemById(m.predecessorId);m.type===o.DependencyType.FS&&g.start<v.end&&(g.start.setTime(v.end.getTime()),g.end.setTime(g.start.getTime()+f)),m.type===o.DependencyType.SS&&g.start<v.start&&(g.start.setTime(v.start.getTime()),g.end.setTime(g.start.getTime()+f)),m.type===o.DependencyType.FF&&g.end<v.end&&(g.end.setTime(v.end.getTime()),g.start.setTime(g.end.getTime()-f)),m.type===o.DependencyType.SF&&g.end<v.start&&(g.end.setTime(v.start.getTime()),g.start.setTime(g.end.getTime()-f))}),g},s.prototype.recalculateParents=function(l,g){for(var p=l&&l.parent;p&&p.task;){for(var f=p.children,y=this.range.end,m=this.range.start,v=0,T=0,b={id:p.task.internalId},w=0;w<f.length;w++){var A=f[w].task;if(A.isValid()){y=e.DateTimeUtils.getMinDate(y,A.start),m=e.DateTimeUtils.getMaxDate(m,A.end);var D=A.getDuration();v+=A.progress*D,T+=D}}e.DateTimeUtils.areDatesEqual(p.task.start,y)||(b.start=y),e.DateTimeUtils.areDatesEqual(p.task.end,m)||(b.end=m),b.oldStart=p.task.start,b.oldEnd=p.task.end,(v=T>0?Math.round(v/T):0)!==p.task.progress&&(b.progress=v),g(b),p=p.parent}},s.prototype.updateParentsRangeByChild=function(l){var g=this;this.recalculateParents(this.viewModel.findItem(l),function(p){if((0,d.isDefined)(p.id)){var f=g.history,y=g.modelManipulator;(0,d.isDefined)(p.start)&&(f.addAndRedo(new t.UpdateTaskHistoryItem(y,p.id,{start:p.start})),g.moveStartDependTasks(p.id,p.oldStart)),(0,d.isDefined)(p.end)&&(f.addAndRedo(new t.UpdateTaskHistoryItem(y,p.id,{end:p.end})),g.moveEndDependTasks(p.id,p.oldEnd)),(0,d.isDefined)(p.progress)&&f.addAndRedo(new t.UpdateTaskHistoryItem(y,p.id,{progress:p.progress}))}})},s.prototype.updateChildRangeByParent=function(l,g,p){var f=this.viewModel.findItem(l);if(f&&f.children.length!==0)for(var y=f.children,m=0;m<y.length;m++){var v=y[m].task,T=new Date(v.start.getTime()+g),b=u.DateUtils.getRangeMSPeriod(v.start,v.end),w=u.DateUtils.getDSTCorrectedTaskEnd(T,b);p.push({id:v.internalId,start:v.start,end:v.end}),this.history.addAndRedo(new t.UpdateTaskHistoryItem(this.modelManipulator,v.internalId,{start:T,end:w})),this.updateChildRangeByParent(v.internalId,g,p)}},s.prototype.updateParentsIfRequired=function(l){this._parentAutoCalc&&(this.updateParentsRangeByChild(l),this.updateOwnerInAutoParentMode())},s.prototype.correctParentsOnChildMoving=function(l,g){var p=this;if(this._parentAutoCalc&&g!==0){this.updateParentsRangeByChild(l);var f=[];this.updateChildRangeByParent(l,g,f),this.isValidateDependenciesRequired&&f.forEach(function(y){p.moveStartDependTasks(y.id,y.start,l),p.moveEndDependTasks(y.id,y.end,l)}),this.updateOwnerInAutoParentMode()}},s.prototype.canCreateDependency=function(l,g){return this.viewModel.canCreateDependency(l,g)},s}();h.ValidationController=i},4927:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ValidationError=void 0;var a=function(c,d){d===void 0&&(d=!1),this.dependencyId=c,this.critical=d};h.ValidationError=a},6350:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ViewVisualModelDependencyInfo=void 0;var a=function(c,d,u){this.id=c,this.predecessor=d,this.type=u};h.ViewVisualModelDependencyInfo=a},3562:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ViewVisualModelItem=void 0;var c=a(2491),d=a(6353),u=function(){function o(t,n){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=t,this.resources=n,this.children=new Array,this.isCustom=!1,this.size=new d.Size(0,0)}return Object.defineProperty(o.prototype,"resourceText",{get:function(){var t="";return this.resources.items.forEach(function(n){return t+=n.text+" "}),t},enumerable:!1,configurable:!0}),o.prototype.addChild=function(t){(0,c.isDefined)(t)&&this.children.indexOf(t)<0&&this.children.push(t)},o.prototype.removeChild=function(t){var n=this.children.indexOf(t);n>-1&&this.children.splice(n,1)},o.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},o.prototype.getVisible=function(){if(!this.visible)return!1;for(var t=this.parent;t;){if(!t.visible)return!1;t=t.parent}return!0},o.prototype.changeVisibility=function(t){this.visible=t},o.prototype.changeSelection=function(t){this.selected=t},o.prototype.setDependencies=function(t){t&&(this.dependencies=t.slice())},o}();h.ViewVisualModelItem=u},1408:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ViewVisualModel=void 0;var c=a(8828),d=a(9504),u=a(7380),o=a(9883),t=a(3562),n=a(6350),e=a(21),r=a(2491),i=a(6124),s=a(7352),l=a(2301),g=a(7437),p=function(){function f(y,m,v,T,b,w,A){this._fLockCount=0,this.lockChangesProcessing=!1,this.owner=y,this.tasks=new d.TaskCollection,this.tasks.importFromObject(m),this.dependencies=new u.DependencyCollection,this.dependencies.importFromObject(v),this.resources=new c.ResourceCollection,this.resources.importFromObject(T),this.assignments=new o.ResourceAssignmentCollection,this.assignments.importFromObject(b),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new e.WorkingTimeCalculator(w,A),this.updateModel(!0)}return Object.defineProperty(f.prototype,"renderHelper",{get:function(){return this.owner.renderHelper},enumerable:!1,configurable:!0}),f.prototype.updateModel=function(y){this._itemList.splice(0,this._itemList.length);for(var m=this.tasks.items,v=0;v<m.length;v++){var T=m[v];T&&this._itemList.push(new t.ViewVisualModelItem(T,this.getAssignedResources(T)))}this.createHierarchy(y),this.populateItemsForView(),this.owner&&this.owner.currentSelectedTaskID&&this.changeTaskSelected(this.owner.currentSelectedTaskID,!0)},f.prototype.createHierarchy=function(y){var m=this;this.root=new t.ViewVisualModelItem(null,null);for(var v=this._itemList,T=v.reduce(function(_,M){var x,N=(x=M.task)===null||x===void 0?void 0:x.internalId;return(0,r.isDefined)(N)&&(_[N]=M),_},{}),b=this.requireFirstLoadParentAutoCalc&&y,w=0;w<v.length;w++){var A=v[w],D=T[A.task.parentId]||this.root;A.parent=D,D.addChild(A),b&&this.owner.validationController.recalculateParents(A,function(_){if((0,r.isDefined)(_.id)){var M=m.tasks.getItemById(_.id);(0,r.isDefined)(_.start)&&(M.start=_.start),(0,r.isDefined)(_.end)&&(M.end=_.end),(0,r.isDefined)(_.progress)&&(M.progress=_.progress)}})}b&&this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData())},f.prototype.getCurrentTaskData=function(){var y=this;return this.tasks.items.map(function(m){return y.getTaskObjectForDataSource(m)})},f.prototype.getTaskObjectForDataSource=function(y){var m=y.parentId&&this.tasks.getItemById(y.parentId),v=this.getRootTaskId(),T=v&&y.parentId===v?y.parentId:m==null?void 0:m.id;return{id:y.id,start:y.isValidStart()?y.start:null,end:y.isValidEnd()?y.end:null,duration:y.duration,description:y.description,parentId:T,progress:y.progress,color:y.color,taskType:y.taskType,title:y.title,customFields:y.customFields,expanded:y.expanded}},f.prototype.getDependencyObjectForDataSource=function(y){var m=y instanceof s.Dependency?y:this.getItemByPublicId("dependency",y);if(m){var v=this.convertInternalToPublicKey("task",m.predecessorId),T=this.convertInternalToPublicKey("task",m.successorId);return{id:m.id,predecessorId:(0,r.isDefined)(v)?v:m.predecessorId,successorId:(0,r.isDefined)(T)?T:m.successorId,type:m.type}}return null},f.prototype.getResourceObjectForDataSource=function(y){var m=y instanceof l.Resource?y:this.getItemByPublicId("resource",y);return m?{id:m.id,text:m.text,color:m.color}:null},f.prototype.getResourceAssignmentObjectForDataSource=function(y){var m=y instanceof g.ResourceAssignment?y:this.getItemByPublicId("assignment",y);if(m){var v=this.convertInternalToPublicKey("task",m.taskId),T=this.convertInternalToPublicKey("resource",m.resourceId);return{id:m.id,taskId:(0,r.isDefined)(v)?v:m.taskId,resourceId:(0,r.isDefined)(T)?T:m.resourceId}}return null},f.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},f.prototype.populateVisibleItems=function(y){var m=this,v=y===this.root;y&&(y.task||v)&&(v||(this._viewItemList.push(y),y.visibleIndex=this._viewItemList.length-1),(y.getExpanded()||y===this.root)&&y.children.forEach(function(T){return m.populateVisibleItems(T)}))},f.prototype.updateVisibleItemDependencies=function(){for(var y=this._viewItemList,m=0;m<y.length;m++){var v=y[m],T=this.getTasVisibleDependencies(v.task);v.setDependencies(T)}},f.prototype.getAssignedResources=function(y){var m=this,v=new c.ResourceCollection;return this.assignments.items.filter(function(T){return T.taskId==y.internalId}).forEach(function(T){v.add(m.resources.getItemById(T.resourceId))}),v},f.prototype.getTasVisibleDependencies=function(y){for(var m=new Array,v=y.internalId,T=this.dependencies.items.filter(function(D){return D.successorId==v}),b=0;b<T.length;b++){var w=T[b],A=this.findItem(w.predecessorId);A&&A.getVisible()&&m.push(new n.ViewVisualModelDependencyInfo(w.internalId,A,w.type))}return m},f.prototype.changeTaskExpanded=function(y,m){var v=this.tasks.getItemById(String(y));v&&(v.expanded=m,this.changed())},f.prototype.changeTaskVisibility=function(y,m){var v=this.findItem(y);v&&(v.visible=m,this.changed())},f.prototype.changeTaskSelected=function(y,m){var v=this._itemList.filter(function(w){return w.task&&w.task.internalId===y})[0];if(v){v.selected=m;var T=this.findItem(y),b=T&&T.visibleIndex;b>-1&&this.renderHelper.recreateTaskElement(b)}},f.prototype.beginUpdate=function(){this._fLockCount++},f.prototype.endUpdate=function(){this._fLockCount--,this._fLockCount==0&&this.changed()},f.prototype.compareTaskOrder=function(y){var m=new d.TaskCollection;m.importFromObject(y);var v=m.items,T=this.tasks.items;if(v.length!==T.length)return!1;for(var b=0;b<v.length;b++){var w=v[b],A=T[b];if(w.id!==A.id)return!1}return!0},f.prototype.refreshTaskDataIfRequires=function(y){var m=!this.lockChangesProcessing&&!this.compareTaskOrder(y);if(m){var v=this.saveTaskInternalIds();this.tasks.importFromObject(y),this.restoreTaskInternalIds(v),this.updateModel()}return m},f.prototype.saveTaskInternalIds=function(){var y={};return this.tasks.items.map(function(m){return y[m.id]=m.internalId}),y},f.prototype.restoreTaskInternalIds=function(y){for(var m in y)if(Object.prototype.hasOwnProperty.call(y,m)){var v=this.tasks.getItemByPublicId(m);v&&(v.internalId=y[m])}},f.prototype.canCreateDependency=function(y,m){if(!y||!m||y===m)return!1;var v=!1;if(this.enableDependencyValidation){var T=this.getDependentTasksHash();v=this.parentAutoCalc?this.checkTasksInterdependence(y,m,T)||this.checkParent(y,m)||this.checkParent(m,y):this.checkDependencyChain([y],[m],T,[])}return!v},f.prototype.checkParent=function(y,m){return this.getTaskTreeLine(y).indexOf(m)>-1},f.prototype.getTaskTreeLine=function(y){var m=[y],v=this.findItem(y);if(v)for(v=v.parent;v!=null&&v.task;)m.push(v==null?void 0:v.task.internalId),v=v.parent;else for(var T=this.tasks.getItemById(y),b=this.tasks.getItemById(T==null?void 0:T.parentId);b;)m.push(b.id),b=this.tasks.getItemById(b.parentId);return m},f.prototype.getDependentTasksHash=function(){var y={};return this.dependencies.items.forEach(function(m){var v,T,b=m.predecessorId,w=m.successorId;(v=y[b])!==null&&v!==void 0||(y[b]=[]),y[b].indexOf(w)<0&&y[b].push(w),(T=y[w])!==null&&T!==void 0||(y[w]=[]),y[w].indexOf(b)<0&&y[w].push(b)}),y},f.prototype.checkTasksInterdependence=function(y,m,v){for(var T,b,w=this.getTaskTreeLine(y).reverse(),A=this.getTaskTreeLine(m).reverse(),D=0;D<w.length-1;D++){var _=w[D],M=A.indexOf(_);M>-1&&(T=w[D+1],b=A[M+1])}return T||b||(T=w[0],b=A[0]),this.checkDependencyChain(this.getBranchIds(T),this.getBranchIds(b),v,[])},f.prototype.checkDependencyChain=function(y,m,v,T){if(y.some(function(A){return m.indexOf(A)>-1}))return!0;T.push.apply(T,y);for(var b=0;b<y.length;b++){var w=v[y[b]];if(w&&this.checkDependencyChain(w.filter(function(A){return T.indexOf(A)===-1}),m,v,T))return!0}return!1},f.prototype.getBranchIds=function(y){var m=this,v=[y],T=this.findItem(y),b=T==null?void 0:T.children;return b&&b.forEach(function(w){var A,D=(A=w.task)===null||A===void 0?void 0:A.internalId;D&&(v=v.concat(m.getBranchIds(D)))}),v},f.prototype.getTasksExpandedState=function(){var y=this.tasks.items,m={};return y.forEach(function(v){return m[v.id]=v.expanded}),m},f.prototype.applyTasksExpandedState=function(y){if(y){for(var m in this.beginUpdate(),y)Object.prototype.hasOwnProperty.call(y,m)&&this.changeTaskExpanded(m,y[m]);this.endUpdate()}},f.prototype.changed=function(){this._fLockCount===0&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},f.prototype.findItem=function(y){return this._viewItemList.filter(function(m){return m.task&&m.task.internalId===y})[0]},Object.defineProperty(f.prototype,"items",{get:function(){return this._viewItemList},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),f.prototype.getTaskVisibility=function(y){var m=this.findItem(y);return!!m&&m.getVisible()},f.prototype.getTaskSelected=function(y){var m=this.findItem(y);return!!m&&m.selected},Object.defineProperty(f.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!1,configurable:!0}),f.prototype.updateRange=function(y){this._workTimeCalculator.updateRange(y)},f.prototype.taskHasChildrenByIndex=function(y){return this._viewItemList[y].children.length>0},f.prototype.taskHasChildren=function(y){var m=this.findItem(y);return m&&m.children.length>0},Object.defineProperty(f.prototype,"enableDependencyValidation",{get:function(){var y,m=this.owner&&this.owner.settings;return(y=m==null?void 0:m.validation)===null||y===void 0?void 0:y.validateDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"parentAutoCalc",{get:function(){var y=this.owner&&this.owner.settings;return y&&y.validation&&y.validation.autoUpdateParentTasks},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"enablePredecessorGap",{get:function(){var y=this.owner&&this.owner.settings;return y&&y.validation&&y.validation.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requireFirstLoadParentAutoCalc",{get:function(){return this.parentAutoCalc&&this.owner.requireFirstLoadParentAutoCalc()},enumerable:!1,configurable:!0}),f.prototype.isTaskToCalculateByChildren=function(y){return this.parentAutoCalc&&this.taskHasChildren(y)},f.prototype.hasTasks=function(){return this.tasks.length>0},f.prototype.getDataUpdateErrorCallback=function(){return this.owner.getDataUpdateErrorCallback&&this.owner.getDataUpdateErrorCallback()},f.prototype.convertPublicToInternalKey=function(y,m){var v=this.getItemByPublicId(y,m);return v&&v.internalId},f.prototype.convertInternalToPublicKey=function(y,m){var v=this.getItemByInternalId(y,m);return v&&v.id},f.prototype.getItemByPublicId=function(y,m){var v=m.toString();switch(y){case"task":return this.tasks.getItemByPublicId(v);case"dependency":return this.dependencies.getItemByPublicId(v);case"resource":return this.resources.getItemByPublicId(v);case"assignment":return this.assignments.getItemByPublicId(v)}return null},f.prototype.getItemByInternalId=function(y,m){switch(y){case"task":return this.tasks.getItemById(m);case"dependency":return this.dependencies.getItemById(m);case"resource":return this.resources.getItemById(m);case"assignment":return this.assignments.getItemById(m)}return null},f.prototype.findAssignment=function(y,m){var v=this.convertPublicToInternalKey("resource",y),T=this.convertPublicToInternalKey("task",m);return this.assignments.items.filter(function(b){return b.resourceId===v&&b.taskId===T})[0]},f.prototype.findAllTaskAssignments=function(y){return this.assignments.items.filter(function(m){return m.taskId===y})},f.prototype.getAllVisibleTaskIndices=function(y,m){var v,T=[];y!=null||(y=0),m!=null||(m=this._viewItemList.length-1);for(var b=y;b<=m;b++){var w=this._viewItemList[b];w!=null&&w.getVisible()&&(!((v=w==null?void 0:w.task)===null||v===void 0)&&v.isValid())&&T.push(b)}return T},f.prototype.getVisibleTasks=function(){var y=this;return this.tasks.items.filter(function(m){return m&&y.getTaskVisibility(m.internalId)&&m.isValid()})},f.prototype.getVisibleDependencies=function(){var y=this.getVisibleTasks().map(function(m){return m.internalId});return this.dependencies.items.filter(function(m){return m&&y.indexOf(m.successorId)>-1&&y.indexOf(m.predecessorId)>-1})},f.prototype.getVisibleResourceAssignments=function(){var y=this.getVisibleTasks().map(function(m){return m.internalId});return this.assignments.items.filter(function(m){return m&&y.indexOf(m.taskId)>-1})},f.prototype.getVisibleResources=function(){for(var y=[],m=this.getVisibleResourceAssignments(),v=0;v<m.length;v++){var T=this.getItemByInternalId("resource",m[v].resourceId);T&&y.indexOf(T)===-1&&y.push(T)}return y},f.prototype.getRootTaskId=function(){var y;return(y=this.rootTaskId)!==null&&y!==void 0||(this.rootTaskId=this.calculateRootTaskId()),this.rootTaskId},f.prototype.calculateRootTaskId=function(){var y=this.items[0];if(!y)return null;for(;y.parent&&y.task;)y=y.parent;return y.children[0].task.parentId},f.prototype.getTaskMinStart=function(){var y=this.owner.dataRange.start;return this.tasks.items.forEach(function(m){m.isValid()&&m.start.getTime()<y.getTime()&&(y=m.start)}),y},f.prototype.getTaskMaxEnd=function(){var y=this.owner.dataRange.end;return this.tasks.items.forEach(function(m){m.isValid()&&m.end.getTime()>y.getTime()&&(y=m.end)}),y},f.prototype.processServerInsertedKey=function(y,m,v){var T;v===i.GanttDataObjectNames.task&&this.tasks.invalidate(),v===i.GanttDataObjectNames.dependency&&(this.dependencies.invalidate(),this.updateVisibleItemDependencies()),v===i.GanttDataObjectNames.resource&&this.resources.invalidate(),v===i.GanttDataObjectNames.resourceAssignment&&this.assignments.invalidate(),(T=this.owner)===null||T===void 0||T.updateHistoryObsoleteInsertedKey(y,m,v)},f.prototype.onBeginDataObjectCreate=function(){var y,m;(m=(y=this.owner).lockUpdateWithReload)===null||m===void 0||m.call(y)},f.prototype.onEndDataObjectCreate=function(){var y,m;(m=(y=this.owner).unlockUpdateWithReload)===null||m===void 0||m.call(y)},f}();h.ViewVisualModel=p},858:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DateRange=void 0;var a=function(){function c(d,u){this.start=d,this.end=u}return c.prototype.equal=function(d){var u=!0;return u=(u=u&&this.start.getTime()===d.start.getTime())&&this.end.getTime()===d.end.getTime()},c}();h.DateRange=a},7880:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DateTimeUtils=void 0;var c=a(2753),d=a(9331),u=a(2491),o=a(858),t=a(7812),n=function(){function e(){}return e.compareDates=function(r,i){return r&&i?i.getTime()-r.getTime():-1},e.areDatesEqual=function(r,i){return this.compareDates(r,i)==0},e.getMaxDate=function(r,i){return r||i?r?i&&this.compareDates(r,i)>0?i:r:i:null},e.getMinDate=function(r,i){return r||i?r?i?this.compareDates(r,i)>0?r:i:r:i:null},e.getDaysBetween=function(r,i){var s=Math.abs(i.getTime()-r.getTime());return Math.ceil(s/this.msInDay)},e.getWeeksBetween=function(r,i){var s=this.getDaysBetween(r,i),l=Math.floor(s/7);return r.getDay()>i.getDay()&&l++,l},e.getMonthsDifference=function(r,i){var s=this.compareDates(r,i),l=s>=0?r:i,g=s>=0?i:r;return 12*(g.getFullYear()-l.getFullYear())+(g.getMonth()-l.getMonth())},e.getYearsDifference=function(r,i){return Math.abs(i.getFullYear()-r.getFullYear())},e.getDayNumber=function(r){return Math.ceil(r.getTime()/this.msInDay)},e.getDateByDayNumber=function(r){var i=new Date(r*this.msInDay);return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i},e.addDays=function(r,i){return new Date(r.getTime()+i*this.msInDay)},e.checkDayOfMonth=function(r,i){return r==i.getDate()},e.checkDayOfWeek=function(r,i){return r==i.getDay()},e.checkMonth=function(r,i){return r==i.getMonth()},e.checkYear=function(r,i){return r==i.getFullYear()},e.checkDayOfWeekOccurrenceInMonth=function(r,i,s){var l=this.getSpecificDayOfWeekInMonthDates(i,r.getFullYear(),r.getMonth());return s==t.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(r,l[l.length-1]):this.areDatesEqual(r,l[s])},e.getFirstDayOfWeekInMonth=function(r,i){return new Date(r,i,1).getDay()},e.getSpecificDayOfWeekInMonthDates=function(r,i,s){for(var l=this.getFirstDayOfWeekInMonth(i,s),g=r>=l?r-l:r+7-l,p=new Array,f=new Date(i,s,g+1);f.getMonth()==s;)p.push(f),f=this.addDays(f,7);return p},e.getSpecificDayOfWeekInMonthDate=function(r,i,s,l){var g=this.getSpecificDayOfWeekInMonthDates(r,i,s);return l==t.DayOfWeekMonthlyOccurrence.Last?g[g.length-1]:g[l]},e.checkValidDayInMonth=function(r,i,s){return!(s<1||s>31||new Date(r,i,s).getMonth()!=i)},e.getNextMonth=function(r,i){return i===void 0&&(i=1),(r+i)%12},e.convertToDate=function(r){if(r instanceof Date)return new Date(r);var i=Date.parse(r);return isNaN(i)?null:new Date(i)},e.convertTimeRangeToDateRange=function(r,i){var s=this.getDateByDayNumber(i),l=s.getFullYear(),g=s.getMonth(),p=s.getDate(),f=r.start,y=new Date(l,g,p,f.hour,f.min,f.sec,f.msec),m=r.end,v=new Date(l,g,p,m.hour,m.min,m.sec,m.msec);return new o.DateRange(y,v)},e.convertToTimeRanges=function(r){var i=this;return r instanceof Array?r.map(function(s){return i.convertToTimeRange(s)}):this.parseTimeRanges(r)},e.convertToTimeRange=function(r){return r?r instanceof d.TimeRange?r:(0,u.isDefined)(r.start)&&(0,u.isDefined)(r.end)?new d.TimeRange(this.convertToTime(r.start),this.convertToTime(r.end)):this.parseTimeRange(r):null},e.convertToTime=function(r){return r?r instanceof c.Time?r:r instanceof Date?this.getTimeGromJsDate(r):this.parseTime(r):null},e.parseTimeRanges=function(r){var i=this;return r?r.split(/;|,/).map(function(s){return i.parseTimeRange(s)}).filter(function(s){return!!s}):null},e.parseTimeRange=function(r){if(!r)return null;var i=r.split("-"),s=i[0],l=i[1];return(0,u.isDefined)(s)&&(0,u.isDefined)(l)?new d.TimeRange(this.parseTime(s),this.parseTime(l)):null},e.parseTime=function(r){if(!r)return null;var i=r.split(":"),s=parseInt(i[0])||0,l=parseInt(i[1])||0,g=parseInt(i[2])||0,p=parseInt(i[3])||0;return new c.Time(s,l,g,p)},e.getTimeGromJsDate=function(r){if(!r)return null;var i=r.getHours(),s=r.getMinutes(),l=r.getSeconds(),g=r.getMilliseconds();return new c.Time(i,s,l,g)},e.caclTimeDifference=function(r,i){return i.getTimeInMilleconds()-r.getTimeInMilleconds()},e.areTimesEqual=function(r,i){return this.caclTimeDifference(r,i)==0},e.getMaxTime=function(r,i){return r||i?r?i&&this.caclTimeDifference(r,i)>0?i:r:i:null},e.getMinTime=function(r,i){return r||i?r?i?this.caclTimeDifference(r,i)>0?r:i:r:i:null},e.getLastTimeOfDay=function(){return new c.Time(23,59,59,999)},e.msInDay=864e5,e}();h.DateTimeUtils=n},8719:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DayOfWeek=void 0,function(a){a[a.Sunday=0]="Sunday",a[a.Monday=1]="Monday",a[a.Tuesday=2]="Tuesday",a[a.Wednesday=3]="Wednesday",a[a.Thursday=4]="Thursday",a[a.Friday=5]="Friday",a[a.Saturday=6]="Saturday"}(h.DayOfWeek||(h.DayOfWeek={}))},7812:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DayOfWeekMonthlyOccurrence=void 0,function(a){a[a.First=0]="First",a[a.Second=1]="Second",a[a.Third=2]="Third",a[a.Forth=3]="Forth",a[a.Last=4]="Last"}(h.DayOfWeekMonthlyOccurrence||(h.DayOfWeekMonthlyOccurrence={}))},1805:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DayWorkingTimeInfo=void 0;var c=a(9331),d=a(7880),u=a(2753),o=function(){function t(n,e,r){n===void 0&&(n=0),e===void 0&&(e=!0),r===void 0&&(r=null),this._workingIntervals=new Array,this.dayNumber=n,this.isWorkDay=e,this.addWorkingIntervals(r)}return t.prototype.addWorkingIntervals=function(n){n&&(this._workingIntervals=this._workingIntervals.concat(n.filter(function(e){return!!e})),this.rearrangeWorkingIntervals())},t.prototype.rearrangeWorkingIntervals=function(){for(var n=0;n<this._workingIntervals.length;n++)this.concatWithIntersectedRanges(this._workingIntervals[n]);this.sortIntervals()},t.prototype.concatWithIntersectedRanges=function(n){var e=this;this.getIntersectedIntervals(n).forEach(function(r){n.concatWith(r),e.removeInterval(r)})},t.prototype.getIntersectedIntervals=function(n){return this._workingIntervals.filter(function(e){return e.hasIntersect(n)&&e!==n})},t.prototype.sortIntervals=function(){this._workingIntervals.sort(function(n,e){return d.DateTimeUtils.caclTimeDifference(e.start,n.start)})},t.prototype.removeInterval=function(n){var e=this._workingIntervals.indexOf(n);e>-1&&e<this._workingIntervals.length&&this._workingIntervals.splice(e,1)},t.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(t.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noWorkingIntervals",{get:function(){var n=new Array;if(this.isWorkDay&&this._workingIntervals.length===0)return n;var e=this._workingIntervals.map(function(g){return g.end});e.splice(0,0,new u.Time);var r=this._workingIntervals.map(function(g){return g.start});r.push(d.DateTimeUtils.getLastTimeOfDay());for(var i=0;i<e.length;i++){var s=e[i],l=r[i];d.DateTimeUtils.areTimesEqual(s,l)||n.push(new c.TimeRange(s,l))}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(n){this._isWorkDay=n,n||this.clearIntervals()},enumerable:!1,configurable:!0}),t}();h.DayWorkingTimeInfo=o},3110:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Month=void 0,function(a){a[a.January=0]="January",a[a.February=1]="February",a[a.March=2]="March",a[a.April=3]="April",a[a.May=4]="May",a[a.June=5]="June",a[a.July=6]="July",a[a.August=7]="August",a[a.September=8]="September",a[a.October=9]="October",a[a.November=10]="November",a[a.December=11]="December"}(h.Month||(h.Month={}))},7872:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.MonthInfo=void 0;var c=a(7880),d=function(){function u(o,t){this.month=o,this.year=t}return u.prototype.addMonths=function(o){var t=c.DateTimeUtils.getNextMonth(this.month,o),n=Math.floor(o/12);t<this.month&&++n,this.month=t,this.year+=n},u}();h.MonthInfo=d},4902:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Daily=void 0;var c=a(655),d=a(1789),u=a(7880),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.checkDate=function(e){return!0},n.prototype.checkInterval=function(e){return u.DateTimeUtils.getDaysBetween(this.start,e)%this.interval==0},n.prototype.calculatePointByInterval=function(e){var r=this.interval;return this.isRecurrencePoint(e)||(r-=u.DateTimeUtils.getDaysBetween(this.start,e)%this.interval),u.DateTimeUtils.addDays(e,r)},n.prototype.calculateNearestPoint=function(e){return u.DateTimeUtils.addDays(e,1)},n}(d.RecurrenceBase);h.Daily=o},4390:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Monthly=void 0;var c=a(655),d=a(1789),u=a(7880),o=a(7872),t=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return c.__extends(e,n),e.prototype.checkDate=function(r){return this._calculateByDayOfWeek?u.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(r,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):u.DateTimeUtils.checkDayOfMonth(this.dayInternal,r)},e.prototype.checkInterval=function(r){return u.DateTimeUtils.getMonthsDifference(this.start,r)%this.interval==0},e.prototype.calculatePointByInterval=function(r){var i=this.start,s=u.DateTimeUtils.getMonthsDifference(i,r),l=Math.floor(s/this.interval)*this.interval,g=new o.MonthInfo(i.getMonth(),i.getFullYear());g.addMonths(l);var p=this.getSpecDayInMonth(g.year,g.month);return u.DateTimeUtils.compareDates(p,r)>=0&&(g.addMonths(this.interval),p=this.getSpecDayInMonth(g.year,g.month)),p},e.prototype.calculateNearestPoint=function(r){var i=r.getMonth(),s=r.getFullYear(),l=this.getSpecDayInMonth(s,i);if(u.DateTimeUtils.compareDates(l,r)>=0){var g=new o.MonthInfo(i,s);g.addMonths(1),l=this.getSpecDayInMonth(g.year,g.month)}return l},Object.defineProperty(e.prototype,"day",{get:function(){return this.dayInternal},set:function(r){this.dayInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(r){this.dayOfWeekInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(r){this.dayOfWeekOccurrenceInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(r){this._calculateByDayOfWeek=r},enumerable:!1,configurable:!0}),e}(d.RecurrenceBase);h.Monthly=t},1789:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RecurrenceBase=void 0;var c=a(655),d=a(8719),u=a(7812),o=a(3110),t=a(2491),n=a(7880),e=a(9612),r=function(i){function s(l,g,p,f){l===void 0&&(l=null),g===void 0&&(g=null),p===void 0&&(p=1),f===void 0&&(f=0);var y=i.call(this)||this;return y._start=null,y._end=null,y._interval=1,y._occurrenceCount=0,y._dayOfWeek=0,y._day=1,y._dayOfWeekOccurrence=0,y._month=0,y._calculateByDayOfWeek=!1,y.start=l,y.end=g,y.interval=p,y.occurrenceCount=f,y}return c.__extends(s,i),s.prototype.assignFromObject=function(l){(0,t.isDefined)(l)&&(i.prototype.assignFromObject.call(this,l),this.start=n.DateTimeUtils.convertToDate(l.start),this.end=n.DateTimeUtils.convertToDate(l.end),(0,t.isDefined)(l.interval)&&(this.interval=l.interval),(0,t.isDefined)(l.occurrenceCount)&&(this.occurrenceCount=l.occurrenceCount),(0,t.isDefined)(l.dayOfWeek)&&(this.dayOfWeekInternal=e.RecurrenceFactory.getEnumValue(d.DayOfWeek,l.dayOfWeek)),(0,t.isDefined)(l.day)&&(this.dayInternal=l.day),(0,t.isDefined)(l.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=e.RecurrenceFactory.getEnumValue(u.DayOfWeekMonthlyOccurrence,l.dayOfWeekOccurrence)),(0,t.isDefined)(l.month)&&(this.monthInternal=e.RecurrenceFactory.getEnumValue(o.Month,l.month)),(0,t.isDefined)(l.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!l.calculateByDayOfWeek))},s.prototype.calculatePoints=function(l,g){if(!l||!g)return new Array;var p=n.DateTimeUtils.getMaxDate(l,this._start),f=n.DateTimeUtils.getMinDate(g,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(p,f):this.calculatePointsByDateRange(p,f)},s.prototype.calculatePointsByOccurrenceCount=function(l,g){for(var p=new Array,f=this.getFirstPoint(l);f&&p.length<this._occurrenceCount&&n.DateTimeUtils.compareDates(f,g)>=0;)this.isRecurrencePoint(f)&&p.push(f),f=this.getNextPoint(f);return p},s.prototype.calculatePointsByDateRange=function(l,g){for(var p=new Array,f=this.getFirstPoint(l);f&&n.DateTimeUtils.compareDates(f,g)>=0;)this.isRecurrencePoint(f)&&p.push(f),f=this.getNextPoint(f);return p},s.prototype.getFirstPoint=function(l){return this.isRecurrencePoint(l)?l:this.getNextPoint(l)},s.prototype.isRecurrencePoint=function(l){return this.isDateInRange(l)&&this.checkDate(l)&&(!this.useIntervalInCalc()||this.checkInterval(l))},s.prototype.isDateInRange=function(l){return!!l&&!(this._start&&n.DateTimeUtils.compareDates(this.start,l)<0)&&!(this._occurrenceCount==0&&this.end&&n.DateTimeUtils.compareDates(l,this.end)<0)},s.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},s.prototype.getNextPoint=function(l){return this.isDateInRange(l)?this.useIntervalInCalc()?this.calculatePointByInterval(l):this.calculateNearestPoint(l):null},s.prototype.getSpecDayInMonth=function(l,g){return this._calculateByDayOfWeek?n.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,l,g,this.dayOfWeekOccurrenceInternal):new Date(l,g,this.dayInternal)},Object.defineProperty(s.prototype,"dayInternal",{get:function(){return this._day},set:function(l){l>0&&l<=31&&(this._day=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(l){l>=d.DayOfWeek.Sunday&&l<=d.DayOfWeek.Saturday&&(this._dayOfWeek=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(l){l>=u.DayOfWeekMonthlyOccurrence.First&&l<=u.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"monthInternal",{get:function(){return this._month},set:function(l){l>=o.Month.January&&l<=o.Month.December&&(this._month=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"start",{get:function(){return this._start},set:function(l){l&&(this._start=l,this._end&&l>this._end&&(this._end=l))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"end",{get:function(){return this._end},set:function(l){l&&(this._end=l,this._start&&l<this._start&&(this._start=l))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(l){l<0&&(l=0),this._occurrenceCount=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"interval",{get:function(){return this._interval},set:function(l){l>0&&(this._interval=l)},enumerable:!1,configurable:!0}),s}(a(6124).DataObject);h.RecurrenceBase=r},9612:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RecurrenceFactory=void 0;var c=a(2491),d=a(4902),u=a(5475),o=a(4390),t=a(7515),n=function(){function e(){}return e.createRecurrenceByType=function(r){if(!r)return null;switch(r.toLowerCase()){case"daily":return new d.Daily;case"weekly":return new u.Weekly;case"monthly":return new o.Monthly;case"yearly":return new t.Yearly}return null},e.createRecurrenceFromObject=function(r){if(!r)return null;var i=this.createRecurrenceByType(r.type);return i&&i.assignFromObject(r),i},e.getEnumValue=function(r,i){if(!(0,c.isDefined)(r[i]))return null;var s=parseInt(i);return isNaN(s)?r[i]:s},e}();h.RecurrenceFactory=n},5475:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Weekly=void 0;var c=a(655),d=a(1789),u=a(7880),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.checkDate=function(e){return u.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,e)},n.prototype.checkInterval=function(e){return u.DateTimeUtils.getWeeksBetween(this.start,e)%this.interval==0},n.prototype.calculatePointByInterval=function(e){var r=u.DateTimeUtils.getWeeksBetween(this.start,e),i=Math.floor(r/this.interval);(r%this.interval>0||e.getDay()>=this.dayOfWeekInternal)&&i++;var s=i*this.interval;return this.calcNextPointWithWeekCount(this.start,s)},n.prototype.calculateNearestPoint=function(e){var r=this.dayOfWeekInternal-e.getDay();return r>0?u.DateTimeUtils.addDays(new Date(e),r):this.calcNextPointWithWeekCount(e,1)},n.prototype.calcNextPointWithWeekCount=function(e,r){r===void 0&&(r=1);var i=7*r+this.dayOfWeekInternal-e.getDay();return u.DateTimeUtils.addDays(new Date(e),i)},Object.defineProperty(n.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),n}(d.RecurrenceBase);h.Weekly=o},7515:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Yearly=void 0;var c=a(655),d=a(1789),u=a(7880),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.checkDate=function(e){return!!u.DateTimeUtils.checkMonth(this.month,e)&&(this._calculateByDayOfWeek?u.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):u.DateTimeUtils.checkDayOfMonth(this.dayInternal,e))},n.prototype.checkInterval=function(e){return u.DateTimeUtils.getYearsDifference(this.start,e)%this.interval==0},n.prototype.calculatePointByInterval=function(e){var r=u.DateTimeUtils.getYearsDifference(this.start,e),i=Math.floor(r/this.interval)*this.interval,s=this.start.getFullYear()+i,l=this.getSpecDayInMonth(s,this.monthInternal);return u.DateTimeUtils.compareDates(l,e)>=0&&(s+=this.interval,l=this.getSpecDayInMonth(s,this.monthInternal)),l},n.prototype.calculateNearestPoint=function(e){var r=e.getFullYear(),i=this.getSpecDayInMonth(r,this.monthInternal);return u.DateTimeUtils.compareDates(i,e)>=0&&(i=this.getSpecDayInMonth(++r,this.monthInternal)),i},Object.defineProperty(n.prototype,"month",{get:function(){return this.monthInternal},set:function(e){this.monthInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!1,configurable:!0}),n}(d.RecurrenceBase);h.Yearly=o},2753:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Time=void 0;var a=function(){function c(d,u,o,t){d===void 0&&(d=0),u===void 0&&(u=0),o===void 0&&(o=0),t===void 0&&(t=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=d,this.min=u,this.sec=o,this.msec=t}return Object.defineProperty(c.prototype,"hour",{get:function(){return this._hour},set:function(d){d>=0&&d<24&&(this._hour=d,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"min",{get:function(){return this._min},set:function(d){d>=0&&d<60&&(this._min=d,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"sec",{get:function(){return this._sec},set:function(d){d>=0&&d<60&&(this._sec=d,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"msec",{get:function(){return this._msec},set:function(d){d>=0&&d<1e3&&(this._msec=d,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),c.prototype.updateFullMilleconds=function(){var d=60*(60*this._hour+this._min)+this._sec;this._fullmsec=1e3*d+this._msec},c.prototype.getTimeInMilleconds=function(){return this._fullmsec},c}();h.Time=a},9331:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TimeRange=void 0;var c=a(7880),d=function(){function u(o,t){c.DateTimeUtils.caclTimeDifference(o,t)>=0?(this._start=o,this._end=t):(this._start=t,this._end=o)}return Object.defineProperty(u.prototype,"start",{get:function(){return this._start},set:function(o){o&&c.DateTimeUtils.caclTimeDifference(o,this._end)>=0&&(this._start=o)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"end",{get:function(){return this._end},set:function(o){o&&c.DateTimeUtils.caclTimeDifference(this._start,o)>=0&&(this._end=o)},enumerable:!1,configurable:!0}),u.prototype.isTimeInRange=function(o){return c.DateTimeUtils.caclTimeDifference(this._start,o)>=0&&c.DateTimeUtils.caclTimeDifference(o,this._end)>=0},u.prototype.hasIntersect=function(o){return this.isTimeInRange(o.start)||this.isTimeInRange(o.end)||o.isTimeInRange(this.start)||o.isTimeInRange(this.end)},u.prototype.concatWith=function(o){return!!this.hasIntersect(o)&&(this.start=c.DateTimeUtils.getMinTime(this.start,o.start),this.end=c.DateTimeUtils.getMaxTime(this.end,o.end),!0)},u}();h.TimeRange=d},21:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WorkingTimeCalculator=void 0;var c=a(4432),d=a(1805),u=a(7880),o=function(){function t(n,e){this._workingRules=new c.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=n,this._workingRules.importFromObject(e)}return t.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var n=this._workingRules.items,e=0;e<n.length;e++)this.processRule(n[e]);this.sortList()}},t.prototype.processRule=function(n){for(var e=n.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),r=function(l){var g=e[l],p=u.DateTimeUtils.getDayNumber(g),f=i._workDayList.filter(function(y){return y.dayNumber==p})[0];f?(f.isWorkDay=f.isWorkDay&&n.isWorkDay,f.addWorkingIntervals(n.workTimeRanges)):i._workDayList.push(new d.DayWorkingTimeInfo(p,n.isWorkDay,n.workTimeRanges))},i=this,s=0;s<e.length;s++)r(s)},t.prototype.sortList=function(){this._workDayList.sort(function(n,e){return n.dayNumber-e.dayNumber})},t.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},t.prototype.calculateNoWorkTimeIntervals=function(){var n=this,e=new Array;return this._workDayList.length==0&&this.calculateWorkDayList(),this._workDayList.forEach(function(r){return e=e.concat(n.getNoWorkTimeRangesFromDay(r))}),this.concatJointedRanges(e)},t.prototype.concatJointedRanges=function(n){for(var e=new Array,r=0;r<n.length;r++){var i=n[r];e.length>0&&u.DateTimeUtils.compareDates(e[e.length-1].end,i.start)<2?e[e.length-1].end=i.end:e.push(i)}return e},t.prototype.getNoWorkTimeRangesFromDay=function(n){return n.noWorkingIntervals.map(function(e){return u.DateTimeUtils.convertTimeRangeToDateRange(e,n.dayNumber)})},Object.defineProperty(t.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!1,configurable:!0}),t.prototype.updateRange=function(n){this._calculationRange=n,this.invalidate()},t.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},t}();h.WorkingTimeCalculator=o},8401:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WorkingTimeRule=void 0;var c=a(655),d=a(6124),u=a(2491),o=a(7880),t=a(9612),n=a(4902),e=function(r){function i(s,l,g){s===void 0&&(s=null),l===void 0&&(l=!0),g===void 0&&(g=null);var p=r.call(this)||this;return p.isWorkDay=!0,p.workTimeRanges=new Array,p.recurrence=s,p.isWorkDay=l,g&&p.workTimeRanges.concat(g),p}return c.__extends(i,r),i.prototype.assignFromObject=function(s){if((0,u.isDefined)(s)){r.prototype.assignFromObject.call(this,s),this.recurrence=t.RecurrenceFactory.createRecurrenceByType(s.recurrenceType)||new n.Daily,(0,u.isDefined)(s.recurrence)&&this.recurrence.assignFromObject(s.recurrence),(0,u.isDefined)(s.isWorkDay)&&(this.isWorkDay=!!s.isWorkDay);var l=o.DateTimeUtils.convertToTimeRanges(s.workTimeRanges);l&&(this.workTimeRanges=l)}},i}(d.DataObject);h.WorkingTimeRule=e},6626:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GanttViewApi=void 0;var a=function(){function c(d){this.maxZoom=3,this._ganttView=d}return Object.defineProperty(c.prototype,"currentZoom",{get:function(){return this._ganttView.currentZoom},set:function(d){this._ganttView.currentZoom=d},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"renderHelper",{get:function(){return this._ganttView.renderHelper},enumerable:!1,configurable:!0}),c.prototype.getTaskAreaContainerWidth=function(){return this.renderHelper.getTaskAreaContainerWidth()},c.prototype.updateTickSizeWidth=function(){this._ganttView.updateTickSizeWidth()},Object.defineProperty(c.prototype,"settings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),c.prototype.resetAndUpdate=function(){this._ganttView.resetAndUpdate()},c.prototype.scrollToDateCore=function(d,u){this._ganttView.scrollToDateCore(d,u)},Object.defineProperty(c.prototype,"ganttOwner",{get:function(){return this._ganttView.ganttOwner},enumerable:!1,configurable:!0}),c.prototype.scrollLeftByViewType=function(){this._ganttView.scrollLeftByViewType()},Object.defineProperty(c.prototype,"dataRange",{get:function(){return this._ganttView.dataRange},enumerable:!1,configurable:!0}),c.prototype.calculateAutoViewType=function(d,u){return this._ganttView.calculateAutoViewType(d,u)},c.prototype.zoomIn=function(d){d===void 0&&(d=this.getTaskAreaContainerWidth()/2);var u=this.renderHelper.getTargetDateByPos(d),o=this.settings.viewTypeRange.min;this.currentZoom<this.maxZoom?(this.currentZoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>o&&(this.currentZoom=1,this.setViewType(this.settings.viewType-1,!1)),this.scrollToDateCore(u,-d)},c.prototype.zoomOut=function(d){d===void 0&&(d=this.renderHelper.getTaskAreaContainerWidth()/2);var u=this.renderHelper.getTargetDateByPos(d),o=this.settings.viewTypeRange.max;this.currentZoom>1?(this.currentZoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<o&&(this.currentZoom=this.maxZoom,this.setViewType(this.settings.viewType+1,!1)),this.scrollToDateCore(u,-d)},c.prototype.setViewType=function(d,u){u===void 0&&(u=!0),d==null&&(d=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==d&&(this.settings.viewType=d,this.updateTickSizeWidth(),this.resetAndUpdate(),u&&this.scrollLeftByViewType(),this.ganttOwner.updateGanttViewType&&this.ganttOwner.updateGanttViewType(d))},c.prototype.setViewTypeRange=function(d,u){d!==void 0&&(this.settings.viewTypeRange.min=Math.min(d,u)),u!==void 0&&(this.settings.viewTypeRange.max=Math.max(d,u));var o=this.settings.viewTypeRange.min,t=this.settings.viewTypeRange.max,n=this.settings.viewType;o>n?this.setViewType(o):t<n&&this.setViewType(t)},c}();h.GanttViewApi=a},5098:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskEditController=void 0;var c=a(2449),d=a(858),u=a(6907),o=a(9279),t=a(1886),n=a(9080),e=a(9201),r=function(){function i(s){this.showInfoDelay=1e3,this.taskIndex=-1,this.successorIndex=-1,this.isEditingInProgress=!1,this.disableTaskEditBox=!1,this.isTaskEditBoxShown=!1,this.settings=s,this.createElements()}return Object.defineProperty(i.prototype,"taskId",{get:function(){return this.viewModel.items[this.taskIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"successorId",{get:function(){return this.viewModel.items[this.successorIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"task",{get:function(){return this.viewItem.task},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"viewItem",{get:function(){return this.viewModel.items[this.taskIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderHelper",{get:function(){return this.settings.getRenderHelper()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ganttSettings",{get:function(){return this.settings.getGanttSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"commandManager",{get:function(){return this.settings.getCommandManager()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"updateTaskCommand",{get:function(){return this.commandManager.updateTaskCommand},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"validationController",{get:function(){return this.settings.getValidationController()},enumerable:!1,configurable:!0}),i.prototype.raiseTaskMoving=function(s,l,g,p){return this.settings.getModelManipulator().dispatcher.raiseTaskMoving(s,l,g,p)},Object.defineProperty(i.prototype,"tooltip",{get:function(){var s;return(s=this._tooltip)!==null&&s!==void 0||(this._tooltip=new t.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo)),this._tooltip.tooltipSettings=this.tooltipSettings,this._tooltip},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tooltipSettings",{get:function(){var s=this;return n.TooltipSettings.parse({getHeaderHeight:this.settings.getRenderHelper().header.clientHeight,getTaskProgressTooltipContentTemplate:this.ganttSettings.taskProgressTooltipContentTemplate,getTaskTimeTooltipContentTemplate:this.ganttSettings.taskTimeTooltipContentTemplate,getTaskTooltipContentTemplate:this.ganttSettings.taskTooltipContentTemplate,destroyTemplate:function(l){s.settings.destroyTemplate(l)},formatDate:function(l){return s.settings.formatDate(l)},getTaskAreaContainer:function(){return s.settings.getRenderHelper().taskAreaContainer}})},enumerable:!1,configurable:!0}),i.prototype.show=function(s){if(!this.isEditingInProgress&&!this.disableTaskEditBox){this.taskIndex=s,this.hide(),this.changeWrapInfo(),this.baseElement.className=i.CLASSNAMES.TASK_EDIT_BOX,this.displayDependency(),this.task.isMilestone()&&!this.viewItem.isCustom?this.baseElement.className=this.baseElement.className+" milestone":(this.isTaskUpdateAllowed()||(this.baseElement.className=this.baseElement.className+" "+i.CLASSNAMES.TASK_EDIT_HIDE_UPDATING),this.viewItem.isCustom&&this.baseElement.classList.add(i.CLASSNAMES.TASK_EDIT_BOX_CUSTOM));var l=this.settings.getGanttSettings().editing.taskHoverDelay||0;this.taskDateRange=new d.DateRange(this.task.start,this.task.end),this.displayTaskEditBox(l),this.displayProgressEdit(),this.displayStartEndEditElements()}},i.prototype.displayStartEndEditElements=function(){!this.task.isMilestone()&&this.isTaskUpdateAllowed()&&this.canUpdateTask()?(this.startEdit.style.display="block",this.endEdit.style.display="block"):(this.startEdit.style.display="none",this.endEdit.style.display="none")},i.prototype.displayProgressEdit=function(){!this.viewItem.isCustom&&this.canUpdateTask()&&this.isTaskUpdateAllowed()&&this.wrapInfo.size.width>this.wrapInfo.size.height?(this.progressEdit.style.display="block",this.progressEdit.style.left=this.task.normalizedProgress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px"):this.progressEdit.style.display="none"},i.prototype.displayDependency=function(){this.ganttSettings.editing.enabled&&this.ganttSettings.editing.allowDependencyInsert&&this.ganttSettings.showDependencies||(this.baseElement.className=this.baseElement.className+" hide-dependency")},i.prototype.changeWrapInfo=function(){this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement)},i.prototype.displayTaskEditBox=function(s){var l=this;s===void 0&&(s=0);var g=function(){l.renderHelper.taskArea.appendChild(l.baseElement),l.isTaskEditBoxShown=!0};s?this.timerId=setTimeout(g,s):g()},i.prototype.endEditing=function(){this.isEditingInProgress=!1,this.hide()},i.prototype.hide=function(){this.isTaskEditBoxShown=!1;var s=this.baseElement.parentNode;s&&s.removeChild(this.baseElement),this.tooltip.hide(),clearTimeout(this.timerId)},i.prototype.cancel=function(){clearTimeout(this.timerId)},i.prototype.showTaskInfo=function(s,l){l===void 0&&(l=500),this.timerId&&(l=this.showInfoDelay),this.tooltip.showInfo(this.task,s,l)},i.prototype.updateWrapInfo=function(){this.wrapInfo=this.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.position.x--},i.prototype.isAllowedToConnectTasks=function(s){var l,g=this.viewModel.items[s];return this.validationController.canCreateDependency(this.taskId,(l=g.task)===null||l===void 0?void 0:l.internalId)},i.prototype.showDependencySuccessor=function(s){if(this.isAllowedToConnectTasks(s)){this.successorIndex=s;var l=this.getTaskWrapperElementInfo(s);l.assignPosition(this.dependencySuccessorBaseElement),l.assignSize(this.dependencySuccessorBaseElement),l.assignSize(this.dependencySuccessorFrame),this.renderHelper.taskArea.appendChild(this.dependencySuccessorBaseElement)}},i.prototype.hideDependencySuccessor=function(){var s=this.dependencySuccessorBaseElement.parentNode;s&&s.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},i.prototype.processProgress=function(s){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!0;var l=s.x-this.wrapInfo.position.x,g=0;s.x>this.wrapInfo.position.x&&(g=s.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(l/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=g/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.tooltip.showProgress(g,u.DomUtils.getAbsolutePositionX(this.progressEdit)+this.progressEdit.offsetWidth/2)}},i.prototype.confirmProgress=function(){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!1;var s=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.updateTaskCommand.execute(this.taskId,{progress:s})}},i.prototype.processEnd=function(s){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var l=s.x>this.wrapInfo.position.x?s.x:this.wrapInfo.position.x,g=l-this.wrapInfo.position.x;this.baseElement.style.width=(g<1?0:g)+"px";var p=this.task.start,f=this.renderHelper.gridLayoutCalculator.getDateByPos(l);f.setSeconds(0),f<p||g<1?this.taskDateRange.end.setTime(p.getTime()):this.taskDateRange.end=this.getCorrectedDate(this.task.end,f),this.tooltip.showTime(p,this.taskDateRange.end,u.DomUtils.getAbsolutePositionX(this.baseElement)+this.baseElement.clientWidth)}},i.prototype.confirmEnd=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=i.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{end:this.taskDateRange.end}),this.hide(),this.updateWrapInfo())},i.prototype.processStart=function(s){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var l=s.x<this.wrapInfo.position.x+this.wrapInfo.size.width?s.x:this.wrapInfo.position.x+this.wrapInfo.size.width,g=this.wrapInfo.size.width-(l-this.wrapInfo.position.x);this.baseElement.style.left=l+"px",this.baseElement.style.width=(g<1?0:g)+"px";var p=this.task.end,f=this.renderHelper.gridLayoutCalculator.getDateByPos(l);f.setSeconds(0),f>p||g<1?this.taskDateRange.start.setTime(p.getTime()):this.taskDateRange.start=this.getCorrectedDate(this.task.start,f),this.tooltip.showTime(this.taskDateRange.start,p,u.DomUtils.getAbsolutePositionX(this.baseElement))}},i.prototype.confirmStart=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=i.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start}),this.hide(),this.updateWrapInfo())},i.prototype.processMove=function(s){if(this.isTaskUpdateAllowed()&&this.isTaskEditBoxShown){this.baseElement.className=this.baseElement.className+" move";var l=this.baseElement.offsetLeft+s;this.baseElement.style.left=l+"px";var g=this.renderHelper.gridLayoutCalculator.getDateByPos(l);this.taskDateRange.start=this.getCorrectedDate(this.task.start,g);var p=e.DateUtils.getRangeMSPeriod(this.task.start,this.task.end);return this.taskDateRange.end=e.DateUtils.getDSTCorrectedTaskEnd(this.taskDateRange.start,p),this.isEditingInProgress=this.raiseTaskMoving(this.task,this.taskDateRange.start,this.taskDateRange.end,this.onTaskMovingCallback.bind(this)),this.isEditingInProgress&&this.tooltip.showTime(this.taskDateRange.start,this.taskDateRange.end,u.DomUtils.getAbsolutePositionX(this.baseElement)),this.isEditingInProgress}return!0},i.prototype.onTaskMovingCallback=function(s,l){if(this.taskDateRange.start!==s||this.taskDateRange.end!==l){var g=this.renderHelper.gridLayoutCalculator,p=g.getPosByDate(s),f=g.getPosByDate(l)-p;this.baseElement.style.left=p+"px",this.baseElement.style.width=(f<1?0:f)+"px",this.taskDateRange.start=s,this.taskDateRange.end=l}},i.prototype.confirmMove=function(){this.isTaskUpdateAllowed()&&(this.ganttSettings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.isEditingInProgress&&(this.baseElement.className=i.CLASSNAMES.TASK_EDIT_BOX,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start,end:this.taskDateRange.end}),this.updateWrapInfo(),this.hide(),this.isEditingInProgress=!1))},i.prototype.getCorrectedDate=function(s,l){if(this.ganttSettings.viewType>c.ViewType.SixHours){var g=l.getFullYear(),p=l.getMonth(),f=l.getDate(),y=this.ganttSettings.viewType===c.ViewType.Days?l.getHours():s.getHours(),m=s.getMinutes(),v=s.getSeconds(),T=s.getMilliseconds();return new Date(g,p,f,y,m,v,T)}return l},i.prototype.startDependency=function(s){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=i.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.renderHelper.taskArea.appendChild(this.dependencyLine),this.startPosition=s},i.prototype.processDependency=function(s){this.isEditingInProgress=!0,this.drawline(this.startPosition,s)},i.prototype.endDependency=function(s){this.isEditingInProgress=!1,s!=null&&this.commandManager.createDependencyCommand.execute(this.task.internalId,this.successorId,s);var l=this.dependencyLine.parentNode;l&&l.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},i.prototype.selectDependency=function(s){this.ganttSettings.editing.allowDependencyDelete&&(this.dependencyId=s)},i.prototype.isDependencySelected=function(s){return this.dependencyId&&this.dependencyId===s},i.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.commandManager.removeDependencyCommand.execute(this.dependencyId)},i.prototype.getTaskWrapperElementInfo=function(s){var l=this.renderHelper.gridLayoutCalculator,g=l.getTaskWrapperElementInfo(s);return g.size.width=l.getTaskWidth(s),g.size.height=l.getTaskHeight(s),g},i.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=i.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=i.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.progressEdit.appendChild(document.createElement("DIV")),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.classList.add(i.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH),o.Browser.TouchUI&&this.dependencyFinish.classList.add(i.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.classList.add(i.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT),o.Browser.TouchUI&&this.dependencyStart.classList.add(i.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=i.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=i.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=i.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=i.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.classList.add(i.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH),o.Browser.TouchUI&&this.dependencySuccessorStart.classList.add(i.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.classList.add(i.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT),o.Browser.TouchUI&&this.dependencySuccessorFinish.classList.add(i.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish),this._tooltip=new t.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo),this.attachEvents()},i.prototype.attachEvents=function(){this.onMouseLeaveHandler=(function(){this.isEditingInProgress||this.hide()}).bind(this),this.baseElement.addEventListener("mouseleave",this.onMouseLeaveHandler)},i.prototype.drawline=function(s,l){if(s.x>l.x){var g=l;l=s,s=g}var p=Math.atan((s.y-l.y)/(l.x-s.x));p=-(p=180*p/Math.PI);var f=Math.sqrt((s.x-l.x)*(s.x-l.x)+(s.y-l.y)*(s.y-l.y));this.dependencyLine.style.left=s.x+"px",this.dependencyLine.style.top=s.y+"px",this.dependencyLine.style.width=f+"px",this.dependencyLine.style.transform="rotate("+p+"deg)"},i.prototype.canUpdateTask=function(){return!this.viewModel.isTaskToCalculateByChildren(this.task.internalId)},i.prototype.isTaskUpdateAllowed=function(){var s=this.ganttSettings.editing;return s.enabled&&s.allowTaskUpdate},i.prototype.detachEvents=function(){var s;(s=this.baseElement)===null||s===void 0||s.removeEventListener("mouseleave",this.onMouseLeaveHandler)},i.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_BOX_CUSTOM:"dx-gantt-task-edit-wrapper-custom",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l",TASK_EDIT_TOUCH:"dx-gantt-edit-touch",TASK_EDIT_HIDE_UPDATING:"hide-updating"},i}();h.TaskEditController=r},1886:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskEditTooltip=void 0;var c=a(6907),d=function(){function u(o,t,n){this.parentElement=o,this.cultureInfo=n,this.tooltipSettings=t}return Object.defineProperty(u.prototype,"baseElement",{get:function(){return this._baseElement||this.createTooltipContainer(),this._baseElement},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"headerHeight",{get:function(){return this.tooltipSettings.getHeaderHeight},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskAreaContainer",{get:function(){return this.tooltipSettings.getTaskAreaContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskProgressTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskProgressTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskTimeTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTimeTooltipContentTemplate},enumerable:!1,configurable:!0}),u.prototype.destroyTemplate=function(o){this.tooltipSettings.destroyTemplate(o)},u.prototype.formatDate=function(o){return this.tooltipSettings.formatDate(o)},u.prototype.createTooltipContainer=function(){this._baseElement=document.createElement("DIV"),this._baseElement.className=u.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,this.parentElement.appendChild(this._baseElement)},u.prototype.setDefaultTooltip=function(o){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=u.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;var t=document.createElement("DIV");t.className=u.CLASSNAMES.TASK_EDIT_TASK_TITLE;var n=document.createElement("SPAN");if(t.appendChild(n),this.defaultTooltip.appendChild(t),n.innerText=o.title,this.defaultTooltip.appendChild(this.getTimeContent(o.start,o.end)),!isNaN(o.progress)){var e=document.createElement("DIV");e.className=u.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var r=document.createElement("SPAN"),i=document.createElement("SPAN");e.appendChild(r),e.appendChild(i),this.defaultTooltip.appendChild(e),r.innerText=(this.cultureInfo.progress?this.cultureInfo.progress:"Progress")+": ",i.innerText=o.progress+"%"}this.baseElement.appendChild(this.defaultTooltip)},u.prototype.setDefaultProgressTooltip=function(o){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=u.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.innerText=o+"%",this.baseElement.appendChild(this.defaultTooltip)},u.prototype.setDefaultTimeTooltip=function(o,t){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=u.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.appendChild(this.getTimeContent(o,t)),this.baseElement.appendChild(this.defaultTooltip)},u.prototype.showInfo=function(o,t,n){var e=this;n===void 0&&(n=0);var r=this.taskTooltipContentTemplate;this.destroyTemplate(this.baseElement),r?r(this.baseElement,o,function(){e.showTooltip(t,!1,n)}):(this.setDefaultTooltip(o),this.showTooltip(t,!1,n))},u.prototype.showProgress=function(o,t){var n=this,e=this.taskProgressTooltipContentTemplate;this.destroyTemplate(this.baseElement),e?e(this.baseElement,{progress:o},function(){n.showTooltip(t)}):(this.setDefaultProgressTooltip(o),this.show(t))},u.prototype.showTime=function(o,t,n){var e=this,r=this.taskTimeTooltipContentTemplate;this.destroyTemplate(this.baseElement),r?r(this.baseElement,{start:o,end:t},function(){e.showTooltip(n)}):(this.setDefaultTimeTooltip(o,t),this.show(n))},u.prototype.showTooltip=function(o,t,n){var e,r=this;if(t===void 0&&(t=!0),n===void 0&&(n=0),(e=this.baseElement)===null||e===void 0?void 0:e.innerHTML){var i=function(){r.show(o,t)};n?this.timerId=setTimeout(i,n):i()}},u.prototype.show=function(o,t){var n,e,r,i=this;t===void 0&&(t=!0),(n=this.defaultTooltip)===null||n===void 0||n.classList.remove(u.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER),(e=this.defaultTooltip)===null||e===void 0||e.classList.remove(u.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.display="block";var s=this.getLeftPosition(o),l=this.needToShowUnderParent(),g=this.getTopPosition(l),p=l?u.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER:u.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE;(r=this.defaultTooltip)===null||r===void 0||r.classList.add(p),this.baseElement.style.left=s+"px",this.baseElement.style.top=g+"px",t&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){i.hide()},1500))},u.prototype.hide=function(){this.baseElement.style.display="none",this.destroyTemplate(this.baseElement),clearTimeout(this.timerId)},u.prototype.getTimeContent=function(o,t){var n=document.createElement("TABLE");n.className=u.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var e=document.createElement("TBODY");n.appendChild(e);var r=document.createElement("TR"),i=document.createElement("TD"),s=document.createElement("TD"),l=document.createElement("TR"),g=document.createElement("TD"),p=document.createElement("TD");return r.appendChild(i),r.appendChild(s),l.appendChild(g),l.appendChild(p),e.appendChild(r),e.appendChild(l),i.innerText=(this.cultureInfo.start?this.cultureInfo.start:"Start")+": ",s.innerText=this.formatDate(o),g.innerText=(this.cultureInfo.end?this.cultureInfo.end:"End")+": ",p.innerText=this.formatDate(t),n},u.prototype.getLeftPosition=function(o){var t=o-c.DomUtils.getAbsolutePositionX(this.parentElement)-2*u.defaultArrowHeight;if(this.taskAreaContainer){var n=c.DomUtils.getAbsolutePositionX(this.taskAreaContainer.getElement())+this.taskAreaContainer.getWidth(),e=o+this.baseElement.clientWidth-n;e>0&&(t-=e)}return t},u.prototype.getTopPosition=function(o){return o?this.parentElement.clientHeight+u.defaultArrowHeight:-this.baseElement.clientHeight-u.defaultArrowHeight},u.prototype.needToShowUnderParent=function(){var o,t=c.DomUtils.getAbsolutePositionY(this.parentElement)-this.headerHeight-c.DomUtils.getDocumentScrollTop()-u.defaultHeightOffset,n=((o=this.taskAreaContainer)===null||o===void 0?void 0:o.scrollTop)||0,e=this.parentElement.offsetTop-n;return this.baseElement.clientHeight>t||this.baseElement.clientHeight>e},u.CLASSNAMES={TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-tooltip",TASK_EDIT_TOOLTIP_DEFAULT:"dx-gantt-task-edit-tooltip-default",TASK_EDIT_TASK_TITLE:"dx-gantt-task-title",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_TOOLTIP_ARROW_BEFORE:"dx-gantt-task-edit-tooltip-before",TASK_EDIT_TOOLTIP_ARROW_AFTER:"dx-gantt-task-edit-tooltip-after"},u.defaultArrowHeight=5,u.defaultHeightOffset=15,u}();h.TaskEditTooltip=d},3336:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GanttMovingHelper=void 0;var c=a(9279),d=a(3714),u=function(){function o(t){this.taskAreaContainer=t,this.movingInfo=null}return o.prototype.startMoving=function(t){this.movingInfo=this.calcMovingInfo(t),this.updateGanttAreaCursor(!0)},o.prototype.cancelMoving=function(){this.movingInfo=null},o.prototype.onMouseMove=function(t){this.move(t)},o.prototype.onMouseUp=function(t){this.cancelMoving(),this.updateGanttAreaCursor(!1)},o.prototype.move=function(t){this.updateScrollPosition(t)},o.prototype.updateScrollPosition=function(t){var n=Math.round(d.EvtUtils.getEventX(t)),e=Math.round(d.EvtUtils.getEventY(t)),r=n-this.movingInfo.eventX,i=e-this.movingInfo.eventY,s=r<0?-1:1,l=i<0?-1:1,g=s<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,p=l<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(r)>g&&(r=g*s),Math.abs(i)>p&&(i=p*l);var f=this.movingInfo.scrollLeft-r,y=this.movingInfo.scrollTop-i,m=this.taskAreaContainer;m.scrollLeft!==f&&(m.scrollLeft=f),m.scrollTop!==y&&(m.scrollTop=y)},o.prototype.calcMovingInfo=function(t){var n=this.taskAreaContainer;return{eventX:d.EvtUtils.getEventX(t),eventY:d.EvtUtils.getEventY(t),scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,maxLeftDelta:n.scrollLeft,maxRightDelta:n.scrollWidth-n.scrollLeft-n.getElement().offsetWidth,maxTopDelta:n.scrollTop,maxBottomDelta:n.scrollHeight-n.scrollTop-n.getElement().offsetHeight}},o.prototype.updateGanttAreaCursor=function(t){var n=c.Browser.IE?"move":"grabbing";this.taskAreaContainer.getElement().style.cursor=t?n:"default"},o}();h.GanttMovingHelper=u},6958:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaStateController=void 0;var c=a(8900),d=a(6907),u=a(3714),o=a(5098),t=a(2449),n=a(5376),e=a(4264),r=a(9155),i=a(125),s=a(1404),l=a(6591),g=a(2395),p=a(7295),f=function(){function y(m,v,T){var b=this;this.position=new c.Point(-1,-1),this._pointers={},this._listener=m,this._listener.setHandler(s.TaskAreaStateEventNames.STATE_EXIT,function(){b.switchToDefaultState()}),this._listener.setHandler(s.TaskAreaStateEventNames.GET_POINTERS_INFO,function(w){return b.getPointersInfo(w.triggerEvent)}),this._taskArea=v,this._cellSize=T,this.switchToDefaultState()}return y.prototype.onKeyDown=function(m){this._state.onKeyDown(m)},y.prototype.onScroll=function(m){this._state.onScroll(m)},y.prototype.onContextMenu=function(m){this._state.onContextMenu(m)},y.prototype.onMouseWheel=function(m){m.ctrlKey&&(m.preventDefault(),m.stopPropagation(),this.switchState(l.TaskAreaZoomState)),this._state.onMouseWheel(m)},Object.defineProperty(y.prototype,"currentState",{get:function(){return this._state},enumerable:!1,configurable:!0}),y.prototype.onTaskPointerEnter=function(m){this._state.onTaskPointerEnter(m)},y.prototype.onTaskAreaPointerLeave=function(m){this._state.onTaskAreaLeave(m)},y.prototype.onDocumentPointerCancel=function(m){this._clearPointerInfo(m)},y.prototype.onDocumentPointerDown=function(m){this._updatePinterInfo(m),this.toggleStateOnPointerDown(m),this._state.onDocumentPointerDown(m)},y.prototype.onDocumentPointerMove=function(m){this._updatePinterInfo(m),this.toggleStateOnPointerMove(m),this._state.onDocumentPointerMove(m)},y.prototype.onDocumentPointerUp=function(m){this._clearPointerInfo(m),this._state.onDocumentPointerUp(m)},y.prototype.onTaskTouchStart=function(m){this._state.onTaskTouchStart(m)},y.prototype.onTouchStart=function(m){this.toggleStateOnPointerDown(m),this._state.onTouchStart(m)},y.prototype.onTouchEnd=function(m){this._state.onTouchEnd(m)},y.prototype.onTouchMove=function(m){this.toggleStateOnPointerMove(m),this._state.onTouchMove(m)},y.prototype.onClick=function(m){this._state.onClick(m)},y.prototype.onDblClick=function(m){this._state.onDblClick(m)},y.prototype.onTaskAreaMouseLeave=function(m){this._state.onTaskAreaLeave(m)},y.prototype.onTaskElementHover=function(m){this._state.onTaskHover(m)},y.prototype.onTaskElementLeave=function(m){this._state.onTaskLeave(m)},y.prototype.onMouseUp=function(m){this._state.onMouseUp(m)},y.prototype.onMouseMove=function(m){this._state.onMouseMove(m)},y.prototype.onMouseDown=function(m){switch(this.getTaskAreaEventSource(m)){case t.TaskAreaEventSource.TaskArea:this.processMouseDownOnTaskArea(m);break;case t.TaskAreaEventSource.TaskEdit_Frame:this.switchState(p.TaskMoveState);break;case t.TaskAreaEventSource.TaskEdit_Progress:case t.TaskAreaEventSource.TaskEdit_Start:case t.TaskAreaEventSource.TaskEdit_End:this.switchState(g.TaskEditState);break;case t.TaskAreaEventSource.TaskEdit_DependencyStart:case t.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(e.TaskAreaDependencyState)}this._state.onMouseDown(m)},Object.defineProperty(y.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),y.prototype.switchToDefaultState=function(){this._state=new n.TaskAreaDefaultState(this._listener,this.taskArea,this._cellSize)},y.prototype.switchState=function(m){this._state instanceof m||(this._state&&this._state.finish(),this._state=new m(this._listener,this.taskArea,this._cellSize),this._state.start())},y.prototype.processMouseDownOnTaskArea=function(m){u.EvtUtils.isLeftButtonPressed(m)&&!r.TaskAreaDomHelper.isConnectorLine(m)&&this.switchState(i.TaskAreaScrollState)},y.prototype.toggleStateOnPointerDown=function(m){var v=this.toggleStateWhenMultiOrOutsideTouch(m);if(this.position=new c.Point(u.EvtUtils.getEventX(m),u.EvtUtils.getEventY(m)),!v&&this._canStartDrag(m))switch(this.getTaskAreaEventSource(m)){case t.TaskAreaEventSource.TaskEdit_DependencyStart:case t.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(e.TaskAreaDependencyState);break;case t.TaskAreaEventSource.TaskEdit_Progress:case t.TaskAreaEventSource.TaskEdit_Start:case t.TaskAreaEventSource.TaskEdit_End:this.switchState(g.TaskEditState)}},y.prototype.toggleStateOnPointerMove=function(m){var v=this.toggleStateWhenMultiOrOutsideTouch(m),T=Math.abs(this.position.x-u.EvtUtils.getEventX(m))>1||Math.abs(this.position.y-u.EvtUtils.getEventY(m))>1;if(!v&&T&&this._canStartDrag(m)&&this._state instanceof n.TaskAreaDefaultState)switch(this.getTaskAreaEventSource(m)){case t.TaskAreaEventSource.TaskArea:this.checkEventInTaskEditFrameArea(m)?this.switchState(p.TaskMoveState):this.switchState(i.TaskAreaScrollState);break;case t.TaskAreaEventSource.TaskEdit_Frame:this.isTaskUpdateDisabled()?this.switchState(i.TaskAreaScrollState):this.switchState(p.TaskMoveState);break;case t.TaskAreaEventSource.TaskEdit_Progress:case t.TaskAreaEventSource.TaskEdit_Start:case t.TaskAreaEventSource.TaskEdit_End:this.switchState(g.TaskEditState)}},y.prototype.toggleStateWhenMultiOrOutsideTouch=function(m){var v=this._getActivePointersCount(m),T=!this.isInTaskArea(m),b=v>=2||T;return v>2||T?this.switchState(n.TaskAreaDefaultState):v===2&&this.switchState(l.TaskAreaZoomState),b},y.prototype.checkEventInTaskEditFrameArea=function(m){var v,T,b=this.getTaskEditFrameElement();if(this.isTaskUpdateDisabled()||!b)return!1;var w=(m==null?void 0:m.clientX)||((v=m==null?void 0:m.touches[0])===null||v===void 0?void 0:v.clientX),A=(m==null?void 0:m.clientY)||((T=m==null?void 0:m.touches[0])===null||T===void 0?void 0:T.clientY),D=b.getBoundingClientRect();return w>=D.left&&w<=D.left+D.width&&A>=D.top&&A<=D.top+D.height},y.prototype.isTaskUpdateDisabled=function(){return this._taskArea.getAttribute("task-edit-enabled")==="false"},y.prototype.isInTaskArea=function(m){return d.DomUtils.isItParent(this._taskArea,u.EvtUtils.getEventSource(m))},y.prototype.getTaskEditFrameElement=function(){return this._taskArea.getElementsByClassName(o.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME)[0]},y.prototype._updatePinterInfo=function(m){var v=m.pointerId;this._pointers[v]={pageX:m.pageX,pageY:m.pageY,pointerType:m.pointerType}},y.prototype._clearPointerInfo=function(m){var v=m.pointerId;delete this._pointers[v]},y.prototype.isTouchEvent=function(m){return r.TaskAreaDomHelper.isTouchEvent(m)},y.prototype.isPointerEvent=function(m){return r.TaskAreaDomHelper.isPointerEvent(m)},y.prototype._getActivePointersCount=function(m){var v=this;return this.isTouchEvent(m)?m.touches.length:Object.keys(this._pointers).filter(function(T){return v._pointers[T].pointerType===m.pointerType}).length},y.prototype.getPointersInfo=function(m){var v=this,T=m==null?void 0:m.pointerType,b=Object.keys(this._pointers).map(function(w){return v._pointers[w]});return T&&(b=b.filter(function(w){return w.pointerType===T})),b},y.prototype._canStartDrag=function(m){return!(this._getActivePointersCount(m)>1)&&(!r.TaskAreaDomHelper.isMousePointer(m)||m.buttons===1)&&!r.TaskAreaDomHelper.isConnectorLine(m)},y.prototype.getTaskAreaEventSource=function(m){return r.TaskAreaDomHelper.getEventSource(u.EvtUtils.getEventSource(m))},y}();h.TaskAreaStateController=f},5376:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaDefaultState=void 0;var c=a(655),d=a(3714),u=a(9155),o=a(5867),t=a(1404),n=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return c.__extends(r,e),r.prototype.finish=function(){this.clearTimers(),this.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_HIDE)},r.prototype.onMouseDownInternal=function(i){this.onPointerDownBase(i)},r.prototype.onDocumentPointerDownInternal=function(i){this.onPointerDownBase(i)},r.prototype.onDocumentPointerUpInternal=function(i){this.onPointerUpBase(i)},r.prototype.onDocumentPointerMoveInternal=function(i){this.clearTimers()},r.prototype.onTouchStartInternal=function(i){this.onPointerDownBase(i)},r.prototype.onTouchEndInternal=function(i){this.onPointerUpBase(i)},r.prototype.onTouchMoveInternal=function(i){this.clearTimers()},r.prototype.onPointerDownBase=function(i){var s=this;i.preventDefault(),this._lastTouchRowIndex=this.getClickedRowIndex(i),(this.isPointerEvent(i)?u.TaskAreaDomHelper.isMousePointer(i):this.isMouseEvent(i))?this.changeSelectionOnTouchDown(i):(setTimeout(function(){u.TaskAreaDomHelper.isMousePointer(i)||s.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_HIDE,i),s.changeSelectionOnTouchDown(i)},0),clearTimeout(this._contextMenuTimer),this._contextMenuTimer=setTimeout(function(){return s.showContextMenuOnTouchDown(i)},r.defaultContextMenuTimeout))},r.prototype.onPointerUpBase=function(i){var s=this;if(clearTimeout(this._contextMenuTimer),i.preventDefault(),this.canToEmulateClick(i)){var l=this.getClickedRowIndex(i),g=new Date;if(this._lastEmulatedClickTime)g.getTime()-this._lastEmulatedClickTime.getTime()<r.defaultDblClickTimeout&&(this.raiseEvent(t.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,i,l),delete this._lastEmulatedClickTime);else{var p=!this.raiseEvent(t.TaskAreaStateEventNames.TASK_AREA_CLICK,i,l);clearTimeout(this._dblClickClearTimer),u.TaskAreaDomHelper.isMousePointer(i)&&this.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_HIDE,i),p||(this._lastEmulatedClickTime=g,this._dblClickClearTimer=setTimeout(function(){delete s._lastEmulatedClickTime},r.defaultDblClickClearTimeout))}}},r.prototype.canToEmulateClick=function(i){var s=!u.TaskAreaDomHelper.isConnectorLine(i)&&this.getClickedRowIndex(i)===this._lastTouchRowIndex;return s&&u.TaskAreaDomHelper.isMousePointer(i)&&s&&(s=i.button!==2),s},r.prototype.changeSelectionOnTouchDown=function(i){var s=u.TaskAreaDomHelper.isConnectorLine(i);s||this.raiseTaskSelection(i,this.getClickedRowIndex(i)),this.raiseDependencySelection(i,s?d.EvtUtils.getEventSource(i).getAttribute("dependency-id"):null)},r.prototype.showContextMenuOnTouchDown=function(i){var s=u.TaskAreaDomHelper.isConnectorLine(i);this.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_SHOW,i,this.getClickedRowIndex(i),{type:s?"dependency":"task"})},r.prototype.clearTimers=function(){clearTimeout(this._contextMenuTimer),clearTimeout(this._dblClickClearTimer),delete this._lastEmulatedClickTime},r.defaultContextMenuTimeout=3e3,r.defaultDblClickTimeout=500,r.defaultDblClickClearTimeout=r.defaultDblClickTimeout+100,r}(o.TaskAreaStateBase);h.TaskAreaDefaultState=n},4264:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaDependencyState=h.dependencyMap=void 0;var c=a(655),d=a(8900),u=a(6907),o=a(3714),t=a(5950),n=a(2449),e=a(9155),r=a(5867),i=a(1404);h.dependencyMap=[],h.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyStart]=[],h.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyFinish]=[],h.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyStart][n.TaskAreaEventSource.Successor_DependencyStart]=t.DependencyType.SS,h.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyStart][n.TaskAreaEventSource.Successor_DependencyFinish]=t.DependencyType.SF,h.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyFinish][n.TaskAreaEventSource.Successor_DependencyStart]=t.DependencyType.FS,h.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyFinish][n.TaskAreaEventSource.Successor_DependencyFinish]=t.DependencyType.FF;var s=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return c.__extends(g,l),g.prototype.onMouseUp=function(p){this.onDependencyEndByMouse(p)},g.prototype.onMouseDownInternal=function(p){this.onDependencyStart(p)},g.prototype.onMouseMoveInternal=function(p){this.onDependencyMoveStep(p)},g.prototype.onTouchStartInternal=function(p){this.onDependencyStart(p)},g.prototype.onTouchEndInternal=function(p){this.onDependencyEndByTouch(p)},g.prototype.onTouchMoveInternal=function(p){this.onDependencyMoveStep(p)},g.prototype.onDocumentPointerDownInternal=function(p){this.onDependencyStart(p)},g.prototype.onDocumentPointerUpInternal=function(p){this.onDependencyEndByTouch(p)},g.prototype.onDocumentPointerMoveInternal=function(p){this.onDependencyMoveStep(p)},g.prototype.onDependencyStart=function(p){var f=o.EvtUtils.getEventSource(p);this.source=e.TaskAreaDomHelper.getEventSource(f);var y=this.getRelativePos(new d.Point(u.DomUtils.getAbsolutePositionX(f)+f.clientWidth/2,u.DomUtils.getAbsolutePositionY(f)+f.clientHeight/2));this.raiseEvent(i.TaskAreaStateEventNames.DEPENDENCY_START,p,null,{pos:y})},g.prototype.onDependencyMoveStep=function(p){p.preventDefault();var f=this.getRelativePos(new d.Point(o.EvtUtils.getEventX(p),o.EvtUtils.getEventY(p)));this.raiseEvent(i.TaskAreaStateEventNames.DEPENDENCY_PROCESS,p,this.getClickedRowIndex(p),{pos:f})},g.prototype.onDependencyEndByMouse=function(p){var f=e.TaskAreaDomHelper.getEventSource(o.EvtUtils.getEventSource(p)),y=f===n.TaskAreaEventSource.Successor_DependencyStart||f===n.TaskAreaEventSource.Successor_DependencyFinish?h.dependencyMap[this.source][f]:null;this.processEndDependency(p,y)},g.prototype.onDependencyEndByTouch=function(p){var f=this.raiseEvent(i.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS,p),y=this.getRelativePos(f.successorStart),m=this.getRelativePos(f.successorFinish),v=this.getRelativePos(new d.Point(o.EvtUtils.getEventX(p),o.EvtUtils.getEventY(p))),T=this.isTouchNearby(v,y)?n.TaskAreaEventSource.Successor_DependencyStart:this.isTouchNearby(v,m)?n.TaskAreaEventSource.Successor_DependencyFinish:null,b=T===n.TaskAreaEventSource.Successor_DependencyStart||T===n.TaskAreaEventSource.Successor_DependencyFinish?h.dependencyMap[this.source][T]:null;this.processEndDependency(p,b)},g.prototype.onTaskAreaLeaveInternal=function(p){this.processEndDependency(p,null)},g.prototype.processEndDependency=function(p,f){this.raiseEvent(i.TaskAreaStateEventNames.DEPENDENCY_END,p,null,{type:f}),this.raiseEvent(i.TaskAreaStateEventNames.STATE_EXIT,p)},g.prototype.isTouchNearby=function(p,f){return Math.abs(f.x-p.x)<=20&&Math.abs(f.y-p.y)<=20},g}(r.TaskAreaStateBase);h.TaskAreaDependencyState=s},9155:(S,h,a)=>{var c;Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaDomHelper=void 0;var d=a(6907),u=a(3714),o=a(5098),t=a(2449),n=a(1855),e=function(){function r(){}return r.getEventSource=function(i){var s,l=(i.nodeType===((s=window==null?void 0:window.Node)===null||s===void 0?void 0:s.ELEMENT_NODE)?i:i.parentNode).classList[0];return r.classToSource[l]||t.TaskAreaEventSource.TaskArea},r.isConnectorLine=function(i){var s=u.EvtUtils.getEventSource(i);return d.DomUtils.hasClassName(s,n.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||d.DomUtils.hasClassName(s,n.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)},r.isTaskElement=function(i){var s=u.EvtUtils.getEventSource(i),l=r.classToSource[s.classList[0]];return l===t.TaskAreaEventSource.TaskEdit_Frame||l===t.TaskAreaEventSource.TaskEdit_Progress||l===t.TaskAreaEventSource.TaskEdit_Start||l===t.TaskAreaEventSource.TaskEdit_End||l===t.TaskAreaEventSource.TaskEdit_DependencyStart||l===t.TaskAreaEventSource.TaskEdit_DependencyFinish},r.isMouseEvent=function(i){return i instanceof MouseEvent},r.isTouchEvent=function(i){return window.TouchEvent&&i instanceof TouchEvent},r.isPointerEvent=function(i){return window.PointerEvent&&i instanceof PointerEvent},r.isMousePointer=function(i){return this.isPointerEvent(i)&&i.pointerType==="mouse"},r.classToSource=((c={})[o.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS]=t.TaskAreaEventSource.TaskEdit_Progress,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_START]=t.TaskAreaEventSource.TaskEdit_Start,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_END]=t.TaskAreaEventSource.TaskEdit_End,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME]=t.TaskAreaEventSource.TaskEdit_Frame,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH]=t.TaskAreaEventSource.TaskEdit_DependencyStart,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT]=t.TaskAreaEventSource.TaskEdit_DependencyFinish,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH]=t.TaskAreaEventSource.Successor_DependencyStart,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT]=t.TaskAreaEventSource.Successor_DependencyFinish,c),r}();h.TaskAreaDomHelper=e},125:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaScrollState=void 0;var c=a(655),d=a(5867),u=a(1404),o=function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._isStarted=!1,e}return c.__extends(n,t),n.prototype.finish=function(){this.raiseEvent(u.TaskAreaStateEventNames.TASK_AREA_END_MOVE,null)},n.prototype.onMouseUp=function(e){this.onEnd(e)},n.prototype.onMouseDownInternal=function(e){this.onBeforeStart(e)},n.prototype.onMouseMoveInternal=function(e){this.onMove(e)},n.prototype.onDocumentPointerUpInternal=function(e){this.onEnd(e)},n.prototype.onDocumentPointerMoveInternal=function(e){this.onMoveByPointer(e)},n.prototype.onTouchEndInternal=function(e){this.onEnd(e)},n.prototype.onTouchMoveInternal=function(e){this.onMoveByPointer(e)},n.prototype.onBeforeStart=function(e){e.preventDefault(),this.raiseDependencySelection(e,null),this.raiseEvent(u.TaskAreaStateEventNames.TASK_EDIT_END,e),this.raiseEvent(u.TaskAreaStateEventNames.TASK_AREA_START_MOVE,e),this._isStarted=!0},n.prototype.onMoveByPointer=function(e){this._isStarted?this.onMove(e):this.onBeforeStart(e)},n.prototype.onMove=function(e){e.preventDefault(),this.raiseEvent(u.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE,e)},n.prototype.onEnd=function(e){e.preventDefault(),this.raiseEvent(u.TaskAreaStateEventNames.TASK_AREA_END_MOVE,e),this.raiseEvent(u.TaskAreaStateEventNames.STATE_EXIT,e),this._isStarted=!1},n}(d.TaskAreaStateBase);h.TaskAreaScrollState=o},5867:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaStateBase=void 0;var c=a(9279),d=a(8900),u=a(6907),o=a(3714),t=a(2153),n=a(3461),e=a(9155),r=a(1404),i=function(){function s(l,g,p){this.position=new d.Point(-1,-1),this.isCursorInArea=!1,this._listener=l,this._taskArea=g,this._cellSize=p}return s.prototype.start=function(){},s.prototype.finish=function(){},s.prototype.isTouchEvent=function(l){return e.TaskAreaDomHelper.isTouchEvent(l)},s.prototype.isPointerEvent=function(l){return e.TaskAreaDomHelper.isPointerEvent(l)},s.prototype.isMouseEvent=function(l){return e.TaskAreaDomHelper.isMouseEvent(l)},s.prototype.onMouseWheel=function(l){},s.prototype.onScroll=function(l){this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_SCROLL)},s.prototype.onKeyDown=function(l){this.isCursorInArea&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN,l,null,{code:this.getShortcutCode(l)})},s.prototype.onContextMenu=function(l){var g=this.getClickedRowIndex(l),p=e.TaskAreaDomHelper.isConnectorLine(l);p||this.raiseTaskSelection(l,g),l.stopPropagation(),l.preventDefault(),c.Browser.WebKitFamily&&(l.returnValue=!1),this.raiseEvent(r.TaskAreaStateEventNames.CONTEXTMENU_SHOW,l,g,{type:p?"dependency":"task"})},s.prototype.onTaskPointerEnter=function(l){this.onTaskPointerEnterBase(l)},s.prototype.onDocumentPointerMove=function(l){this.processPointerMove(l)},s.prototype.onDocumentPointerDown=function(l){this.processPointerDown(l)},s.prototype.onDocumentPointerUp=function(l){this.processPointerUp(l)},s.prototype.onTaskTouchStart=function(l){this.onTaskPointerEnterBase(l)},s.prototype.onTouchMove=function(l){this.processPointerMove(l)},s.prototype.onTouchStart=function(l){this.processPointerDown(l)},s.prototype.onTouchEnd=function(l){this.processPointerUp(l)},s.prototype.onMouseDown=function(l){this.processPointerDown(l)},s.prototype.onMouseUp=function(l){},s.prototype.onMouseMove=function(l){this.processPointerMove(l)},s.prototype.onTaskHover=function(l){this.onTaskPointerEnterBase(l)},s.prototype.onTaskLeave=function(l){this.raiseEvent(r.TaskAreaStateEventNames.TASK_LEAVE,l,this.getClickedRowIndex(l))},s.prototype.onClick=function(l){var g=this.getClickedRowIndex(l);this.raiseTaskSelection(l,g),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_CLICK,l,g)},s.prototype.onDblClick=function(l){l.preventDefault(),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,l,this.getClickedRowIndex(l))},s.prototype.onTaskAreaLeave=function(l){(!this.isPointerEvent(l)||e.TaskAreaDomHelper.isMousePointer(l))&&(this.isCursorInArea=!1,this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_END,l)),this.onTaskAreaLeaveInternal(l)},s.prototype.onTaskPointerEnterBase=function(l){this.isTouchEvent(l)||this.isPointerEvent(l)||l.preventDefault(),this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_START,l,this.getClickedRowIndex(l))},s.prototype.processPointerDown=function(l){var g=this.isTouchEvent(l),p=this.isPointerEvent(l);(g||p)&&this.checkAndProcessTouchOutsideArea(l)||(this.position=new d.Point(o.EvtUtils.getEventX(l),o.EvtUtils.getEventY(l)),(g||p)&&l.preventDefault(),g?this.onTouchStartInternal(l):p?this.onDocumentPointerDownInternal(l):this.onMouseDownInternal(l))},s.prototype.processPointerMove=function(l){var g,p=this.isTouchEvent(l),f=this.isPointerEvent(l);(g=this.position)!==null&&g!==void 0||(this.position=new d.Point(o.EvtUtils.getEventX(l),o.EvtUtils.getEventY(l)));var y=Math.abs(this.position.x-o.EvtUtils.getEventX(l))>2||Math.abs(this.position.y-o.EvtUtils.getEventY(l))>2;!((p||f)&&this.checkAndProcessTouchOutsideArea(l))&&y&&((p||f)&&l.preventDefault(),this.isTouchEvent(l)?this.onTouchMoveInternal(l):this.isPointerEvent(l)?this.onDocumentPointerMoveInternal(l):(this.isCursorInArea=!0,this.onMouseMoveInternal(l)))},s.prototype.processPointerUp=function(l){this.checkAndProcessTouchOutsideArea(l)||(l.preventDefault(),this.isTouchEvent(l)?this.onTouchEndInternal(l):this.onDocumentPointerUpInternal(l))},s.prototype.onMouseDownInternal=function(l){},s.prototype.onMouseMoveInternal=function(l){},s.prototype.onDocumentPointerUpInternal=function(l){},s.prototype.onDocumentPointerDownInternal=function(l){},s.prototype.onDocumentPointerMoveInternal=function(l){},s.prototype.onTouchStartInternal=function(l){},s.prototype.onTouchEndInternal=function(l){},s.prototype.onTouchMoveInternal=function(l){},s.prototype.onTaskAreaLeaveInternal=function(l){},s.prototype.checkAndProcessTouchOutsideArea=function(l){var g=!this.isInTaskArea(l);return g&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_END,l),this.isCursorInArea=!g,g},s.prototype.raiseEvent=function(l,g,p,f){var y=new n.TaskAreaEventArgs(l,g,p,f),m=this._listener.getHandler(l);return m&&m(y)},s.prototype.raiseDependencySelection=function(l,g){this.raiseEvent(r.TaskAreaStateEventNames.DEPENDENCY_SELECTION,l,null,{key:g})},s.prototype.raiseTaskSelection=function(l,g){u.DomUtils.isItParent(this._taskArea,o.EvtUtils.getEventSource(l))&&!e.TaskAreaDomHelper.isConnectorLine(l)&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_SELECTION,l,g)},s.prototype.getClickedRowIndex=function(l){if(!l)return-1;var g=o.EvtUtils.getEventY(l)-u.DomUtils.getAbsolutePositionY(this._taskArea);return Math.floor(g/this._cellSize.height)},s.prototype.getRelativePos=function(l){var g=u.DomUtils.getAbsolutePositionX(this._taskArea),p=u.DomUtils.getAbsolutePositionY(this._taskArea);return new d.Point(l.x-g,l.y-p)},s.prototype.isInTaskArea=function(l){return u.DomUtils.isItParent(this._taskArea,o.EvtUtils.getEventSource(l))},s.prototype.getShortcutCode=function(l){var g=t.KeyUtils.getEventKeyCode(l),p=0;return l.altKey&&(p|=t.ModifierKey.Alt),l.ctrlKey&&(p|=t.ModifierKey.Ctrl),l.shiftKey&&(p|=t.ModifierKey.Shift),l.metaKey&&c.Browser.MacOSPlatform&&(p|=t.ModifierKey.Meta),p|g},s}();h.TaskAreaStateBase=i},1404:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaStateEventNames=void 0;var a=function(){function c(){}return c.TASK_AREA_CLICK="taskAreaClick",c.TASK_AREA_DBLCLICK="taskAreaDblClick",c.TASK_AREA_SCROLL="taskAreaScroll",c.TASK_AREA_START_MOVE="taskAreaStartMove",c.TASK_AREA_PROCESS_MOVE="taskAreaProcessMove",c.TASK_AREA_END_MOVE="taskAreaEndMove",c.TASK_AREA_ZOOM_IN="taskAreaZoomIn",c.TASK_AREA_ZOOM_OUT="taskAreaZoomOut",c.CONTEXTMENU_SHOW="contextMenuShow",c.CONTEXTMENU_HIDE="contextMenuHide",c.DEPENDENCY_SELECTION="dependencySelection",c.STATE_EXIT="stateExit",c.TASK_SELECTION="taskSelection",c.TASK_EDIT_START="taskEditStart",c.TASK_EDIT_END="taskEditEnd",c.TASK_LEAVE="taskLeave",c.TASK_PROCESS_MOVE="taskProcessMove",c.TASK_END_MOVE="taskEndMove",c.TASK_PROCESS_PROGRESS="taskProcessProgress",c.TASK_END_PROGRESS="taskEndProgress",c.TASK_PROCESS_START="taskProcessStart",c.TASK_CONFIRM_START="taskConfirmStart",c.TASK_PROCESS_END="taskProcessEnd",c.TASK_CONFIRM_END="taskConfirmEnd",c.GET_DEPENDENCY_POINTS="getDependencyPoints",c.DEPENDENCY_START="dependencyStart",c.DEPENDENCY_PROCESS="dependencyProcess",c.DEPENDENCY_END="dependencyEnd",c.TASK_AREA_KEY_DOWN="taskAreaKeyDown",c.GET_POINTERS_INFO="getPointersInfo",c.GET_COORDINATES_REF_POINT="getCoordinatesRefPoint",c}();h.TaskAreaStateEventNames=a},6591:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaZoomState=void 0;var c=a(655),d=a(8900),u=a(3714),o=a(5596),t=a(5867),n=a(1404),e=function(r){function i(){var s=r!==null&&r.apply(this,arguments)||this;return s._isInZooming=!1,s}return c.__extends(i,r),i.prototype.onMouseWheel=function(s){s.ctrlKey&&(s.preventDefault(),s.stopPropagation(),this._isInZooming||this.processZoom(s,u.EvtUtils.getWheelDelta(s)>0,50))},i.prototype.onDocumentPointerUpInternal=function(s){this.onEndZoom(s)},i.prototype.onDocumentPointerMoveInternal=function(s){this.onTouchZoom(s)},i.prototype.onTouchEndInternal=function(s){this.onEndZoom(s)},i.prototype.onTouchMoveInternal=function(s){this.onTouchZoom(s)},i.prototype.onTouchZoom=function(s){var l;if(s.stopPropagation(),s.preventDefault(),!this._isInZooming){var g=this.getTouchDistance(s);(l=this.prevDistance)!==null&&l!==void 0||(this.prevDistance=g);var p=this.prevDistance-g;Math.abs(p)>3&&(this.processZoom(s,p>0,1e3),this.prevDistance=g)}},i.prototype.processZoom=function(s,l,g){var p=this;this._isInZooming=!0,setTimeout(function(){p._isInZooming=!1},g);var f=l?n.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN:n.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT;this.raiseEvent(f,s,null,{leftPos:this.getLeftPosition(s)})},i.prototype.onEndZoom=function(s){this.prevDistance=null,this.raiseEvent(n.TaskAreaStateEventNames.STATE_EXIT,s)},i.prototype.getTouchDistance=function(s){var l=this.GetTouchPoints(s);return this.getDistance(l[0],l[1])},i.prototype.GetTouchPoints=function(s){var l,g,p,f;if(this.isTouchEvent(s)){var y=s.touches;return[new d.Point(y[0].pageX,y[0].pageY),new d.Point(y[1].pageX,y[1].pageY)]}var m=this.raiseEvent(n.TaskAreaStateEventNames.GET_POINTERS_INFO,s);return[new d.Point((l=m[0])===null||l===void 0?void 0:l.pageX,(g=m[0])===null||g===void 0?void 0:g.pageY),new d.Point((p=m[1])===null||p===void 0?void 0:p.pageX,(f=m[1])===null||f===void 0?void 0:f.pageY)]},i.prototype.getDistance=function(s,l){return o.Metrics.euclideanDistance(s,l)},i.prototype.getLeftPosition=function(s){var l=0;return this.isTouchEvent(s)||this.isPointerEvent(s)?l=this.getZoomMiddlePoint(s).x:this.isMouseEvent(s)&&(l=this.getMouseZoomLeftPos(s)),l},i.prototype.getMouseZoomLeftPos=function(s){var l=this.raiseEvent(n.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT);return u.EvtUtils.getEventX(s)-l.x},i.prototype.getZoomMiddlePoint=function(s){var l=this.raiseEvent(n.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT),g=this.GetTouchPoints(s),p=this.convertScreenToChartCoordinates(g[0],l),f=this.convertScreenToChartCoordinates(g[1],l);return new d.Point((p.x+f.x)/2,(p.y+f.y)/2)},i.prototype.convertScreenToChartCoordinates=function(s,l){return new d.Point(s.x-l.x,s.y-l.y)},i}(t.TaskAreaStateBase);h.TaskAreaZoomState=e},6262:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskDragBaseState=void 0;var c=a(655),d=a(8900),u=a(3714),o=a(5867),t=a(1404),n=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return c.__extends(r,e),r.prototype.onMouseDownInternal=function(i){this.onStart(i)},r.prototype.onMouseUp=function(i){this.onEnd(i)},r.prototype.onMouseMoveInternal=function(i){this.onDrag(i)},r.prototype.onTouchStartInternal=function(i){this.onStart(i)},r.prototype.onTouchEndInternal=function(i){this.onEnd(i)},r.prototype.onTouchMoveInternal=function(i){this.onDrag(i)},r.prototype.onDocumentPointerDownInternal=function(i){this.onStart(i)},r.prototype.onDocumentPointerUpInternal=function(i){this.onEnd(i)},r.prototype.onDocumentPointerMoveInternal=function(i){this.onDrag(i)},r.prototype.onStart=function(i){this.currentPosition=new d.Point(u.EvtUtils.getEventX(i),u.EvtUtils.getEventY(i)),this.raiseDependencySelection(i,null),this.onStartInternal(i)},r.prototype.onDrag=function(i){var s;i.preventDefault();var l=new d.Point(u.EvtUtils.getEventX(i),u.EvtUtils.getEventY(i));(s=this.currentPosition)!==null&&s!==void 0||(this.currentPosition=l),this.onDragInternal(l),this.currentPosition=l},r.prototype.onEnd=function(i){this.onEndInternal(i),this.raiseEvent(t.TaskAreaStateEventNames.STATE_EXIT,i)},r.prototype.onStartInternal=function(i){},r.prototype.onEndInternal=function(i){},r.prototype.onDragInternal=function(i){},r.prototype.finish=function(){this.raiseEvent(t.TaskAreaStateEventNames.TASK_EDIT_END)},r}(o.TaskAreaStateBase);h.TaskDragBaseState=n},2395:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskEditState=void 0;var c=a(655),d=a(3714),u=a(2449),o=a(9155),t=a(1404),n=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return c.__extends(r,e),r.prototype.onStartInternal=function(i){var s;(s=this._source)!==null&&s!==void 0||(this._source=o.TaskAreaDomHelper.getEventSource(d.EvtUtils.getEventSource(i)))},r.prototype.onEndInternal=function(i){this.raiseEvent(this.getEventOnEndKey(),i)},r.prototype.onDragInternal=function(i){var s=this.getRelativePos(i);this.raiseEvent(this.getEventOnDragKey(),null,null,{position:s})},r.prototype.getEventOnDragKey=function(){switch(this._source){case u.TaskAreaEventSource.TaskEdit_Start:return t.TaskAreaStateEventNames.TASK_PROCESS_START;case u.TaskAreaEventSource.TaskEdit_End:return t.TaskAreaStateEventNames.TASK_PROCESS_END;case u.TaskAreaEventSource.TaskEdit_Progress:return t.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS}},r.prototype.getEventOnEndKey=function(){switch(this._source){case u.TaskAreaEventSource.TaskEdit_Start:return t.TaskAreaStateEventNames.TASK_CONFIRM_START;case u.TaskAreaEventSource.TaskEdit_End:return t.TaskAreaStateEventNames.TASK_CONFIRM_END;case u.TaskAreaEventSource.TaskEdit_Progress:return t.TaskAreaStateEventNames.TASK_END_PROGRESS}},r}(a(6262).TaskDragBaseState);h.TaskEditState=n},7295:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskMoveState=void 0;var c=a(655),d=a(1404),u=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.onEndInternal=function(n){this.raiseEvent(d.TaskAreaStateEventNames.TASK_END_MOVE,n)},t.prototype.onDragInternal=function(n){this.raiseEvent(d.TaskAreaStateEventNames.TASK_PROCESS_MOVE,null,null,{delta:n.x-this.currentPosition.x})||this.raiseEvent(d.TaskAreaStateEventNames.STATE_EXIT)},t}(a(6262).TaskDragBaseState);h.TaskMoveState=u},3461:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaEventArgs=void 0;var c=a(2491),d=function(u,o,t,n){this.rowIndex=-1,this.info={},this.eventName=u,this.triggerEvent=o,(0,c.isDefined)(t)&&(this.rowIndex=t),n&&(this.info=n)};h.TaskAreaEventArgs=d},8269:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaEventsListener=void 0;var c=a(8900),d=a(2491),u=a(6907),o=a(3714),t=a(2153),n=a(3336),e=a(1404),r=function(){function i(s){this._owner=s}return Object.defineProperty(i.prototype,"taskEditController",{get:function(){var s;return(s=this._owner)===null||s===void 0?void 0:s.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderHelper",{get:function(){var s;return(s=this._owner)===null||s===void 0?void 0:s.renderHelper},enumerable:!1,configurable:!0}),i.prototype.getHandler=function(s){return this.handlers[s]},i.prototype.setHandler=function(s,l){this.handlers[s]=l},Object.defineProperty(i.prototype,"handlers",{get:function(){var s;return(s=this._handlers)!==null&&s!==void 0||(this._handlers=this.createTaskAreaEventHandlers()),this._handlers},enumerable:!1,configurable:!0}),i.prototype.createTaskAreaEventHandlers=function(){var s={};return s[e.TaskAreaStateEventNames.TASK_AREA_CLICK]=this.taskAreaClickHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_DBLCLICK]=this.taskAreaDblClickHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_SCROLL]=this.taskAreaScrollHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_START_MOVE]=this.taskAreaStartMoveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE]=this.taskAreaProcessMoveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_END_MOVE]=this.taskAreaEndMoveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN]=this.taskAreaZoomInHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT]=this.taskAreaZoomOutHandler.bind(this),s[e.TaskAreaStateEventNames.CONTEXTMENU_SHOW]=this.taskAreaContextMenuShowHandler.bind(this),s[e.TaskAreaStateEventNames.CONTEXTMENU_HIDE]=this.taskAreaContextMenuHideHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_SELECTION]=this.taskSelectionHandler.bind(this),s[e.TaskAreaStateEventNames.DEPENDENCY_SELECTION]=this.dependencySelectionHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_EDIT_START]=this.taskEditStartHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_EDIT_END]=this.taskEditEndHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_LEAVE]=this.taskLeaveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_PROCESS_MOVE]=this.taskProcessMoveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_END_MOVE]=this.taskEndMoveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS]=this.taskProcessProgressHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_END_PROGRESS]=this.taskEndProgressHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_PROCESS_START]=this.taskProcessStartHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_CONFIRM_START]=this.taskConfirmStartHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_PROCESS_END]=this.taskProcessEndHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_CONFIRM_END]=this.taskConfirmEndHandler.bind(this),s[e.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS]=this.getDependencyPoints.bind(this),s[e.TaskAreaStateEventNames.DEPENDENCY_START]=this.dependencyStartHandler.bind(this),s[e.TaskAreaStateEventNames.DEPENDENCY_END]=this.dependencyEndHandler.bind(this),s[e.TaskAreaStateEventNames.DEPENDENCY_PROCESS]=this.dependencyProcessHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN]=this.onTaskAreaKeyDown.bind(this),s[e.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT]=this.getCoordinatesRefPoint.bind(this),s[e.TaskAreaStateEventNames.STATE_EXIT]=function(){},s},i.prototype.taskAreaClickHandler=function(s){return this._owner.onTaskAreaClick(s.rowIndex,s.triggerEvent)},i.prototype.taskAreaDblClickHandler=function(s){this._owner.onTaskAreaDblClick(s.rowIndex,s.triggerEvent)},i.prototype.taskSelectionHandler=function(s){this._owner.onTaskSelectionChanged(s.rowIndex,s.triggerEvent)},i.prototype.taskAreaContextMenuShowHandler=function(s){this._owner.onTaskAreaContextMenu(s.rowIndex,s.triggerEvent,s.info.type)},i.prototype.taskAreaContextMenuHideHandler=function(){this._owner.hidePopupMenu()},i.prototype.taskAreaScrollHandler=function(s){this._owner.updateView()},i.prototype.dependencySelectionHandler=function(s){var l=s.info.key,g=this.taskEditController.dependencyId;(l!==g||!l&&(0,d.isDefined)(g))&&this._owner.selectDependency(l)},Object.defineProperty(i.prototype,"ganttMovingHelper",{get:function(){var s;return(s=this._ganttMovingHelper)!==null&&s!==void 0||(this._ganttMovingHelper=new n.GanttMovingHelper(this._owner.renderHelper.taskAreaContainer)),this._ganttMovingHelper},enumerable:!1,configurable:!0}),i.prototype.taskAreaStartMoveHandler=function(s){this.ganttMovingHelper.startMoving(s.triggerEvent)},i.prototype.taskAreaProcessMoveHandler=function(s){this.ganttMovingHelper.movingInfo&&(this.ganttMovingHelper.onMouseMove(s.triggerEvent),s.triggerEvent.preventDefault())},i.prototype.taskAreaEndMoveHandler=function(s){this.ganttMovingHelper.onMouseUp(s.triggerEvent)},i.prototype.taskAreaZoomInHandler=function(s){this._owner.zoomIn(s.info.leftPos)},i.prototype.taskAreaZoomOutHandler=function(s){this._owner.zoomOut(s.info.leftPos)},i.prototype.getCoordinatesRefPoint=function(s){var l=u.DomUtils.getAbsolutePositionX(this.renderHelper.taskAreaContainer.getElement()),g=u.DomUtils.getAbsolutePositionY(this.renderHelper.taskAreaContainer.getElement());return new c.Point(l,g)},i.prototype.taskEditStartHandler=function(s){this.taskEditController.show(s.rowIndex),this.taskEditController.showTaskInfo(o.EvtUtils.getEventX(s.triggerEvent))},i.prototype.taskLeaveHandler=function(s){this.taskEditController.cancel()},i.prototype.taskEditEndHandler=function(s){this.taskEditController.endEditing()},i.prototype.taskEndMoveHandler=function(s){this.taskEditController.confirmMove()},i.prototype.taskProcessMoveHandler=function(s){var l;return this.taskEditController.processMove((l=s.info.delta)!==null&&l!==void 0?l:0)},i.prototype.taskEndProgressHandler=function(s){this.taskEditController.confirmProgress()},i.prototype.taskProcessProgressHandler=function(s){this.taskEditController.processProgress(s.info.position)},i.prototype.taskProcessStartHandler=function(s){this.taskEditController.processStart(s.info.position)},i.prototype.taskConfirmStartHandler=function(s){this.taskEditController.confirmStart()},i.prototype.taskProcessEndHandler=function(s){this.taskEditController.processEnd(s.info.position)},i.prototype.taskConfirmEndHandler=function(s){this.taskEditController.confirmEnd()},i.prototype.getDependencyPoints=function(s){var l={};return l.successorStart=new c.Point(u.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientWidth/2,u.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientHeight/2),l.successorFinish=new c.Point(u.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientWidth/2,u.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientHeight/2),l},i.prototype.dependencyStartHandler=function(s){this.taskEditController.startDependency(s.info.pos)},i.prototype.dependencyEndHandler=function(s){this.taskEditController.endDependency(s.info.type)},i.prototype.dependencyProcessHandler=function(s){this.taskEditController.processDependency(s.info.pos),this._owner.viewModel.tasks.items[s.rowIndex]&&this.taskEditController.showDependencySuccessor(s.rowIndex)},i.prototype.onTaskAreaKeyDown=function(s){var l=s.info.code;l==(t.ModifierKey.Ctrl|t.KeyCode.Key_z)&&this._owner.history.undo(),l==(t.ModifierKey.Ctrl|t.KeyCode.Key_y)&&this._owner.history.redo(),l==t.KeyCode.Delete&&this.taskEditController.deleteSelectedDependency()},i}();h.TaskAreaEventsListener=r},3682:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaManager=h.TOUCH_ACTION_NONE=void 0;var c=a(9279),d=a(6907),u=a(3714),o=a(6958);h.TOUCH_ACTION_NONE="dx-gantt-touch-action";var t=function(){function n(e,r,i){this._eventListener=e,this._taskArea=r,this._cellSize=i,this.attachEvents()}return n.prototype.attachEvents=function(){window.PointerEvent?this.attachPointerEvents():c.Browser.TouchUI?this.attachTouchEvents():this.attachMouseEvents(),this.attachCommonEvents()},n.prototype.detachEvents=function(){window.PointerEvent?this.detachPointerEvents():c.Browser.TouchUI?this.detachTouchEvents():this.detachMouseEvents(),this.detachCommonEvents()},n.prototype.attachEventsOnTask=function(e){window.PointerEvent?e==null||e.addEventListener("pointerenter",this.onTaskPointerEnterHandler):c.Browser.TouchUI?e==null||e.addEventListener("touchstart",this.onTaskTouchStartHandler):(e==null||e.addEventListener("mouseenter",this.onTaskMouseEnterHandler),e==null||e.addEventListener("mouseleave",this.onTaskMouseLeaveHandler))},n.prototype.detachEventsOnTask=function(e){window.PointerEvent?e==null||e.removeEventListener("pointerenter",this.onTaskPointerEnterHandler):c.Browser.TouchUI?e==null||e.removeEventListener("touchstart",this.onTaskTouchStartHandler):(e==null||e.removeEventListener("mouseenter",this.onTaskMouseEnterHandler),e==null||e.removeEventListener("mouseleave",this.onTaskMouseLeaveHandler))},n.prototype.attachCommonEvents=function(){this.taskAreaAddEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaAddEventListener(u.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaAddEventListener("scroll",this.onScrollHandler),document.addEventListener("keydown",this.onKeyDownHandler)},n.prototype.detachCommonEvents=function(){this.taskAreaRemoveEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaRemoveEventListener(u.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaRemoveEventListener("scroll",this.onScrollHandler),document.removeEventListener("keydown",this.onKeyDownHandler)},n.prototype.attachPointerEvents=function(){d.DomUtils.addClassName(this.taskArea,h.TOUCH_ACTION_NONE),document.addEventListener("pointerdown",this.onDocumentPointerDownHandler),document.addEventListener("pointerup",this.onDocumentPointerUpHandler),document.addEventListener("pointermove",this.onDocumentPointerMoveHandler),document.addEventListener("pointercancel",this.onDocumentPointerCancelUpHandler),this.taskAreaAddEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler)},n.prototype.detachPointerEvents=function(){document.removeEventListener("pointerdown",this.onDocumentPointerDownHandler),document.removeEventListener("pointerup",this.onDocumentPointerUpHandler),document.removeEventListener("pointermove",this.onDocumentPointerMoveHandler),document.removeEventListener("pointercancel ",this.onDocumentPointerCancelUpHandler),this.taskAreaRemoveEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler),d.DomUtils.removeClassName(this.taskArea,h.TOUCH_ACTION_NONE)},n.prototype.attachTouchEvents=function(){d.DomUtils.addClassName(this.taskArea,h.TOUCH_ACTION_NONE),document.addEventListener("touchstart",this.onTouchStartHandler),document.addEventListener("touchend",this.onTouchEndHandler),document.addEventListener("touchmove",this.onTouchMoveHandler)},n.prototype.detachTouchEvents=function(){document.removeEventListener("touchstart",this.onTouchStartHandler),document.removeEventListener("touchend",this.onTouchEndHandler),document.removeEventListener("touchmove",this.onTouchMoveHandler),d.DomUtils.removeClassName(this.taskArea,h.TOUCH_ACTION_NONE)},n.prototype.attachMouseEvents=function(){this.taskAreaAddEventListener("click",this.onMouseClickHandler),this.taskAreaAddEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaAddEventListener("mousedown",this.onMouseDownHandler),this.taskAreaAddEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),document.addEventListener("mousemove",this.onMouseMoveHandler),document.addEventListener("mouseup",this.onMouseUpHandler)},n.prototype.detachMouseEvents=function(){this.taskAreaRemoveEventListener("click",this.onMouseClickHandler),this.taskAreaRemoveEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaRemoveEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),this.taskAreaRemoveEventListener("mousedown",this.onMouseDownHandler),document.removeEventListener("mousemove",this.onMouseMoveHandler),document.removeEventListener("mouseup",this.onMouseUpHandler)},Object.defineProperty(n.prototype,"stateController",{get:function(){var e;return(e=this._stateController)!==null&&e!==void 0||(this._stateController=new o.TaskAreaStateController(this._eventListener,this._taskArea,this._cellSize)),this._stateController},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),n.prototype.taskAreaAddEventListener=function(e,r){this.taskArea.addEventListener(e,r)},n.prototype.taskAreaRemoveEventListener=function(e,r){this.taskArea.removeEventListener(e,r)},Object.defineProperty(n.prototype,"onContextMenuHandler",{get:function(){var e,r=this;return(e=this._onContextMenuHandler)!==null&&e!==void 0||(this._onContextMenuHandler=function(i){r.stateController.onContextMenu(i)}),this._onContextMenuHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseWheelHandler",{get:function(){var e,r=this;return(e=this._onMouseWheelHandler)!==null&&e!==void 0||(this._onMouseWheelHandler=function(i){r.stateController.onMouseWheel(i)}),this._onMouseWheelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onScrollHandler",{get:function(){var e,r=this;return(e=this._onScrollHandler)!==null&&e!==void 0||(this._onScrollHandler=function(i){r.stateController.onScroll(i)}),this._onScrollHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onKeyDownHandler",{get:function(){var e,r=this;return(e=this._onKeyDownHandler)!==null&&e!==void 0||(this._onKeyDownHandler=function(i){r.stateController.onKeyDown(i)}),this._onKeyDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskPointerEnterHandler",{get:function(){var e,r=this;return(e=this._onTaskPointerEnterHandler)!==null&&e!==void 0||(this._onTaskPointerEnterHandler=function(i){r.stateController.onTaskPointerEnter(i)}),this._onTaskPointerEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskAreaPointerLeaveHandler",{get:function(){var e,r=this;return(e=this._onTaskAreaPointerLeaveHandler)!==null&&e!==void 0||(this._onTaskAreaPointerLeaveHandler=function(i){r.stateController.onTaskAreaPointerLeave(i)}),this._onTaskAreaPointerLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerDownHandler",{get:function(){var e,r=this;return(e=this._onDocumentPointerDownHandler)!==null&&e!==void 0||(this._onDocumentPointerDownHandler=function(i){r.stateController.onDocumentPointerDown(i)}),this._onDocumentPointerDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerUpHandler",{get:function(){var e,r=this;return(e=this._onDocumentPointerUpHandler)!==null&&e!==void 0||(this._onDocumentPointerUpHandler=function(i){r.stateController.onDocumentPointerUp(i)}),this._onDocumentPointerUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerCancelUpHandler",{get:function(){var e,r=this;return(e=this._onDocumentPointerCancelHandler)!==null&&e!==void 0||(this._onDocumentPointerCancelHandler=function(i){r.stateController.onDocumentPointerCancel(i)}),this._onDocumentPointerCancelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerMoveHandler",{get:function(){var e,r=this;return(e=this._onDocumentPointerMoveHandler)!==null&&e!==void 0||(this._onDocumentPointerMoveHandler=function(i){r.stateController.onDocumentPointerMove(i)}),this._onDocumentPointerMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTouchStartHandler",{get:function(){var e,r=this;return(e=this._onTouchStartHandler)!==null&&e!==void 0||(this._onTouchStartHandler=function(i){r.stateController.onTouchStart(i)}),this._onTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTouchEndHandler",{get:function(){var e,r=this;return(e=this._onTouchEndHandler)!==null&&e!==void 0||(this._onTouchEndHandler=function(i){r.stateController.onTouchEnd(i)}),this._onTouchEndHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTouchMoveHandler",{get:function(){var e,r=this;return(e=this._onTouchMoveHandler)!==null&&e!==void 0||(this._onTouchMoveHandler=function(i){r.stateController.onTouchMove(i)}),this._onTouchMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskTouchStartHandler",{get:function(){var e,r=this;return(e=this._onTaskTouchStartHandler)!==null&&e!==void 0||(this._onTaskTouchStartHandler=function(i){r.stateController.onTaskTouchStart(i)}),this._onTaskTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseClickHandler",{get:function(){var e,r=this;return(e=this._onMouseClickHandler)!==null&&e!==void 0||(this._onMouseClickHandler=function(i){r.stateController.onClick(i)}),this._onMouseClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDblClickHandler",{get:function(){var e,r=this;return(e=this._onMouseDblClickHandler)!==null&&e!==void 0||(this._onMouseDblClickHandler=function(i){r.stateController.onDblClick(i)}),this._onMouseDblClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDownHandler",{get:function(){var e,r=this;return(e=this._onMouseDownHandler)!==null&&e!==void 0||(this._onMouseDownHandler=function(i){r.stateController.onMouseDown(i)}),this._onMouseDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskAreaMouseLeaveHandler",{get:function(){var e,r=this;return(e=this._onTaskAreaMouseLeaveHandler)!==null&&e!==void 0||(this._onTaskAreaMouseLeaveHandler=function(i){r.stateController.onTaskAreaMouseLeave(i)}),this._onTaskAreaMouseLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseMoveHandler",{get:function(){var e,r=this;return(e=this._onMouseMoveHandler)!==null&&e!==void 0||(this._onMouseMoveHandler=function(i){r.stateController.onMouseMove(i)}),this._onMouseMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseUpHandler",{get:function(){var e,r=this;return(e=this._onMouseUpHandler)!==null&&e!==void 0||(this._onMouseUpHandler=function(i){r.stateController.onMouseUp(i)}),this._onMouseUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskMouseEnterHandler",{get:function(){var e,r=this;return(e=this._onTaskMouseEnterHandler)!==null&&e!==void 0||(this._onTaskMouseEnterHandler=function(i){r.stateController.onTaskElementHover(i)}),this._onTaskMouseEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskMouseLeaveHandler",{get:function(){var e,r=this;return(e=this._onTaskMouseLeaveHandler)!==null&&e!==void 0||(this._onTaskMouseLeaveHandler=function(i){r.stateController.onTaskElementLeave(i)}),this._onTaskMouseLeaveHandler},enumerable:!1,configurable:!0}),n.DBLCLICK_INTERVAL=300,n.MS_POINTER_ACTIVE_CLASS="ms-pointer-active",n}();h.TaskAreaManager=t},2366:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GanttView=void 0;var c=a(639),d=a(9279),u=a(7156),o=a(1284),t=a(858),n=a(7880),e=a(9201),r=a(9954),i=a(8695),s=a(6893),l=a(8725),g=a(2491),p=a(3452),f=a(9650),y=a(2978),m=a(1074),v=a(5351),T=a(6353),b=a(9057),w=a(5098),A=a(9640),D=a(8478),_=a(5846),M=a(2449),x=a(1408),N=a(6626),C=a(3714),O=a(6907),L=a(8900),R=a(8269),H=a(4730),V=a(6124),B=function(){function I(k,E,P){var j=this;this.currentSelectedTaskID="",this.isFocus=!1,this._updateWithModelReloadLockedCounter=0,this.scaleCount=2,this.tickSize=new T.Size(0,0),this.currentZoom=1,this.stripLinesUpdaterId=null,this.ganttOwner=E,this.settings=v.Settings.parse(P),this.initValidationController(),this.renderHelper=new m.RenderHelper(this),this.renderHelper.initMarkup(k),this.loadOptionsFromGanttOwner(),this.renderHelper.init(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),this.commandManager=new u.CommandManager(this),this.barManager=new c.BarManager(this.commandManager,this.ganttOwner.bars),this.initTaskEditController(),this.history=new l.History(this._getHistoryListener()),this.initFullScreenModeHelper(),this.updateView(),this._scrollTimeOut=setTimeout(function(){j.scrollLeftByViewType()},0),this.initializeStripLinesUpdater(),this.initGanttViewApi()}return I.prototype.initGanttViewApi=function(){this.ganttViewApi=new N.GanttViewApi(this)},I.prototype._getHistoryListener=function(){return{onTransactionStart:this.onHistoryTransactionStart.bind(this),onTransactionEnd:this.onHistoryTransactionEnd.bind(this)}},I.prototype.onHistoryTransactionStart=function(){this.lockUpdateWithReload()},I.prototype.onHistoryTransactionEnd=function(){this.unlockUpdateWithReload()},I.prototype.lockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter++},I.prototype.unlockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter--,this._updateWithModelReloadLockedCounter===0&&this._pendingUpdateInfo&&(this.updateWithDataReload(this._pendingUpdateInfo.keepExpandState),this._pendingUpdateInfo=null)},I.prototype.initValidationController=function(){var k=this,E=_.ValidationControllerSettings.parse({getViewModel:function(){return k.viewModel},getHistory:function(){return k.history},getModelManipulator:function(){return k.modelManipulator},getRange:function(){return k.range},getValidationSettings:function(){return k.settings.validation},updateOwnerInAutoParentMode:function(){k.updateOwnerInAutoParentMode()},getIsValidateDependenciesRequired:function(){return k.isValidateDependenciesRequired()}});this.validationController=new D.ValidationController(E)},I.prototype.initTaskEditController=function(){var k=this,E=A.TaskEditSettings.parse({destroyTemplate:function(P){k.destroyTemplate(P)},formatDate:function(P){return k.getDateFormat(P)},getRenderHelper:function(){return k.renderHelper},getGanttSettings:function(){return k.settings},getViewModel:function(){return k.viewModel},getCommandManager:function(){return k.commandManager},getModelManipulator:function(){return k.modelManipulator},getValidationController:function(){return k.validationController}});this.taskEditController=new w.TaskEditController(E)},Object.defineProperty(I.prototype,"taskAreaEventsListener",{get:function(){var k;return(k=this._taskAreaEventsListener)!==null&&k!==void 0||(this._taskAreaEventsListener=new R.TaskAreaEventsListener(this)),this._taskAreaEventsListener},enumerable:!1,configurable:!0}),I.prototype.initFullScreenModeHelper=function(){var k=this,E=r.FullScreenHelperSettings.parse({getMainElement:function(){return k.getOwnerControlMainElement()},adjustControl:function(){k.adjustOwnerControl()}});this.fullScreenModeHelper=new i.FullScreenModeHelper(E)},I.prototype.getDateRange=function(k,E){var P=this.getVisibleAreaTime(),j=this.settings.startDateRange||e.DateUtils.adjustStartDateByViewType(new Date(k.getTime()-P),this.settings.viewType,this.settings.firstDayOfWeek),F=this.settings.endDateRange||e.DateUtils.adjustEndDateByViewType(new Date(E.getTime()+P),this.settings.viewType,this.settings.firstDayOfWeek);return this.settings.startDateRange&&j>F?F=j:this.settings.endDateRange&&j>F&&(j=F),new t.DateRange(j,F)},I.prototype.getVisibleAreaTime=function(){return Math.ceil(this.renderHelper.getTaskAreaContainerWidth()/this.tickSize.width)*e.DateUtils.getTickTimeSpan(this.settings.viewType)},I.prototype.zoomIn=function(k){k===void 0&&(k=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomIn(k)},I.prototype.zoomOut=function(k){k===void 0&&(k=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomOut(k)},I.prototype.scrollToDate=function(k){if(k){var E=k instanceof Date?e.DateUtils.getOrCreateUTCDate(k):e.DateUtils.parse(k);this.scrollToDateCore(E,0)}},I.prototype.showDialog=function(k,E,P,j){this.ganttOwner.showDialog(k,E,P,j)},I.prototype.showPopupMenu=function(k){this.ganttOwner.showPopupMenu(k)},I.prototype.hidePopupMenu=function(){this.ganttOwner.hidePopupMenu&&this.ganttOwner.hidePopupMenu()},I.prototype.collapseAll=function(){this.ganttOwner.collapseAll()},I.prototype.expandAll=function(){this.ganttOwner.expandAll()},I.prototype.onGanttViewContextMenu=function(k,E,P){return this.ganttOwner.onGanttViewContextMenu(k,E,P)},I.prototype.changeGanttTaskSelection=function(k,E){this.ganttOwner.changeGanttTaskSelection(k,E)},I.prototype.hideTaskEditControl=function(){this.taskEditController.hide()},I.prototype.scrollLeftByViewType=function(){var k=e.DateUtils.roundStartDate(this.dataRange.start,this.settings.viewType);this.scrollToDateCore(k,1)},I.prototype.scrollToDateCore=function(k,E){this.renderHelper.setTaskAreaContainerScrollLeftToDate(k,E)},I.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},I.prototype.initializeStripLinesUpdater=function(){var k=this;this.settings.stripLines.showCurrentTime&&(this.stripLinesUpdaterId=setInterval(function(){k.renderHelper.recreateStripLines()},Math.max(this.settings.stripLines.currentTimeUpdateInterval,100)))},I.prototype.clearStripLinesUpdater=function(){this.stripLinesUpdaterId&&clearInterval(this.stripLinesUpdaterId),this.stripLinesUpdaterId=null},I.prototype.getGanttViewStartDate=function(k){if(!k)return new Date;var E=k.map(function(P){return typeof P.start=="string"?new Date(P.start):P.start}).filter(function(P){return(0,g.isDefined)(P)});return E.length>0?E.reduce(function(P,j){return j<P?j:P},E[0]):new Date},I.prototype.getGanttViewEndDate=function(k){if(!k)return new Date;var E=k.map(function(P){return typeof P.end=="string"?new Date(P.end):P.end}).filter(function(P){return(0,g.isDefined)(P)});return E.length>0?E.reduce(function(P,j){return j>P?j:P},E[0]):new Date},I.prototype.getTask=function(k){var E=this.getViewItem(k);return E==null?void 0:E.task},I.prototype.getViewItem=function(k){var E;return(E=this.viewModel)===null||E===void 0?void 0:E.items[k]},I.prototype.isValidateDependenciesRequired=function(){return this.settings.validation.validateDependencies&&this.settings.showDependencies},I.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.renderHelper.etalonScaleItemWidths*this.currentZoom},I.prototype.updateView=function(){this.onBeginUpdateView(),this.renderHelper.setTimeScaleContainerScrollLeft(this.taskAreaContainerScrollLeft),this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainerScrollTop),this.onEndUpdateView()},I.prototype.onBeginUpdateView=function(){this[I.taskAreaScrollTopKey]=this.renderHelper.taskAreaContainerScrollTop,this[I.taskAreaScrollLeftKey]=this.renderHelper.taskAreaContainerScrollLeft},I.prototype.onEndUpdateView=function(){delete this[I.taskAreaScrollTopKey],delete this[I.taskAreaScrollLeftKey],delete this[I.taskTextHeightKey]},Object.defineProperty(I.prototype,"taskAreaContainerScrollTop",{get:function(){var k;return(k=this[I.taskAreaScrollTopKey])!==null&&k!==void 0?k:this.renderHelper.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"taskAreaContainerScrollLeft",{get:function(){var k;return(k=this[I.taskAreaScrollLeftKey])!==null&&k!==void 0?k:this.renderHelper.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),I.prototype.processScroll=function(k){this.hideTaskEditControl(),this.renderHelper.processScroll(k)},I.prototype.allowTaskAreaBorders=function(k){return k?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},I.prototype.getScaleItemText=function(k,E){return this.renderHelper.getScaleItemText(k,E)},I.prototype.getTaskText=function(k){return this.renderHelper.getTaskText(k)},I.prototype.rowHasChildren=function(k){var E=this.getViewItem(k);return(E==null?void 0:E.children.length)>0},I.prototype.rowHasSelection=function(k){var E=this.getViewItem(k);return E==null?void 0:E.selected},I.prototype.getAllVisibleTaskIndices=function(k,E){return this.viewModel.getAllVisibleTaskIndices(k,E)},I.prototype.getVisibleDependencyKeysByTaskRange=function(k){if(!this.settings.showDependencies)return[];var E=this.viewModel,P=k.map(function(j){return E.tasks.items[j].internalId});return E.dependencies.items.filter(function(j){return P.indexOf(j.successorId)>-1||P.indexOf(j.predecessorId)>-1}).map(function(j){return j.internalId})},I.prototype.getTreeListTableStyle=function(){var k,E;return(E=(k=this.ganttOwner).getTreeListTableStyle)===null||E===void 0?void 0:E.call(k)},I.prototype.getTreeListColCount=function(){var k,E;return(E=(k=this.ganttOwner).getTreeListColCount)===null||E===void 0?void 0:E.call(k)},I.prototype.getTreeListHeaderInfo=function(k){var E,P;return(P=(E=this.ganttOwner).getTreeListHeaderInfo)===null||P===void 0?void 0:P.call(E,k)},I.prototype.getTreeListCellInfo=function(k,E,P){var j,F;return(F=(j=this.ganttOwner).getTreeListCellInfo)===null||F===void 0?void 0:F.call(j,k,E,P)},I.prototype.getTreeListEmptyDataCellInfo=function(){var k,E;return(E=(k=this.ganttOwner).getTreeListEmptyDataCellInfo)===null||E===void 0?void 0:E.call(k)},I.prototype.exportToPdf=function(k){var E;return(E=k.docCreateMethod)!==null&&E!==void 0||(k.docCreateMethod=this.getDefaultPdfDocCreateMethod()),new y.PdfGanttExporter(new s.GanttExportCalculator(this,k)).export()},I.prototype.getDefaultPdfDocCreateMethod=function(){var k;return(k=window.jspdf)===null||k===void 0?void 0:k.jsPDF},I.prototype.getTaskDependencies=function(k){return this.viewModel.dependencies.items.filter(function(E){return E.predecessorId==k||E.successorId==k})},I.prototype.isHighlightRowElementAllowed=function(k){var E=this.getViewItem(k);return k%2!=0&&this.settings.areAlternateRowsEnabled||(E==null?void 0:E.children.length)>0},I.prototype.calculateAutoViewType=function(k,E){var P=(E.getTime()-k.getTime())/36e5;return P>8760?M.ViewType.Years:P>720?M.ViewType.Months:P>168?M.ViewType.Weeks:P>24?M.ViewType.Days:P>6?M.ViewType.SixHours:P>1?M.ViewType.Hours:M.ViewType.TenMinutes},I.prototype.getExternalTaskAreaContainer=function(k){return this.ganttOwner.getExternalTaskAreaContainer(k)},I.prototype.prepareExternalTaskAreaContainer=function(k,E){return this.ganttOwner.prepareExternalTaskAreaContainer(k,E)},I.prototype.getHeaderHeight=function(){return this.ganttOwner.getHeaderHeight()},I.prototype.changeTaskExpanded=function(k,E){var P=this.getTaskByPublicId(k);P&&this.viewModel.changeTaskExpanded(P.internalId,E)},I.prototype.expandTask=function(k){this.viewModel.changeTaskExpanded(k,!0)},I.prototype.collapseTask=function(k){this.viewModel.changeTaskExpanded(k,!1)},I.prototype.showTask=function(k){this.viewModel.changeTaskVisibility(k,!0)},I.prototype.hideTask=function(k){this.viewModel.changeTaskVisibility(k,!1)},I.prototype.getTaskVisibility=function(k){return this.viewModel.getTaskVisibility(k)},I.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},I.prototype.getTaskSelected=function(k){return this.viewModel.getTaskSelected(k)},I.prototype.setViewType=function(k,E){E===void 0&&(E=!0),this.ganttViewApi.setViewType(k,E)},I.prototype.setViewTypeRange=function(k,E){this.ganttViewApi.setViewTypeRange(k,E)},I.prototype.setTaskTitlePosition=function(k){this.settings.taskTitlePosition!==k&&(this.settings.taskTitlePosition=k,this.resetAndUpdate())},I.prototype.setShowResources=function(k){this.settings.showResources!==k&&(this.settings.showResources=k,this.resetAndUpdate())},I.prototype.toggleResources=function(){this.setShowResources(!this.settings.showResources)},I.prototype.setShowDependencies=function(k){this.settings.showDependencies!==k&&(this.settings.showDependencies=k,this.resetAndUpdate())},I.prototype.toggleDependencies=function(){this.setShowDependencies(!this.settings.showDependencies)},I.prototype.setFirstDayOfWeek=function(k){this.settings.firstDayOfWeek!==k&&(this.settings.firstDayOfWeek=k,this.resetAndUpdate())},I.prototype.setStartDateRange=function(k){n.DateTimeUtils.areDatesEqual(this.settings.startDateRange,k)||(this.settings.startDateRange=new Date(k),this.resetAndUpdate())},I.prototype.setEndDateRange=function(k){n.DateTimeUtils.areDatesEqual(this.settings.endDateRange,k)||(this.settings.endDateRange=new Date(k),this.resetAndUpdate())},I.prototype.loadOptionsFromGanttOwner=function(){var k,E=this;this.tickSize.height=this.ganttOwner.getRowHeight();var P=this.ganttOwner.getGanttTasksData();this.dataRange=new t.DateRange(this.getGanttViewStartDate(P),this.getGanttViewEndDate(P)),this.settings.viewType==null&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.dispatcher=new p.ModelChangesDispatcher;var j=this.ganttOwner.getModelChangesListener();j&&this.dispatcher.onModelChanged.add(j),this.viewModel=new x.ViewVisualModel(this,P,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.range,this.ganttOwner.getGanttWorkTimeRules()),this.modelManipulator=new f.ModelManipulator(this.viewModel,this.dispatcher),(k=this.history)===null||k===void 0||k.historyItems.forEach(function(F){return F.setModelManipulator(E.modelManipulator)})},I.prototype.resetAndUpdate=function(){this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel.updateRange(this.range),this.renderHelper.resetAndUpdate(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),d.Browser.IE&&this.taskEditController.createElements(),this.updateView()},I.prototype.cleanMarkup=function(){this.renderHelper.taskAreaManagerDetachEvents(),this.taskEditController.detachEvents(),this.clearStripLinesUpdater(),this.renderHelper.reset(),clearTimeout(this._scrollTimeOut)},I.prototype.checkAndProcessModelChanges=function(){var k=this.ganttOwner.getGanttTasksData(),E=this.viewModel.refreshTaskDataIfRequires(k);return E&&this.resetAndUpdate(),E},I.prototype.updateHistoryObsoleteInsertedKey=function(k,E,P){var j;(j=this.history)===null||j===void 0||j.updateObsoleteInsertedKey(k,E,P),P===V.GanttDataObjectNames.dependency&&this.renderHelper.updateRenderedConnectorLinesId(k,E)},I.prototype.updateRowHeights=function(k){if(this.tickSize.height!==k){this.tickSize.height=k;var E=this.renderHelper.getTaskAreaContainerScrollLeft();this.resetAndUpdate(),this.renderHelper.setTaskAreaContainerScrollLeft(E)}},I.prototype.selectTask=function(k){this.selectDependency(null),this.viewModel.changeTaskSelected(k,!0),this.currentSelectedTaskID=k,this.updateBarManager()},I.prototype.unselectTask=function(k){this.viewModel.changeTaskSelected(k,!1),this.updateBarManager()},I.prototype.selectTaskById=function(k){this.unselectCurrentSelectedTask();var E=this.getTaskByPublicId(k);E&&this.selectTask(E.internalId)},I.prototype.selectDependency=function(k){this.taskEditController.selectDependency(k),this.renderHelper.createConnectorLines()},I.prototype.getTaskAreaContainer=function(){return this.renderHelper.taskAreaContainer},I.prototype.setWidth=function(k){this.renderHelper.setMainElementWidth(k)},I.prototype.setHeight=function(k){this.renderHelper.setMainElementHeight(k)},I.prototype.setAllowSelection=function(k){this.settings.allowSelectTask=k},I.prototype.setEditingSettings=function(k){this.settings.editing=k,this.updateBarManager()},I.prototype.setValidationSettings=function(k){this.settings.validation=k},I.prototype.setRowLinesVisible=function(k){this.settings.areHorizontalBordersEnabled=k,this.renderHelper.prepareTaskAreaContainer(),this.resetAndUpdate()},I.prototype.setStripLines=function(k){this.settings.stripLines=b.StripLineSettings.parse(k),this.clearStripLinesUpdater(),this.initializeStripLinesUpdater(),this.renderHelper.recreateStripLines()},I.prototype.deleteTask=function(k){var E=this.getTaskByPublicId(k.toString());E&&this.commandManager.removeTaskCommand.execute(E.internalId,!1,!0)},I.prototype.insertTask=function(k){if(k){var E=k.parentId!=null?String(k.parentId):null,P=this.getTaskByPublicId(E),j=this.viewModel.getRootTaskId(),F=typeof k.start=="string"?new Date(k.start):k.start,W=typeof k.end=="string"?new Date(k.end):k.end,z={parentId:j&&E===j?E:P==null?void 0:P.internalId,title:k.title,start:F,end:W,progress:parseInt(k.progress)||0,color:k.color};if(this.commandManager.createTaskCommand.execute(z))return this.getLastInsertedTaskId()}return""},I.prototype.updateTask=function(k,E){var P=this.getTaskByPublicId(k.toString()),j=this._getTaskDataForUpdate(E,P);j&&this.commandManager.updateTaskCommand.execute(P.internalId,j)},I.prototype.getTaskData=function(k){var E=this.getTaskByPublicId(k.toString());if(E)return this.viewModel.getTaskObjectForDataSource(E)},I.prototype.insertDependency=function(k){if(k){var E=String(k.predecessorId),P=this.getTaskByPublicId(E),j=String(k.successorId),F=this.getTaskByPublicId(j),W=k.type;P&&F&&this.validationController.canCreateDependency(E,j)&&this.commandManager.createDependencyCommand.execute(P.internalId,F.internalId,W)}},I.prototype.deleteDependency=function(k){var E=this.viewModel.convertPublicToInternalKey("dependency",k);(0,g.isDefined)(E)&&this.commandManager.removeDependencyCommand.execute(E)},I.prototype.getDependencyData=function(k){return this.viewModel.getDependencyObjectForDataSource(k)},I.prototype.insertResource=function(k,E){var P=this;k&&this.commandManager.createResourceCommand.execute(String(k.text),k.color&&String(k.color),function(j){if((0,g.isDefined)(E))for(var F=0;F<E.length;F++)P.assignResourceToTask(j,E[F])})},I.prototype.deleteResource=function(k){var E=this.viewModel.convertPublicToInternalKey("resource",k);(0,g.isDefined)(E)&&this.commandManager.removeResourceCommand.execute(E)},I.prototype.assignResourceToTask=function(k,E){var P=this.viewModel.convertPublicToInternalKey("resource",k),j=this.viewModel.convertPublicToInternalKey("task",E);(0,g.isDefined)(P)&&(0,g.isDefined)(j)&&this.commandManager.assignResourceCommand.execute(P,j)},I.prototype.unassignResourceFromTask=function(k,E){var P=this.viewModel.findAssignment(k,E);P&&this.commandManager.deassignResourceCommand.execute(P.internalId)},I.prototype.unassignAllResourcesFromTask=function(k){var E=this,P=this.viewModel.convertPublicToInternalKey("task",k);this.viewModel.findAllTaskAssignments(P).forEach(function(j){return E.commandManager.deassignResourceCommand.execute(j.internalId)})},I.prototype.getResourceData=function(k){return this.viewModel.getResourceObjectForDataSource(k)},I.prototype.getResourceAssignmentData=function(k){return this.viewModel.getResourceAssignmentObjectForDataSource(k)},I.prototype.getTaskResources=function(k){var E=this.viewModel,P=E.getItemByPublicId("task",k);return P&&E.getAssignedResources(P).items},I.prototype.getVisibleTaskKeys=function(){return this.viewModel.getVisibleTasks().map(function(k){return k.id})},I.prototype.getVisibleDependencyKeys=function(){return this.viewModel.getVisibleDependencies().map(function(k){return k.id})},I.prototype.getVisibleResourceKeys=function(){return this.viewModel.getVisibleResources().map(function(k){return k.id})},I.prototype.getVisibleResourceAssignmentKeys=function(){return this.viewModel.getVisibleResourceAssignments().map(function(k){return k.id})},I.prototype.getTasksExpandedState=function(){return this.viewModel.getTasksExpandedState()},I.prototype.applyTasksExpandedState=function(k){this.viewModel.applyTasksExpandedState(k)},I.prototype.updateWithDataReload=function(k){if(this._updateWithModelReloadLockedCounter>0)this._pendingUpdateInfo={keepExpandState:k};else{var E=k&&this.getTasksExpandedState();this.loadOptionsFromGanttOwner(),k?this.applyTasksExpandedState(E):this.resetAndUpdate();var P=H.DialogBase.activeInstance;P&&P.canRefresh&&P.getDialogName()==="TaskEdit"&&P.refresh(),this.dispatcher.notifyGanttViewUpdated()}},I.prototype.onBrowserWindowResize=function(){this.fullScreenModeHelper.isInFullScreenMode?this.fullScreenModeHelper.adjustControlInFullScreenMode():this.adjustOwnerControl()},I.prototype.getTaskTreeLine=function(k){return this.viewModel.getTaskTreeLine(k).reverse()},I.prototype.setTaskValue=function(k,E,P){var j=this.commandManager.updateTaskCommand,F=this.getTaskByPublicId(k),W={};return F&&(E==="title"&&(W[E]=P||""),E==="progress"&&(W[E]=P),E==="start"&&(W[E]=n.DateTimeUtils.getMinDate(P,F.end)),E==="end"&&(W[E]=n.DateTimeUtils.getMaxDate(P,F.start))),Object.keys(W).length>0&&j.execute(F.internalId,W)},I.prototype.getLastInsertedTaskId=function(){var k=this.history.historyItems.filter(function(P){return P instanceof o.CreateTaskHistoryItem}),E=k[k.length-1];return E&&E.insertedKey},I.prototype.getTaskByPublicId=function(k){return this.viewModel.tasks.getItemByPublicId(k)},I.prototype.getPrevTask=function(k){var E=this.viewModel.findItem(k);if(!E)return null;var P=(E.parent||this.viewModel.root).children.indexOf(E)-1;return P>-1?E.parent.children[P].task:E.parent.task},I.prototype.getTaskIdByInternalId=function(k){var E=this.viewModel.findItem(k),P=E&&E.task;return P?P.id:null},I.prototype.isTaskHasChildren=function(k){var E=this.viewModel.findItem(k);return E&&E.children.length>0},I.prototype.requireFirstLoadParentAutoCalc=function(){var k=this.ganttOwner;return k.getRequireFirstLoadParentAutoCalc&&k.getRequireFirstLoadParentAutoCalc()},I.prototype.updateOwnerInAutoParentMode=function(){this.viewModel.parentAutoCalc&&this.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData())},I.prototype.getOwnerControlMainElement=function(){var k=this.ganttOwner;return k.getMainElement&&k.getMainElement()},I.prototype.adjustOwnerControl=function(){var k=this.ganttOwner;k.adjustControl&&k.adjustControl()},I.prototype.applySettings=function(k,E){E===void 0&&(E=!1);var P=v.Settings.parse(k),j=E||this.settings.equal(P);this.settings=P,j||this.resetAndUpdate()},I.prototype.getDataUpdateErrorCallback=function(){var k=this,E=this.history,P=E.getCurrentProcessingItemInfo();return function(){k.dispatcher.lock(),E.rollBackAndRemove(P),k.dispatcher.unlock(),k.updateBarManager()}},I.prototype.setTaskTooltipContentTemplate=function(k){this.settings.taskTooltipContentTemplate=k},I.prototype.setTaskProgressTooltipContentTemplate=function(k){this.settings.taskProgressTooltipContentTemplate=k},I.prototype.setTaskTimeTooltipContentTemplate=function(k){this.settings.taskTimeTooltipContentTemplate=k},I.prototype.setTaskContentTemplate=function(k){this.settings.taskContentTemplate=k},I.prototype.updateBarManager=function(){this.barManager.updateItemsState([])},I.prototype.onTaskAreaClick=function(k,E){var P,j=this.viewModel.items[k];return j&&this.onTaskClick((P=j.task)===null||P===void 0?void 0:P.id,E)},I.prototype.onTaskAreaDblClick=function(k,E){var P=this.viewModel.items[k];P&&this.onTaskDblClick(P.task.id,E)&&this.commandManager.showTaskEditDialog.execute(P.task)},I.prototype.onTaskAreaContextMenu=function(k,E,P){var j,F,W=P==="dependency",z=E,q=this.viewModel,X=W?q.convertInternalToPublicKey("dependency",C.EvtUtils.getEventSource(E).getAttribute("dependency-id")):(F=(j=q.items[k])===null||j===void 0?void 0:j.task)===null||F===void 0?void 0:F.id;if(this.onGanttViewContextMenu(E,X,P)){var J={event:E,type:P,key:X,position:new L.Point(C.EvtUtils.getEventX(z),C.EvtUtils.getEventY(z))};this.showPopupMenu(J)}},I.prototype.onTaskSelectionChanged=function(k,E){var P=this,j=this.viewModel.items[k];this.isFocus=O.DomUtils.isItParent(this.renderHelper.taskArea,C.EvtUtils.getEventSource(E)),j&&this.isFocus&&this.settings.allowSelectTask&&setTimeout(function(){P.changeGanttTaskSelection(j.task.id,!0)},0)},I.prototype.onTaskClick=function(k,E){return!this.ganttOwner.onTaskClick||this.ganttOwner.onTaskClick(k,E)},I.prototype.onTaskDblClick=function(k,E){return!this.ganttOwner.onTaskDblClick||this.ganttOwner.onTaskDblClick(k,E)},I.prototype.getDateFormat=function(k){return this.ganttOwner.getFormattedDateText?this.ganttOwner.getFormattedDateText(k):this.getDefaultDateFormat(k)},I.prototype.getDefaultDateFormat=function(k){return("0"+k.getDate()).slice(-2)+"/"+("0"+(k.getMonth()+1)).slice(-2)+"/"+k.getFullYear()+" "+("0"+k.getHours()).slice(-2)+":"+("0"+k.getMinutes()).slice(-2)},I.prototype.destroyTemplate=function(k){this.ganttOwner.destroyTemplate?this.ganttOwner.destroyTemplate(k):k.innerHTML=""},I.prototype.onTaskAreaSizeChanged=function(k){this.ganttOwner.onTaskAreaSizeChanged&&this.ganttOwner.onTaskAreaSizeChanged(k)},I.prototype.showTaskEditDialog=function(){this.commandManager.showTaskEditDialog.execute()},I.prototype.showTaskDetailsDialog=function(k){var E=this.getTaskByPublicId(k);E&&this.commandManager.showTaskEditDialog.execute(E,!0)},I.prototype.showResourcesDialog=function(){this.commandManager.showResourcesDialog.execute()},I.prototype.getCommandByKey=function(k){return this.commandManager.getCommand(k)},I.prototype._getTaskDataForUpdate=function(k,E){var P={};return E&&k&&((0,g.isDefined)(k.title)&&k.title!==E.title&&(P.title=k.title),(0,g.isDefined)(k.progress)&&k.progress!==E.progress&&(P.progress=k.progress),(0,g.isDefined)(k.start)&&k.start!==E.start&&(P.start=k.start),(0,g.isDefined)(k.end)&&k.end!==E.end&&(P.end=k.end),(0,g.isDefined)(k.color)&&k.color!==E.color&&(P.color=k.color)),Object.keys(P).length>0?P:null},I.prototype.updateViewDataRange=function(){var k=this.viewModel,E=k.getTaskMinStart(),P=k.getTaskMaxEnd(),j=E.getTime()<this.dataRange.start.getTime(),F=P.getTime()>this.dataRange.end.getTime();j&&(this.dataRange.start=E),F&&(this.dataRange.end=P),(j||F)&&this.resetAndUpdate()},I.cachedPrefix="cached_",I.taskAreaScrollLeftKey=I.cachedPrefix+"taskAreaScrollLeft",I.taskAreaScrollTopKey=I.cachedPrefix+"taskAreaScrollTop",I.taskTextHeightKey=I.cachedPrefix+"taskTextHeight",I}();h.GanttView=B},2449:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaEventSource=h.TaskTitlePosition=h.Position=h.ViewType=void 0,function(a){a[a.TenMinutes=0]="TenMinutes",a[a.Hours=1]="Hours",a[a.SixHours=2]="SixHours",a[a.Days=3]="Days",a[a.Weeks=4]="Weeks",a[a.Months=5]="Months",a[a.Quarter=6]="Quarter",a[a.Years=7]="Years",a[a.FiveYears=8]="FiveYears"}(h.ViewType||(h.ViewType={})),function(a){a[a.Left=0]="Left",a[a.Top=1]="Top",a[a.Right=2]="Right",a[a.Bottom=3]="Bottom"}(h.Position||(h.Position={})),function(a){a[a.Inside=0]="Inside",a[a.Outside=1]="Outside",a[a.None=2]="None"}(h.TaskTitlePosition||(h.TaskTitlePosition={})),function(a){a[a.TaskArea=0]="TaskArea",a[a.TaskEdit_Frame=1]="TaskEdit_Frame",a[a.TaskEdit_Progress=2]="TaskEdit_Progress",a[a.TaskEdit_Start=3]="TaskEdit_Start",a[a.TaskEdit_End=4]="TaskEdit_End",a[a.TaskEdit_DependencyStart=5]="TaskEdit_DependencyStart",a[a.TaskEdit_DependencyFinish=6]="TaskEdit_DependencyFinish",a[a.Successor_Wrapper=7]="Successor_Wrapper",a[a.Successor_DependencyStart=8]="Successor_DependencyStart",a[a.Successor_DependencyFinish=9]="Successor_DependencyFinish"}(h.TaskAreaEventSource||(h.TaskAreaEventSource={}))},8877:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EtalonSizeValues=void 0;var a=function(){this.scaleItemWidths={}};h.EtalonSizeValues=a},8695:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FullScreenModeHelper=void 0;var c=a(9279),d=a(2217),u=a(6907),o=function(){function t(n){this._isInFullScreenMode=!1,this.fullScreenTempVars={},this.settings=n}return Object.defineProperty(t.prototype,"isInFullScreenMode",{get:function(){return this._isInFullScreenMode},enumerable:!1,configurable:!0}),t.prototype.getMainElement=function(){return this.settings.getMainElement()},t.prototype.adjustControl=function(){this.settings.adjustControl()},t.prototype.toggle=function(){return this._isInFullScreenMode=!this._isInFullScreenMode,this._isInFullScreenMode?this.setFullScreenMode():this.setNormalMode(),!0},t.prototype.setFullScreenMode=function(){this.prepareFullScreenMode(),this.adjustControlInFullScreenMode()},t.prototype.prepareFullScreenMode=function(){var n=this.getMainElement();d.AttrUtils.changeElementStyleAttribute(n,"border-top-width","0px"),d.AttrUtils.changeElementStyleAttribute(n,"border-left-width","0px"),d.AttrUtils.changeElementStyleAttribute(n,"border-right-width","0px"),d.AttrUtils.changeElementStyleAttribute(n,"border-bottom-width","0px"),this.fullScreenTempVars.scrollTop=u.DomUtils.getDocumentScrollTop(),this.fullScreenTempVars.scrollLeft=u.DomUtils.getDocumentScrollLeft(),d.AttrUtils.changeElementStyleAttribute(n,"background-color","white"),d.AttrUtils.changeElementStyleAttribute(n,"position","fixed"),d.AttrUtils.changeElementStyleAttribute(n,"top","0px"),d.AttrUtils.changeElementStyleAttribute(n,"left","0px"),d.AttrUtils.changeElementStyleAttribute(n,"z-index","1010"),d.AttrUtils.changeElementStyleAttribute(document.documentElement,"position","static"),d.AttrUtils.changeElementStyleAttribute(document.documentElement,"overflow","hidden"),this.fullScreenTempVars.bodyMargin=document.body.style.margin,document.body.style.margin="0",this.fullScreenTempVars.width=n.style.width,this.fullScreenTempVars.height=n.style.height||n.clientHeight,window.self!==window.top&&this.requestFullScreen(document.body)},t.prototype.setNormalMode=function(){this.cancelFullScreen(document);var n=this.getMainElement();d.AttrUtils.restoreElementStyleAttribute(n,"left"),d.AttrUtils.restoreElementStyleAttribute(n,"top"),d.AttrUtils.restoreElementStyleAttribute(n,"background-color"),d.AttrUtils.restoreElementStyleAttribute(document.documentElement,"overflow"),d.AttrUtils.restoreElementStyleAttribute(document.documentElement,"position"),d.AttrUtils.restoreElementStyleAttribute(n,"z-index"),document.body.style.margin=this.fullScreenTempVars.bodyMargin,d.AttrUtils.restoreElementStyleAttribute(n,"position"),d.AttrUtils.restoreElementStyleAttribute(n,"border-top-width"),d.AttrUtils.restoreElementStyleAttribute(n,"border-left-width"),d.AttrUtils.restoreElementStyleAttribute(n,"border-right-width"),d.AttrUtils.restoreElementStyleAttribute(n,"border-bottom-width"),this.setHeight(this.fullScreenTempVars.height),this.setWidth(this.fullScreenTempVars.width),document.documentElement.scrollTop=this.fullScreenTempVars.scrollTop,document.documentElement.scrollLeft=this.fullScreenTempVars.scrollLeft,this.adjustControl()},t.prototype.adjustControlInFullScreenMode=function(){var n=document.documentElement.clientWidth==0?document.body.clientWidth:document.documentElement.clientWidth,e=document.documentElement.clientHeight==0?document.body.clientHeight:document.documentElement.clientHeight;this.setWidth(n),this.setHeight(e),this.adjustControl()},t.prototype.requestFullScreen=function(n){n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()},t.prototype.cancelFullScreen=function(n){c.Browser.Firefox&&!this.getFullScreenElement(n)||(n.webkitExitFullscreen?n.webkitExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.msExitFullscreen?n.msExitFullscreen():n.exitFullscreen&&n.exitFullscreen())},t.prototype.getFullScreenElement=function(n){return n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement},t.prototype.setWidth=function(n){this.getMainElement().style.width=this.isNumber(n)?n+"px":n},t.prototype.setHeight=function(n){this.getMainElement().style.height=this.isNumber(n)?n+"px":n},t.prototype.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},t}();h.FullScreenModeHelper=o},1391:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GridElementInfo=void 0;var c=a(8900),d=a(6353),u=a(3604),o=function(){function t(n,e,r){this.id=t.id++,this.position=new c.Point(void 0,void 0),this.size=new d.Size(0,0),this.margins=new u.Margins(void 0,void 0,void 0,void 0),this.attr={},this.style={},this.additionalInfo={},n&&(this.className=n),e&&this.setPosition(e),r&&this.setSize(r)}return t.prototype.setSize=function(n){this.size.width=n.width,this.size.height=n.height},t.prototype.setPosition=function(n){this.position.x=n.x,this.position.y=n.y},t.prototype.assignToElement=function(n){this.assignPosition(n),this.assignSize(n),this.assignMargins(n),this.className&&(n.className=this.className)},t.prototype.assignPosition=function(n){this.position.x!=null&&(n.style.left=this.position.x+"px"),this.position.y!=null&&(n.style.top=this.position.y+"px")},t.prototype.assignSize=function(n){this.size.width&&(n.style.width=this.size.width+"px"),this.size.height&&(n.style.height=this.size.height+"px")},t.prototype.assignMargins=function(n){this.margins.left&&(n.style.marginLeft=this.margins.left+"px"),this.margins.top&&(n.style.marginTop=this.margins.top+"px"),this.margins.right&&(n.style.marginRight=this.margins.right+"px"),this.margins.bottom&&(n.style.marginBottom=this.margins.bottom+"px")},t.prototype.setAttribute=function(n,e){this.attr[n]=e},t.id=0,t}();h.GridElementInfo=o},1855:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.GridLayoutCalculator=void 0;var c=a(6353),d=a(858),u=a(2449),o=a(1391),t=a(8900),n=a(9201),e=a(1442),r=a(5950),i=a(7072),s=a(2491),l=function(){function g(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500,this.minTaskWidth=2,this._taskWrapperPoints=Array(),this._taskElementInfoList=Array(),this._scaleCalculator=new i.ScaleCalculator}return g.prototype.setSettings=function(p,f,y,m,v,T,b,w){b===void 0&&(b=0),w===void 0&&(w=0),this.visibleTaskAreaSize=p,this.tickSize=f,this._viewType=T,this.range=m,this.verticalTickCount=v.itemCount,this.viewModel=v,this.elementSizeValues=y,this.taskHeight=y.taskHeight,this.parentTaskHeight=y.parentTaskHeight,this.milestoneWidth=y.milestoneWidth,this.scaleHeight=y.scaleItemHeight,this.arrowSize=new c.Size(y.connectorArrowWidth,y.connectorArrowWidth),this.lineThickness=y.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=n.DateUtils.getTickTimeSpan(T),this.scrollBarHeight=b,this.createTileToNonWorkingIntervalsMap(),this._scaleCalculator.setSettings(m,T,f,w),this.reset()},Object.defineProperty(g.prototype,"viewType",{get:function(){return this._viewType},set:function(p){this._viewType!==p&&(this._viewType=p,this._scaleCalculator.setViewType(p))},enumerable:!1,configurable:!0}),g.prototype.reset=function(){this._taskWrapperPoints=new Array,this._taskElementInfoList=Array()},g.prototype.resetTaskInfo=function(p){delete this._taskWrapperPoints[p],delete this._taskElementInfoList[p]},g.prototype.getTaskAreaBorderInfo=function(p,f){var y=f?this.getVerticalGridLineHeight():this.getTotalWidth();return this.getGridBorderInfo(p,f,y)},g.prototype.getTotalWidth=function(){return this._scaleCalculator.scaleWidth},g.prototype.getScaleBorderInfo=function(p,f){var y=new o.GridElementInfo,m=this._scaleCalculator;return y.setPosition(new t.Point(m.getScaleBorderPosition(p,f),void 0)),y.setSize(new c.Size(0,this.scaleHeight)),y.className="dx-gantt-vb",y},g.prototype.getGridBorderInfo=function(p,f,y){var m=new o.GridElementInfo;return m.setPosition(this.getGridBorderPosition(p,f)),y&&m.setSize(this.getGridBorderSize(f,y)),m.className=f?"dx-gantt-vb":"dx-gantt-hb",m},g.prototype.getGridBorderPosition=function(p,f){var y=new t.Point(void 0,void 0),m=this._scaleCalculator,v=f?m.getScaleBorderPosition(p,this.viewType):(p+1)*this.tickSize.height;return f?y.x=v:y.y=v,y},g.prototype.getGridBorderSize=function(p,f){var y=new c.Size(0,0);return p?y.height=f:y.width=f,y},g.prototype.getScaleElementInfo=function(p,f){var y=new o.GridElementInfo,m=this.getScaleItemInfo(p,f);if(m){y.setPosition(m.position),y.setSize(m.size),y.className=this.getScaleItemClassName(f,y,this.getRenderedNoWorkingIntervals(y.position.x));var v=this._scaleCalculator.getScaleItems(f);(p===0||p===v.length-1)&&(y.style.overflowX="hidden",y.style.textOverflow="ellipsis"),y.additionalInfo.range=new d.DateRange(m.start,m.end)}return y},g.prototype.getScaleItemStart=function(p,f){return this._scaleCalculator.getScaleItemAdjustedStart(p,f)},g.prototype.getScaleItemClassName=function(p,f,y){var m="dx-gantt-si";return p.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(f,y)&&(m+=" dx-gantt-holiday-scaleItem"),m},g.prototype.getScaleItemInfo=function(p,f){return this._scaleCalculator.getScaleItem(p,f)},g.prototype.getScaleRangesInArea=function(p,f){var y=n.DateUtils.ViewTypeToScaleMap[this.viewType],m=this._scaleCalculator,v=Math.max(m.getScaleIndexByPos(p,y),0),T=m.getScaleIndexByPos(f,y);T===-1&&(T=m.topScaleItems.length-1);var b=Math.max(m.getScaleIndexByPos(p),0),w=m.getScaleIndexByPos(f);return w===-1&&(w=m.bottomScaleItems.length-1),[[v,T],[b,w]]},g.prototype.isScaleItemInsideNoWorkingInterval=function(p,f){for(var y=p.position.x,m=p.position.x+p.size.width,v=0;v<f.length;v++){var T=f[v].position.x,b=f[v].position.x+f[v].size.width;if(y>=T&&m<=b)return!0}return!1},g.prototype.getScaleItemColSpan=function(p){return this._scaleCalculator.getScaleItemColSpan(p)},g.prototype.getTaskWrapperElementInfo=function(p){var f=new o.GridElementInfo;return f.className=this.getTaskWrapperClassName(p),f.setPosition(this.getTaskWrapperPoint(p)),f.setAttribute("task-index",p),f},g.prototype.getTaskWrapperClassName=function(p){var f="dx-gantt-taskWrapper",y=this.getViewItem(p);return y.task.isMilestone()&&!y.isCustom&&(f="dx-gantt-milestoneWrapper"),y.selected&&(f+=" dx-gantt-selectedTask"),f},g.prototype.getTaskWrapperPoint=function(p){if(!(0,s.isDefined)(this._taskWrapperPoints[p])){var f=this.getViewItem(p),y=this.getTaskHeight(p),m=p*this.tickSize.height+(this.tickSize.height-y)/2,v=new t.Point(this.getPosByDate(f.task.start),m);f.task.isMilestone()&&!f.isCustom&&(v.x-=y/2),this._taskWrapperPoints[p]=v}return this._taskWrapperPoints[p].clone()},g.prototype.getTaskElementInfo=function(p,f){if(f===void 0&&(f=!1),!(0,s.isDefined)(this._taskElementInfoList[p])){var y=new o.GridElementInfo,m=this.getTask(p),v=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(p);if(!m.isMilestone()){var T=this.getTaskWidth(p);y.size.width=this.getCorrectedTaskWidthByRange(p,T),y.size.width<T&&(y.additionalInfo.taskCut=!0),f&&(y.size.height=this.getTaskHeight(p))}y.className=this.getTaskClassName(p,y.size.width),m.color&&(y.style.backgroundColor=m.color,v&&(y.style.borderLeftColor=m.color,y.style.borderRightColor=m.color,y.style.borderTopColor=m.color)),this._taskElementInfoList[p]=y}return this._taskElementInfoList[p]},g.prototype.getTaskClassName=function(p,f){var y=g.taskClassName,m=this.getViewItem(p),v=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(p);return m.task.isMilestone()&&!m.isCustom?y+=" "+g.milestoneClassName:(f<=this.elementSizeValues.smallTaskWidth&&(y+=" "+g.smallTaskClassName),v&&(y+=this.getAutoCalcParentTaskClassName(m.task))),y},g.prototype.getAutoCalcParentTaskClassName=function(p){var f=" "+g.parentTaskClassName;return p.progress==0&&(f+=" dx-gantt-noPrg"),p.progress>=100&&(f+=" dx-gantt-cmpl"),f},g.prototype.getTaskPoint=function(p){var f=this.getTaskWrapperPoint(p);return this.getTask(p).isMilestone()||(f.y+=this.elementSizeValues.taskWrapperTopPadding),f},g.prototype.getTaskSize=function(p){return new c.Size(this.getTaskWidth(p),this.getTaskHeight(p))},g.prototype.getTaskWidth=function(p){var f=this.getViewItem(p);return f.isCustom&&f.size.width?f.size.width:f.task.isMilestone()&&!f.isCustom?this.getTaskHeight(p):Math.max(this.getWidthByDateRange(f.task.start,f.task.end),this.minTaskWidth)},g.prototype.getTaskHeight=function(p){var f=this.getViewItem(p);return f.task.isMilestone()&&!f.isCustom?this.milestoneWidth:this.viewModel.isTaskToCalculateByChildren(f.task.internalId)?this.parentTaskHeight:f.isCustom&&f.size.height?f.size.height:this.taskHeight},g.prototype.getTask=function(p){var f=this.getViewItem(p);return f==null?void 0:f.task},g.prototype.getViewItem=function(p){return this.viewModel.items[p]},g.prototype.getTaskProgressElementInfo=function(p){var f=new o.GridElementInfo;return f.className=g.taskProgressClassName,f.setSize(this.getTaskProgressSize(p)),f},g.prototype.getTaskProgressSize=function(p){var f=this.getTaskProgressWidth(p);return this.isTaskCutByRange(p)&&(f=this.getCorrectedTaskWidthByRange(p,f)),new c.Size(f,0)},g.prototype.getTaskProgressWidth=function(p){return this.getTaskWidth(p)*this.getTask(p).normalizedProgress/100},g.prototype.getTaskTextElementInfo=function(p,f){var y=new o.GridElementInfo;if(y.className=this.getTaskTextElementClassName(f),!f){var m=this.getTaskPoint(p).x;if(m<this.elementSizeValues.outsideTaskTextDefaultWidth){var v=Math.max(m,0);y.size.width=v,v>0?y.margins.left=-v:y.additionalInfo.hidden=!0}}return y},g.prototype.getTaskTextElementClassName=function(p){return g.taskTitleClassName.concat(" ",p?g.titleInClassName:g.titleOutClassName)},g.prototype.getTaskResourcesWrapperElementInfo=function(p){var f=new o.GridElementInfo,y=this.getTaskSize(p).width;return f.className="dx-gantt-taskResWrapper",f.setPosition(this.getTaskWrapperPoint(p)),f.position.x=f.position.x+y,f},g.prototype.getTaskResourceElementInfo=function(){var p=new o.GridElementInfo;return p.className=g.taskResourceClassName,p},g.prototype.getSelectionElementInfo=function(p){return this.getRowElementInfo(p,"dx-gantt-sel")},g.prototype.getSelectionPosition=function(p){var f=new t.Point(void 0,void 0);return f.y=p*this.tickSize.height,f},g.prototype.getSelectionSize=function(){return new c.Size(this.getTotalWidth(),this.tickSize.height)},g.prototype.getHighlightRowInfo=function(p){return this.getRowElementInfo(p,"dx-gantt-altRow")},g.prototype.getRowElementInfo=function(p,f){var y=new o.GridElementInfo;return y.className=f,y.setPosition(this.getSelectionPosition(p)),y.setSize(this.getSelectionSize()),y},g.prototype.getNoWorkingIntervalInfo=function(p){var f=new o.GridElementInfo;return f.className="dx-gantt-nwi",f.setPosition(this.getNoWorkingIntervalPosition(p.start)),f.setSize(this.getNoWorkingIntervalSize(p)),f},g.prototype.getNoWorkingIntervalPosition=function(p){var f=new t.Point(void 0,void 0);return f.x=this.getPosByDate(p),f},g.prototype.getNoWorkingIntervalSize=function(p){return new c.Size(this.getWidthByDateRange(p.start,p.end),this.getVerticalGridLineHeight())},g.prototype.getVerticalGridLineHeight=function(){return Math.max(this.visibleTaskAreaSize.height-this.scrollBarHeight,this.tickSize.height*this.verticalTickCount)},g.prototype.getConnectorInfo=function(p,f,y,m){for(var v=new Array,T=this.getConnectorPoints(f,y,m),b=0;b<T.length-1;b++)v.push(this.getConnectorLineInfo(p,T[b],T[b+1],b==0||b==T.length-2));return v.push(this.getArrowInfo(p,T,v,f,y)),this.checkAndCorrectConnectorLinesByRange(v),v.filter(function(w){return!!w})},g.prototype.getConnectorLineInfo=function(p,f,y,m){var v=new o.GridElementInfo,T=f.x==y.x;return v.className=this.getConnectorClassName(T),v.setPosition(this.getConnectorPosition(f,y)),v.setSize(this.getConnectorSize(f,y,T,m)),v.setAttribute("dependency-id",p),v},g.prototype.getConnectorClassName=function(p){return p?g.CLASSNAMES.CONNECTOR_VERTICAL:g.CLASSNAMES.CONNECTOR_HORIZONTAL},g.prototype.getConnectorPosition=function(p,f){return new t.Point(Math.min(p.x,f.x),Math.min(p.y,f.y))},g.prototype.getConnectorSize=function(p,f,y,m){var v=new c.Size(0,0),T=m?0:1;return y?v.height=Math.abs(f.y-p.y)+T:v.width=Math.abs(f.x-p.x)+T,v},g.prototype.getArrowInfo=function(p,f,y,m,v){var T=new o.GridElementInfo,b=this.findArrowLineInfo(y,m,v),w=this.getArrowPosition(f,m,v);return T.className=this.getArrowClassName(w),T.setPosition(this.getArrowPoint(b,w)),T.setAttribute("dependency-id",p),T},g.prototype.findArrowLineInfo=function(p,f,y){return p[f<y?p.length-1:0]},g.prototype.getArrowPosition=function(p,f,y){var m=p[f<y?p.length-2:1],v=p[f<y?p.length-1:0];return m.x==v.x?m.y>v.y?u.Position.Top:u.Position.Bottom:m.x>v.x?u.Position.Left:u.Position.Right},g.prototype.getArrowClassName=function(p){var f=g.arrowClassName;switch(p){case u.Position.Left:f=f.concat(" ",g.leftArrowClassName);break;case u.Position.Top:f=f.concat(" ",g.topArrowClassName);break;case u.Position.Right:f=f.concat(" ",g.rightArrowClassName);break;case u.Position.Bottom:f=f.concat(" ",g.bottomArrowClassName)}return f},g.prototype.getArrowPositionByClassName=function(p){return p.indexOf(g.leftArrowClassName)>-1?u.Position.Left:p.indexOf(g.topArrowClassName)>-1?u.Position.Top:p.indexOf(g.rightArrowClassName)>-1?u.Position.Right:p.indexOf(g.bottomArrowClassName)>-1?u.Position.Bottom:void 0},g.prototype.getArrowPoint=function(p,f){return new t.Point(this.getArrowX(p,f),this.getArrowY(p,f))},g.prototype.getArrowX=function(p,f){switch(f){case u.Position.Left:return p.position.x-this.arrowSize.width/2;case u.Position.Right:return p.position.x+p.size.width-this.arrowSize.width/2;case u.Position.Top:case u.Position.Bottom:return p.position.x-(this.arrowSize.width-this.lineThickness)/2}},g.prototype.getArrowY=function(p,f){switch(f){case u.Position.Top:return p.position.y-this.arrowSize.height/2;case u.Position.Bottom:return p.position.y+p.size.height-this.arrowSize.height/2;case u.Position.Left:case u.Position.Right:return p.position.y-(this.arrowSize.height-this.lineThickness)/2}},g.prototype.getPosByDate=function(p){return this.getWidthByDateRange(this.range.start,p)},g.prototype.getWidthByDateRange=function(p,f){return n.DateUtils.getRangeTickCount(p,f,this.viewType)*this.tickSize.width},g.prototype.getDateByPos=function(p){if(this.viewType===u.ViewType.Months||this.viewType===u.ViewType.Quarter)return this.getDateByPosInMonthBasedViewTypes(p);var f=p/this.tickSize.width,y=new Date(this.range.start);return n.DateUtils.getDSTCorrectedTaskEnd(y,f*this.tickTimeSpan)},g.prototype.getDateByPosInMonthBasedViewTypes=function(p){return this._scaleCalculator.getDateInScale(p)},g.prototype.getConnectorPoints=function(p,f,y){switch(y){case r.DependencyType.FS:return this.getFinishToStartConnectorPoints(p,f);case r.DependencyType.SF:return this.getStartToFinishConnectorPoints(p,f);case r.DependencyType.SS:return this.getStartToStartConnectorPoints(p,f);case r.DependencyType.FF:return this.getFinishToFinishConnectorPoints(p,f);default:return new Array}},g.prototype.getFinishToStartConnectorPoints=function(p,f){return p<f?this.getTask(p).end<=this.getTask(f).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(p,f,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(p,f,!1):this.getTask(p).end<=this.getTask(f).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(f,p,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(f,p,!0)},g.prototype.getFinishToFinishConnectorPoints=function(p,f){return p<f?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(p,f):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(f,p)},g.prototype.getStartToStartConnectorPoints=function(p,f){return p<f?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(p,f):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(f,p)},g.prototype.getStartToFinishConnectorPoints=function(p,f){return p<f?this.getTask(p).start>=this.getTask(f).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(p,f,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(p,f,!1):this.getTask(p).start>=this.getTask(f).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(f,p,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(f,p,!0)},g.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(p,f,y){var m=new Array,v=this.getTaskPoint(p),T=this.getTaskPoint(f),b=this.getTaskRightCenter(v,p),w=this.getTask(f).isMilestone(),A=this.getTaskTopCenter(T,f),D=this.getHorizontalIndentFromTaskEdge(f,y);return m.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),m.push(new t.Point(Math.floor(w?A.x:T.x+D),Math.floor(m[0].y))),m.push(new t.Point(Math.floor(m[1].x),Math.floor(A.y))),m},g.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(p,f){var y=new Array,m=this.getTaskPoint(p),v=this.getTaskPoint(f),T=this.getTaskRightCenter(m,p),b=this.getTaskRightCenter(v,f);return y.push(new t.Point(Math.floor(T.x),Math.floor(T.y))),y.push(new t.Point(Math.floor(Math.max(T.x,b.x)+this.minLineLength),Math.floor(y[0].y))),y.push(new t.Point(Math.floor(y[1].x),Math.floor(b.y))),y.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),y},g.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(p,f,y){var m=new Array,v=this.getTaskPoint(p),T=this.getTaskPoint(f),b=this.getTaskRightCenter(v,p),w=this.getTaskBottomCenter(v,p),A=this.getTaskLeftCenter(T,f),D=this.getTaskTopCenter(T,f),_=y?this.getViewItem(p):this.getViewItem(f),M=_.isCustom?(this.tickSize.height-_.size.height)/2:this.minConnectorSpaceFromTask;return m.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),m.push(new t.Point(Math.floor(m[0].x+this.minLineLength),Math.floor(m[0].y))),m.push(new t.Point(Math.floor(m[1].x),Math.floor(y?w.y+M:D.y-M))),m.push(new t.Point(Math.floor(A.x-this.minLineLength),Math.floor(m[2].y))),m.push(new t.Point(Math.floor(m[3].x),Math.floor(A.y))),m.push(new t.Point(Math.floor(A.x),Math.floor(A.y))),m},g.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(p,f,y){var m=new Array,v=this.getTaskPoint(p),T=this.getTaskPoint(f),b=this.getTaskBottomCenter(v,p),w=this.getTask(p).isMilestone(),A=this.getTaskRightCenter(T,f),D=this.getHorizontalIndentFromTaskEdge(p,y);return m.push(new t.Point(Math.floor(w?b.x:v.x+D),Math.floor(b.y))),m.push(new t.Point(Math.floor(m[0].x),Math.floor(A.y))),m.push(new t.Point(Math.floor(A.x),Math.floor(A.y))),m},g.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(p,f,y){var m=new Array,v=this.getTaskPoint(p),T=this.getTaskPoint(f),b=this.getTaskBottomCenter(v,p),w=this.getTask(p).isMilestone(),A=this.getTaskLeftCenter(T,f),D=this.getHorizontalIndentFromTaskEdge(p,y);return m.push(new t.Point(Math.floor(w?b.x:v.x+D),Math.floor(b.y))),m.push(new t.Point(Math.floor(m[0].x),Math.floor(A.y))),m.push(new t.Point(Math.floor(A.x),Math.floor(A.y))),m},g.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(p,f,y){var m=new Array,v=this.getTaskPoint(p),T=this.getTaskPoint(f),b=this.getTaskLeftCenter(v,p),w=this.getTaskTopCenter(T,f),A=this.getTask(f).isMilestone(),D=this.getHorizontalIndentFromTaskEdge(f,y);return m.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),m.push(new t.Point(Math.floor(A?w.x:T.x+D),Math.floor(m[0].y))),m.push(new t.Point(Math.floor(m[1].x),Math.floor(w.y))),m},g.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(p,f,y){var m=new Array,v=this.getTaskPoint(p),T=this.getTaskPoint(f),b=this.getTaskLeftCenter(v,p),w=this.getTaskBottomCenter(v,p),A=this.getTaskRightCenter(T,f),D=this.getTaskTopCenter(T,f),_=y?this.getViewItem(p):this.getViewItem(f),M=_.isCustom?(this.tickSize.height-_.size.height)/2:this.minConnectorSpaceFromTask;return m.push(new t.Point(Math.floor(b.x),b.y)),m.push(new t.Point(Math.floor(m[0].x-this.minLineLength),m[0].y)),m.push(new t.Point(Math.floor(m[1].x),Math.floor(y?w.y+M:D.y-M))),m.push(new t.Point(Math.floor(A.x+this.minLineLength),Math.floor(m[2].y))),m.push(new t.Point(Math.floor(m[3].x),Math.floor(A.y))),m.push(new t.Point(Math.floor(A.x),Math.floor(A.y))),m},g.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(p,f){var y=new Array,m=this.getTaskPoint(p),v=this.getTaskPoint(f),T=this.getTaskLeftCenter(m,p),b=this.getTaskLeftCenter(v,f);return y.push(new t.Point(Math.floor(T.x),Math.floor(T.y))),y.push(new t.Point(Math.floor(Math.min(T.x,b.x)-this.minLineLength),Math.floor(y[0].y))),y.push(new t.Point(Math.floor(y[1].x),Math.floor(b.y))),y.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),y},g.prototype.getTaskSidePoints=function(p){var f=this.getTaskPoint(p);return[this.getTaskLeftCenter(f,p),this.getTaskTopCenter(f,p),this.getTaskRightCenter(f,p),this.getTaskBottomCenter(f,p)]},g.prototype.getTaskLeftCenter=function(p,f){return new t.Point(p.x-this.getTaskEdgeCorrection(f),p.y+this.getTaskHeight(f)/2)},g.prototype.getTaskRightCenter=function(p,f){return new t.Point(p.x+this.getTaskWidth(f)+this.getTaskEdgeCorrection(f),p.y+this.getTaskHeight(f)/2)},g.prototype.getTaskTopCenter=function(p,f){return new t.Point(p.x+this.getTaskWidth(f)/2,p.y-this.getTaskEdgeCorrection(f))},g.prototype.getTaskBottomCenter=function(p,f){return new t.Point(p.x+this.getTaskWidth(f)/2,p.y+this.getTaskHeight(f)+this.getTaskEdgeCorrection(f))},g.prototype.getTaskEdgeCorrection=function(p){var f=this.getViewItem(p);return f.task.isMilestone()&&!f.isCustom?this.getTaskHeight(p)*(Math.sqrt(2)-1)/2:0},g.prototype.getHorizontalIndentFromTaskEdge=function(p,f){f===void 0&&(f=!1);var y=this.getTaskWidth(p),m=this.minLineLength<y/3?this.minLineLength:.2*y;return f?y-m:m},g.prototype.getRenderedRowColumnIndices=function(p,f){for(var y=f?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,m=f?this.getFirstVisibleGridCellIndex(p,this.tickSize.height):this.getFirstScaleVisibleIndex(p),v=f?this.getLastVisibleGridCellIndex(p,this.tickSize.height,y,this.verticalTickCount):this.getLastScaleVisibleIndex(p),T=new Array,b=m;b<=v;b++)T.push(b);return T},g.prototype.getRenderedScaleItemIndices=function(p,f){for(var y=p===this.viewType,m=this._scaleCalculator,v=f[0],T=f[f.length-1],b=y?v:m.getTopScaleIndexByBottomIndex(v),w=y?T:m.getTopScaleIndexByBottomIndex(T),A=new Array,D=b;D<=w;D++)A.push(D);return A},g.prototype.getFirstScaleVisibleIndex=function(p){return this._scaleCalculator.getFirstScaleIndexForRender(p)},g.prototype.getLastScaleVisibleIndex=function(p){return this._scaleCalculator.getLastScaleIndexForRender(p+this.visibleTaskAreaSize.width)},g.prototype.getFirstVisibleGridCellIndex=function(p,f){var y=Math.floor(p/f);return y=Math.max(y-10,0)},g.prototype.getLastVisibleGridCellIndex=function(p,f,y,m){var v=Math.floor((p+y)/f);return v=Math.min(v+10,m-1)},g.prototype.createTileToConnectorLinesMap=function(){this.tileToDependencyMap=[];for(var p=0;p<this.viewModel.items.length;p++)for(var f=0;f<this.viewModel.items[p].dependencies.length;f++)this.createConnecotInfo(this.viewModel.items[p].dependencies[f],this.viewModel.items[p].visibleIndex)},g.prototype.updateTileToConnectorLinesMap=function(p){this.tileToDependencyMap.forEach(function(v,T,b){b[T]=v.filter(function(w){return w.attr["dependency-id"]!=p})});var f=[],y=this.viewModel.items.filter(function(v){return v.dependencies.filter(function(T){return T.id==p}).length>0})[0];if(y){var m=y.dependencies.filter(function(v){return v.id===p})[0];f=this.createConnecotInfo(m,y.visibleIndex)}return f},g.prototype.createConnecotInfo=function(p,f){var y=this,m=p.predecessor.visibleIndex,v=p.type,T=p.id,b=this.getConnectorInfo(T,m,f,v);return b.forEach(function(w){y.addElementInfoToTileMap(w,y.tileToDependencyMap,!0)}),b},g.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var p=0;p<this.viewModel.noWorkingIntervals.length;p++){var f=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[p]);if(f){var y=this.getNoWorkingIntervalInfo(f);this.addElementInfoToTileMap(y,this.tileToNoWorkingIntervalsMap,!1)}}},g.prototype.getAdjustedNoWorkingInterval=function(p){return p.end.getTime()-p.start.getTime()<this.tickTimeSpan-1?null:new d.DateRange(n.DateUtils.getNearestScaleTickDate(p.start,this.range,this.tickTimeSpan,this.viewType),n.DateUtils.getNearestScaleTickDate(p.end,this.range,this.tickTimeSpan,this.viewType))},g.prototype.addElementInfoToTileMap=function(p,f,y){var m=y?p.position.y:p.position.x,v=y?p.size.height:p.size.width,T=2*(y?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width);if(T>0)for(var b=Math.floor(m/T),w=Math.floor((m+v)/T),A=b;A<=w;A++)f[A]||(f[A]=new Array),f[A].push(p)},g.prototype.getRenderedConnectorLines=function(p){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,p)},g.prototype.getRenderedNoWorkingIntervals=function(p){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,p)},g.prototype.getRenderedStripLines=function(p){var f=new Array,y=p.stripLines.map(function(D){return D.clone()});p.showCurrentTime&&y.push(new e.StripLine(new Date,null,p.currentTimeTitle,p.currentTimeCssClass,!0));for(var m=0,v=void 0;v=y[m];m++){var T=n.DateUtils.parse(v.start),b=v.end?n.DateUtils.parse(v.end):null;if(T>=this.range.start&&T<=this.range.end||b&&b>=this.range.start&&b<=this.range.end){var w=T>this.range.start?T:this.range.start,A=new o.GridElementInfo;A.size.height=this.getVerticalGridLineHeight(),A.position.x=this.getPosByDate(w),A.size.width=b?this.getWidthByDateRange(w,b<this.range.end?b:this.range.end):0,A.className=v.isCurrent?"dx-gantt-tc":b?"dx-gantt-ti":"dx-gantt-tm",A.className+=v.cssClass?" "+v.cssClass:"",A.attr.title=v.title,f.push(A)}}return f},g.prototype.getElementsInRenderedTiles=function(p,f,y){var m=new Array,v=f?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width;if(v>0)for(var T=Math.floor(y/(2*v)),b=Math.floor((y+v)/(2*v)),w=T;w<=b;w++)p[w]&&p[w].forEach(function(A){m.indexOf(A)===-1&&m.push(A)});return m},g.prototype.isTaskInRenderedRange=function(p){var f=this.getViewItem(p),y=this.getTaskPoint(p);return f.task.isMilestone()?y.x+this.getTaskWidth(p)<this.getTotalWidth():y.x<this.getTotalWidth()},g.prototype.isTaskCutByRange=function(p){return!!this.getTaskElementInfo(p).additionalInfo.taskCut},g.prototype.checkAndCorrectElementDisplayByRange=function(p){p.parentElement.offsetLeft+p.offsetLeft+p.offsetWidth>this.getTotalWidth()&&(p.style.display="none")},g.prototype.checkAndCorrectArrowElementDisplayByRange=function(p){p.offsetLeft+p.offsetWidth>this.getTotalWidth()&&(p.style.display="none")},g.prototype.checkAndCorrectConnectorLinesByRange=function(p){if(p!=null&&p.length)for(var f=this.getTotalWidth(),y=0;y<p.length;y++){var m=p[y],v=!m.size.width;m.position.x>f?delete p[y]:!v&&m.position.x+m.size.width>f&&(m.size.width=f-m.position.x)}},g.prototype.getCorrectedTaskWidthByRange=function(p,f){var y=this.getTotalWidth()-this.getTaskPoint(p).x;return Math.min(y,f)},g.dxGanttPrefix="dx-gantt-",g.taskClassName=g.dxGanttPrefix+"task",g.milestoneClassName=g.dxGanttPrefix+"milestone",g.smallTaskClassName=g.dxGanttPrefix+"smallTask",g.parentTaskClassName=g.dxGanttPrefix+"parent",g.taskProgressClassName=g.dxGanttPrefix+"tPrg",g.taskTitleClassName=g.dxGanttPrefix+"taskTitle",g.titleInClassName=g.dxGanttPrefix+"titleIn",g.titleOutClassName=g.dxGanttPrefix+"titleOut",g.taskResourceClassName=g.dxGanttPrefix+"taskRes",g.arrowClassName=g.dxGanttPrefix+"arrow",g.leftArrowClassName=g.dxGanttPrefix+"LA",g.topArrowClassName=g.dxGanttPrefix+"TA",g.rightArrowClassName=g.dxGanttPrefix+"RA",g.bottomArrowClassName=g.dxGanttPrefix+"BA",g.CLASSNAMES={CONNECTOR_VERTICAL:"dx-gantt-conn-v",CONNECTOR_HORIZONTAL:"dx-gantt-conn-h"},g}();h.GridLayoutCalculator=l},7072:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ScaleCalculator=h.ScaleItemInfo=void 0;var c=a(8900),d=a(6353),u=a(9201),o=a(2449),t=function(e,r,i,s){this.start=e,this.end=r,this.position=i,this.size=s};h.ScaleItemInfo=t;var n=function(){function e(){this.firstDayOfWeek=0}return e.prototype.setSettings=function(r,i,s,l){l===void 0&&(l=0),this.range=r,this.viewType=i,this.tickSize=s,this.firstDayOfWeek=l,this.reset()},e.prototype.setViewType=function(r){this.viewType=r,this.reset()},e.prototype.reset=function(){delete this._bottomScaleItems,delete this._topScaleItems,delete this._scaleWidth},e.prototype.getScaleIndexByPos=function(r,i){i!=null||(i=this.viewType);var s=i===this.viewType?this.bottomScaleItems:this.topScaleItems,l=-1;if(s.findIndex)l=s.findIndex(function(p){return r>=p.position.x&&r<=p.position.x+p.size.width});else{var g=s.filter(function(p){return r>=p.position.x&&r<=p.position.x+p.size.width})[0];g&&(l=s.indexOf(g))}return l},e.prototype.getScaleBorderPosition=function(r,i){var s=this.getScaleItems(i)[r];if(s)return s.position.x+s.size.width},e.prototype.getScaleItems=function(r){return r===this.viewType?this.bottomScaleItems:r===u.DateUtils.ViewTypeToScaleMap[this.viewType]?this.topScaleItems:null},e.prototype.getScaleItem=function(r,i){return this.getScaleItems(i)[r]},e.prototype.getScaleItemAdjustedStart=function(r,i){var s=this.getScaleItems(i)[r];if(r>0)return s.start;var l=i!==this.viewType,g=l?u.DateUtils.adjustStartDateByViewType(this.range.start,this.viewType,this.firstDayOfWeek):this.getAdjustedBottomScaleItemStart(s.start,i,this.firstDayOfWeek);if(l&&i===o.ViewType.Months){var p=this.range.start;g=new Date(p.getFullYear(),p.getMonth(),1)}if(l&&i===o.ViewType.FiveYears){var f=5*Math.trunc(g.getFullYear()/5);g=new Date(f,g.getMonth(),g.getDate())}return g},Object.defineProperty(e.prototype,"topScaleItems",{get:function(){var r;return(r=this._topScaleItems)!==null&&r!==void 0||(this._topScaleItems=this.calculateTopScale(u.DateUtils.ViewTypeToScaleMap[this.viewType])),this._topScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomScaleItems",{get:function(){var r;return(r=this._bottomScaleItems)!==null&&r!==void 0||(this._bottomScaleItems=this.calculateBottomScale(this.viewType)),this._bottomScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleWidth",{get:function(){var r;return(r=this._scaleWidth)!==null&&r!==void 0||(this._scaleWidth=this.calculateScaleWidth()),this._scaleWidth},enumerable:!1,configurable:!0}),e.prototype.getFirstScaleIndexForRender=function(r){var i=this.getScaleIndexByPos(r);return i=Math.max(i-10,0)},e.prototype.getLastScaleIndexForRender=function(r){var i=this.getScaleIndexByPos(r);return i=i===-1?this.bottomScaleItems.length-1:Math.min(i+10,this.bottomScaleItems.length-1)},e.prototype.getTopScaleIndexByBottomIndex=function(r){var i=this.bottomScaleItems[r];return i?this.getScaleIndexByPos(i.position.x,u.DateUtils.ViewTypeToScaleMap[this.viewType]):-1},e.prototype.calculateBottomScale=function(r){for(var i=new Array,s=this.tickSize.width,l=this.range.start,g=0;l.getTime()<this.range.end.getTime();){var p=this.getNextScaleDate(l,r),f=l.getTime()===this.range.start.getTime(),y=p.getTime()>=this.range.end.getTime(),m=f||y||r>o.ViewType.Hours&&u.DateUtils.hasDST()?this.getRangeTickCount(l,p)*s:s;i.push(new t(l,p,new c.Point(g,void 0),new d.Size(m,0))),l=p,g+=m}return i},e.prototype.calculateTopScale=function(r){for(var i=new Array,s=this.range.end.getTime(),l=this.range.start,g=0,p=0;l.getTime()<s;)for(var f=this.getNextScaleDate(l,r),y=f.getTime(),m=p;m<this.bottomScaleItems.length;m++){var v=this.bottomScaleItems[m],T=v.start.getTime(),b=v.end.getTime();if(y>=T&&y<=b){var w=(y-T)/(b-T)*v.size.width+v.position.x;i.push(new t(l,f,new c.Point(g,void 0),new d.Size(w-g,0))),p=m,g=w,l=f;break}}return i},e.prototype.getDateInScale=function(r){for(var i=0;i<this.bottomScaleItems.length;i++){var s=this.bottomScaleItems[i],l=s.size.width,g=s.position.x;if(r>=g&&r<=g+l){var p=s.start.getTime(),f=(r-g)/l*(s.end.getTime()-p);return new Date(s.start.getTime()+f)}}return new Date(this.range.end)},e.prototype.getNextScaleDate=function(r,i){var s;switch(i){case o.ViewType.TenMinutes:s=this.getNextDateInTenMinutesScale(r);break;case o.ViewType.Hours:s=this.getNextDateInHoursScale(r);break;case o.ViewType.SixHours:s=this.getNextDateInSixHoursScale(r);break;case o.ViewType.Days:s=this.getNextDateInDaysScale(r);break;case o.ViewType.Weeks:s=this.getNextDateInWeeksScale(r,this.firstDayOfWeek);break;case o.ViewType.Months:s=this.getNextDateInMonthsScale(r);break;case o.ViewType.Quarter:s=this.getNextDateInQuartersScale(r);break;case o.ViewType.Years:s=this.getNextDateInYearsScale(r);break;case o.ViewType.FiveYears:s=this.getNextDateInFiveYearsScale(r)}return s.getTime()>this.range.end.getTime()&&(s=this.range.end),s},e.prototype.getNextTimeBySpan=function(r,i){return(Math.trunc(r/i)+1)*i},e.prototype.getNextDateInTenMinutesScale=function(r){var i=this.getNextTimeBySpan(r.getMinutes(),10);return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),i)},e.prototype.getNextDateInHoursScale=function(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours()+1)},e.prototype.getNextDateInSixHoursScale=function(r){var i=this.getNextTimeBySpan(r.getHours(),6);return new Date(r.getFullYear(),r.getMonth(),r.getDate(),i)},e.prototype.getNextDateInDaysScale=function(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate()+1)},e.prototype.getNextDateInWeeksScale=function(r,i){return i===void 0&&(i=0),new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay()+i+7)},e.prototype.getNextDateInMonthsScale=function(r){return new Date(r.getFullYear(),r.getMonth()+1,1)},e.prototype.getNextDateInQuartersScale=function(r){var i=this.getNextTimeBySpan(r.getMonth(),3);return new Date(r.getFullYear(),i,1)},e.prototype.getNextDateInYearsScale=function(r){return new Date(r.getFullYear()+1,0,1)},e.prototype.getNextDateInFiveYearsScale=function(r){var i=this.getNextTimeBySpan(r.getFullYear(),5);return new Date(i,0,1)},e.prototype.getAdjustedBottomScaleItemStart=function(r,i,s){switch(s===void 0&&(s=0),i){case o.ViewType.TenMinutes:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),10*Math.floor(r.getMinutes()/10));case o.ViewType.SixHours:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),6*Math.floor(r.getHours()/6));case o.ViewType.Hours:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours());case o.ViewType.Days:return new Date(r.getFullYear(),r.getMonth(),r.getDate());case o.ViewType.Weeks:return new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay()+s);case o.ViewType.Months:return new Date(r.getFullYear(),r.getMonth(),1);case o.ViewType.Quarter:return new Date(r.getFullYear(),3*Math.floor(r.getMonth()/3),1);case o.ViewType.Years:return new Date(r.getFullYear(),0,1);default:return new Date}},e.prototype.calculateScaleWidth=function(){return this.bottomScaleItems.reduce(function(r,i){return r+i.size.width},0)},e.prototype.getScaleItemColSpan=function(r){return r.valueOf()===this.viewType.valueOf()?1:this.viewType===o.ViewType.TenMinutes?6:this.viewType===o.ViewType.Hours?24:this.viewType===o.ViewType.SixHours?4:this.viewType===o.ViewType.Days?7:this.viewType===o.ViewType.Weeks?4.29:this.viewType===o.ViewType.Months?12:this.viewType===o.ViewType.Quarter?4:this.viewType===o.ViewType.Years?5:1},e.prototype.getRangeTickCount=function(r,i){return u.DateUtils.getRangeTickCount(r,i,this.viewType)},e}();h.ScaleCalculator=n},9377:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaContainer=void 0;var a=function(){function c(d,u){this.element=d,this.onScrollHandler=function(){u.updateView()},this.element.addEventListener("scroll",this.onScrollHandler)}return Object.defineProperty(c.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(d){this.element.scrollTop=d},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(d){this.element.scrollLeft=d},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isExternal",{get:function(){return!1},enumerable:!1,configurable:!0}),c.prototype.getWidth=function(){return this.element.offsetWidth},c.prototype.getHeight=function(){return this.element.offsetHeight},c.prototype.getElement=function(){return this.element},c.prototype.detachEvents=function(){this.element.removeEventListener("scroll",this.onScrollHandler)},c}();h.TaskAreaContainer=a},6923:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ConnectorLinesRender=void 0;var c=a(658),d=a(1855),u=function(){function o(t){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[],this._renderHelper=t}return Object.defineProperty(o.prototype,"taskEditController",{get:function(){return this._renderHelper.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connectorLinesToElementsMap",{get:function(){return this._connectorLinesToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showDependencies",{get:function(){return this._renderHelper.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedConnectorLines",{get:function(){return this._renderedConnectorLines},enumerable:!1,configurable:!0}),o.prototype.reset=function(){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[]},o.prototype.createConnectorLineElement=function(t){if(this.showDependencies){var n=t.attr["dependency-id"];if(!this.invalidTaskDependencies.some(function(i){return i.id==n})){this.taskEditController.isDependencySelected(n)&&(t.className=t.className+" active");var e=t.className.indexOf(d.GridLayoutCalculator.arrowClassName)>-1,r=c.RenderElementUtils.create(t,null,this.taskArea,this.connectorLinesToElementsMap);return e&&this.gridLayoutCalculator.checkAndCorrectArrowElementDisplayByRange(r),r}}},o.prototype.removeConnectorLineElement=function(t){c.RenderElementUtils.remove(t,null,this.taskArea,this.connectorLinesToElementsMap)},o.prototype.recreateConnectorLineElement=function(t,n){var e=this;n===void 0&&(n=!1);var r=[];this._renderedConnectorLines=this.renderedConnectorLines.filter(function(s){return s.attr["dependency-id"]!=t||(r.push(s),!1)});var i=r.length>0;r.forEach(function(s){e.removeConnectorLineElement(s)}),r=this.gridLayoutCalculator.updateTileToConnectorLinesMap(t),(i||n)&&r.forEach(function(s){e.createConnectorLineElement(s),e.renderedConnectorLines.push(s)})},o.prototype.recreateConnectorLineElements=function(){var t=this,n=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainerScrollTop);c.RenderElementUtils.recreate(this.renderedConnectorLines,n,function(e){t.removeConnectorLineElement(e)},function(e){t.createConnectorLineElement(e)}),this._renderedConnectorLines=n},o.prototype.updateRenderedConnectorLinesId=function(t,n){for(var e in this._renderedConnectorLines.forEach(function(i){i.attr["dependency-id"]===t&&(i.attr["dependency-id"]=n)}),this.connectorLinesToElementsMap)if(Object.prototype.hasOwnProperty.call(this.connectorLinesToElementsMap,e)){var r=this.connectorLinesToElementsMap[e];r.getAttribute("dependency-id")===t&&r.setAttribute("dependency-id",n)}this.gridLayoutCalculator.updateTileToConnectorLinesMap(t),this.gridLayoutCalculator.updateTileToConnectorLinesMap(n)},o}();h.ConnectorLinesRender=u},1419:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CustomTaskRender=void 0;var c=a(2449),d=a(658),u=function(){function o(t,n){this._pendingTemplateFuncsToRender=[],this._renderHelper=t,this._taskRender=n}return Object.defineProperty(o.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),o.prototype.getViewItem=function(t){return this._renderHelper.getViewItem(t)},o.prototype.getTask=function(t){return this._renderHelper.getTask(t)},o.prototype.destroyTemplate=function(t){this._renderHelper.destroyTemplate(t)},o.prototype.getTaskDependencies=function(t){return this._renderHelper.getTaskDependencies(t)},o.prototype.getTaskResources=function(t){return this._renderHelper.getTaskResources(t)},o.prototype.attachEventsOnTask=function(t){this._renderHelper.attachEventsOnTask(t)},o.prototype.recreateConnectorLineElement=function(t,n){n===void 0&&(n=!1),this._renderHelper.recreateConnectorLineElement(t,n)},o.prototype.createTaskSelectionElement=function(t){this._taskRender.createTaskSelectionElement(t)},o.prototype.createCustomTaskElement=function(t,n){if(this._saveTemplateFuncToStack(t,n),!this._hasRepeatedTemplateRenderCall(t)){var e=this.getViewItem(t);e.isCustom=!1;var r=document.createElement("DIV"),i=this.createCustomTaskInformation(t);e.isCustom=!0,n(r,i,this.onTaskTemplateContainerRendered.bind(this),t)}},o.prototype.onTaskTemplateContainerRendered=function(t,n){var e=this;if(this._hasRepeatedTemplateRenderCall(n)){t&&this._renderHelper.destroyTemplate(t);var r=this._getLastPendingTemplateFunc(n);setTimeout(function(){return e.createCustomTaskElement(n,r)})}else this.drawCustomTask(t,n);this._clearTemplateFuncsStack(n)},o.prototype._saveTemplateFuncToStack=function(t,n){var e,r;(e=(r=this._pendingTemplateFuncsToRender)[t])!==null&&e!==void 0||(r[t]=[]),this._pendingTemplateFuncsToRender[t].push(n)},o.prototype._clearTemplateFuncsStack=function(t){this._pendingTemplateFuncsToRender[t]=[]},o.prototype._hasRepeatedTemplateRenderCall=function(t){return this._pendingTemplateFuncsToRender[t].length>1},o.prototype._getLastPendingTemplateFunc=function(t){var n=this._pendingTemplateFuncsToRender[t];return n[n.length-1]},o.prototype.createCustomTaskWrapperElement=function(t,n){d.RenderElementUtils.create(n,t,this.taskArea,this.taskElements)},o.prototype.createCustomTaskVisualElement=function(t,n){return d.RenderElementUtils.create(n,t,this.taskElements[t])},o.prototype.drawCustomTask=function(t,n){var e=this;if(this.taskElements[n]){var r=this.getViewItem(n);if(r.visible=!!t.innerHTML,this.taskElements[n].innerHTML=t.innerHTML,r.size.height=this.taskElements[n].offsetHeight,r.size.width=this.taskElements[n].offsetWidth,this.destroyTemplate(this.taskElements[n]),this._taskRender.removeTaskElement(n),r.visible){var i=this.gridLayoutCalculator.getTaskWrapperElementInfo(n);this.createCustomTaskWrapperElement(n,i),this.taskElements[n].appendChild(t),this.attachEventsOnTask(n)}else{var s=this.getTaskDependencies(r.task.internalId);s.length&&(this._taskRender.addInvalidTaskDependencies(s),s.forEach(function(l){return e.recreateConnectorLineElement(l.internalId,!0)}))}this._taskRender.isHighlightRowElementAllowed(n)&&this._taskRender.createHighlightRowElement(n),r.selected&&this.createTaskSelectionElement(n)}},o.prototype.createCustomTaskInformation=function(t){var n=this.getTask(t),e=this.getViewItem(t),r=this.gridLayoutCalculator.getTaskWrapperElementInfo(t),i=this.gridLayoutCalculator.getTaskElementInfo(t,this.taskTitlePosition!==c.TaskTitlePosition.Inside);this.createCustomTaskWrapperElement(t,r);var s=this.createCustomTaskVisualElement(t,i);this._taskRender.createTaskTextElement(t,s);var l=this.getTaskResources(n.id);return{cellSize:this.tickSize,isMilestone:n.isMilestone(),isParent:!!(e!=null&&e.children.length),taskData:n,taskHTML:s,taskPosition:r.position,taskResources:l,taskSize:i.size}},o}();h.CustomTaskRender=u},9385:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EtalonsHelper=void 0;var c=a(6907),d=a(2449),u=a(1391),o=a(658),t=function(){function n(e){this._renderHelper=e}return Object.defineProperty(n.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),n.prototype.getScaleItemTextTemplate=function(e){return this._renderHelper.getScaleItemTextTemplate(e)},n.prototype.getHeaderHeight=function(){return this._renderHelper.getHeaderHeight()},n.prototype.getSmallTaskWidth=function(e){return this._renderHelper.getSmallTaskWidth(e)},n.prototype.createEtalonElementsContainer=function(){var e=document.createElement("DIV");return e.style.visibility="hidden",e.style.position="absolute",e.style.left="-1000px",this.mainElement.appendChild(e),e},n.prototype.createEtalonElements=function(e){var r=[],i=o.RenderElementUtils.create(new u.GridElementInfo("dx-gantt-taskWrapper"),null,e),s=o.RenderElementUtils.create(new u.GridElementInfo("dx-gantt-task"),null,i);o.RenderElementUtils.create(new u.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,s).innerText="WWW",r.push(i);var l=o.RenderElementUtils.create(new u.GridElementInfo("dx-gantt-taskWrapper"),null,e);o.RenderElementUtils.create(new u.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,l),r.push(l);for(var g=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],p=0;p<g.length;p++){var f=new u.GridElementInfo(g[p]);r.push(o.RenderElementUtils.create(f,null,e))}var y=o.RenderElementUtils.create(new u.GridElementInfo("dx-gantt-taskWrapper"),null,e),m=o.RenderElementUtils.create(new u.GridElementInfo("dx-gantt-task dx-gantt-parent"),null,y);return o.RenderElementUtils.create(new u.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,m).innerText="WWW",r.push(y),r},n.prototype.calculateEtalonSizeValues=function(){var e=this.createEtalonElementsContainer(),r=this.createEtalonElements(e);this.calculateEtalonSizeValuesCore(r),this.mainElement.removeChild(e)},n.prototype.calculateEtalonSizeValuesCore=function(e){this.etalonSizeValues.taskHeight=e[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=e[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=c.DomUtils.pxToInt(c.DomUtils.getCurrentStyle(e[0]).paddingTop),this.etalonSizeValues.connectorLineThickness=c.DomUtils.getVerticalBordersWidth(e[2]),this.etalonSizeValues.connectorArrowWidth=c.DomUtils.getHorizontalBordersWidth(e[3]);for(var r=0;r<=d.ViewType.Years;r++)e[4].innerText=this.getScaleItemTextTemplate(r),this.etalonSizeValues.scaleItemWidths[r]=e[4].offsetWidth;this.etalonSizeValues.smallTaskWidth=this.getSmallTaskWidth(c.DomUtils.getCurrentStyle(e[0].firstChild.firstChild).paddingLeft),this.etalonSizeValues.outsideTaskTextDefaultWidth=c.DomUtils.pxToFloat(c.DomUtils.getCurrentStyle(e[5]).width),this.etalonSizeValues.scaleItemHeight=this.getHeaderHeight()/this.scaleCount,this.etalonSizeValues.parentTaskHeight=e[e.length-1].firstChild.offsetHeight},n}();h.EtalonsHelper=t},4289:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ScaleCellPreparedArguments=void 0;var a=function(){function c(d){this.info=d}return Object.defineProperty(c.prototype,"scaleIndex",{get:function(){var d;return(d=this.info)===null||d===void 0?void 0:d.scaleIndex},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"scaleType",{get:function(){var d;return(d=this.info)===null||d===void 0?void 0:d.scaleType},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"start",{get:function(){var d,u;return(u=(d=this.info)===null||d===void 0?void 0:d.range)===null||u===void 0?void 0:u.start},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"end",{get:function(){var d,u;return(u=(d=this.info)===null||d===void 0?void 0:d.range)===null||u===void 0?void 0:u.end},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"scaleElement",{get:function(){var d;return(d=this.info)===null||d===void 0?void 0:d.scaleElement},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"separatorElement",{get:function(){var d;return(d=this.info)===null||d===void 0?void 0:d.separatorElement},enumerable:!1,configurable:!0}),c}();h.ScaleCellPreparedArguments=a},2121:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.MainElementsRender=void 0;var a=function(){function c(){}return c.prototype.createMainElement=function(d){var u=document.createElement("DIV");return u.style.width=d.offsetWidth+"px",u.style.height=d.offsetHeight+"px",u},c.prototype.createHeader=function(){var d=document.createElement("DIV");return d.className="dx-gantt-header",d},c}();h.MainElementsRender=a},1027:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.NoWorkingIntervalRender=void 0;var c=a(658),d=function(){function u(o){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[],this._renderHelper=o}return Object.defineProperty(u.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedNoWorkingIntervals",{get:function(){return this._renderedNoWorkingIntervals},set:function(o){this._renderedNoWorkingIntervals=o},enumerable:!1,configurable:!0}),u.prototype.reset=function(){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[]},u.prototype.createNoWorkingIntervalElement=function(o){return c.RenderElementUtils.create(o,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},u.prototype.removeNoWorkingIntervalElement=function(o){c.RenderElementUtils.remove(o,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},u.prototype.recreateNoWorkingIntervalElements=function(){var o=this,t=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainerScrollLeft);c.RenderElementUtils.recreate(this.renderedNoWorkingIntervals,t,function(n){o.removeNoWorkingIntervalElement(n)},function(n){o.createNoWorkingIntervalElement(n)}),this.renderedNoWorkingIntervals=t},u}();h.NoWorkingIntervalRender=d},658:(S,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RenderElementUtils=void 0;var a=function(){function c(){}return c.create=function(d,u,o,t){var n=document.createElement("DIV");for(var e in d.assignToElement(n),o.appendChild(n),t&&(t instanceof Array&&u!==null?t[u]=n:t[d.id]=n),d.attr)Object.prototype.hasOwnProperty.call(d.attr,e)&&n.setAttribute(e,d.attr[e]);for(var e in d.style)Object.prototype.hasOwnProperty.call(d.style,e)&&(n.style[e]=d.style[e]);return n},c.remove=function(d,u,o,t){var n;t instanceof Array&&u!==null?(n=t[u],delete t[u]):(n=t[d.id],delete t[d.id]),n&&n.parentNode==o&&o.removeChild(n)},c.recreate=function(d,u,o,t){d.filter(function(n){return u.indexOf(n)===-1}).forEach(function(n){o(n)}),u.filter(function(n){return d.indexOf(n)===-1}).forEach(function(n){t(n)})},c}();h.RenderElementUtils=a},1074:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RenderHelper=void 0;var c=a(6923),d=a(9385),u=a(8877),o=a(2366),t=a(1855),n=a(1027),e=a(4966),r=a(6700),i=a(8148),s=a(3682),l=a(2349),g=a(2290),p=a(2121),f=a(6353),y=a(9377),m=a(8380),v=function(){function T(b){this.hlRowElements=[],this.renderedColIndices=[],this.renderedRowIndices=[],this.invalidTaskDependencies=[],this.etalonSizeValues=new u.EtalonSizeValues,this._gridLayoutCalculator=new t.GridLayoutCalculator,this._ganttView=b,this._connectorLinesRender=new c.ConnectorLinesRender(this),this._etalonsHelper=new d.EtalonsHelper(this),this._noWorkingIntervalRender=new n.NoWorkingIntervalRender(this),this._resourceRender=new e.ResourseRender(this),this._scaleRender=new r.ScaleRender(this),this._stripLinesRender=new i.StripLinesRender(this),this._taskAreaRender=new l.TaskAreaRender(this),this._taskRender=new g.TaskRender(this),this._mainElementsRender=new p.MainElementsRender}return T.prototype.reset=function(){this.invalidTaskDependencies=[],this._taskAreaRender.reset(),this._taskRender.reset(),this._taskArea.innerHTML="",this._scaleRender.reset(),this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this._connectorLinesRender.reset(),this._stripLinesRender.reset(),this._noWorkingIntervalRender.reset()},T.prototype.createMainElement=function(b){this.mainElement=this._mainElementsRender.createMainElement(b),b.appendChild(this.mainElement)},T.prototype.createHeader=function(){this.header=this._mainElementsRender.createHeader(),this.mainElement.appendChild(this.header)},T.prototype.init=function(b,w,A,D,_){_===void 0&&(_=0),this._elementTextHelper.setFont(this.mainElement),this.setupHelpers(b,w,A,D,_),this.setSizeForTaskArea(),this.createTimeScale(),this._taskAreaManager=new s.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)},T.prototype.initMarkup=function(b){this._elementTextHelper=new m.ElementTextHelper(this.ganttViewSettings.cultureInfo),this.createMainElement(b),this.createHeader(),this._etalonsHelper.calculateEtalonSizeValues(),this._taskAreaRender.createTaskAreaContainer()},T.prototype.processScroll=function(b){this._taskAreaRender.recreateTaskAreaBordersAndTaskElements(b),b?this._connectorLinesRender.recreateConnectorLineElements():(this._noWorkingIntervalRender.recreateNoWorkingIntervalElements(),this._stripLinesRender.recreateStripLines(),this._scaleRender.recreateScalesElements())},Object.defineProperty(T.prototype,"ganttViewSettings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskTextHeightKey",{get:function(){return o.GanttView.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showResources",{get:function(){return this.ganttViewSettings.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showDependencies",{get:function(){return this.ganttViewSettings.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"viewModelItems",{get:function(){return this._ganttView.viewModel.items},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"stripLines",{get:function(){return this.ganttViewSettings.stripLines},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"range",{get:function(){return this._ganttView.range},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"viewType",{get:function(){return this.ganttViewSettings.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskTitlePosition",{get:function(){return this.ganttViewSettings.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tickSize",{get:function(){return this._ganttView.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"ganttViewTaskAreaContainerScrollTop",{get:function(){return this._ganttView.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"ganttTaskAreaContainerScrollLeft",{get:function(){return this._ganttView.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"scaleCount",{get:function(){return this._ganttView.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"areHorizontalBordersEnabled",{get:function(){return this.ganttViewSettings.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskEditController",{get:function(){return this._ganttView.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"dispatcher",{get:function(){return this._ganttView.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskAreaManager",{get:function(){var b;return(b=this._taskAreaManager)!==null&&b!==void 0||(this._taskAreaManager=new s.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)),this._taskAreaManager},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskAreaContainerScrollTop",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isExternalTaskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"fakeTaskWrapper",{get:function(){return this._taskRender.fakeTaskWrapper},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"selectionElements",{get:function(){return this._taskRender.selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"scaleElements",{get:function(){return this._scaleRender.scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"scaleBorders",{get:function(){return this._scaleRender.scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"timeScaleContainer",{get:function(){return this._scaleRender.timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"gridLayoutCalculator",{get:function(){return this._gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"etalonScaleItemWidths",{get:function(){return this.etalonSizeValues.scaleItemWidths[this.viewType]},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"elementTextHelperCultureInfo",{get:function(){return this._elementTextHelper.cultureInfo},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalRender.noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"stripLinesMap",{get:function(){return this._stripLinesRender.stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"renderedConnectorLines",{get:function(){return this._connectorLinesRender.renderedConnectorLines},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"allConnectorLines",{get:function(){return this.gridLayoutCalculator.tileToDependencyMap.reduce(function(b,w){return b.concat(w)},[])},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"resourcesElements",{get:function(){return this._resourceRender.resourcesElements},enumerable:!1,configurable:!0}),T.prototype.setupHelpers=function(b,w,A,D,_){_===void 0&&(_=0);var M=new f.Size(this._taskAreaRender.taskAreaContainer.getWidth(),this._taskAreaRender.taskAreaContainer.getHeight()),x=this._taskAreaRender.taskAreaContainer.getHeight()-this._taskAreaRender.taskAreaContainer.getElement().clientHeight;this._gridLayoutCalculator.setSettings(M,b,this.etalonSizeValues,w,D,A,x,_),this._elementTextHelper.setSettings(w.start.getTime(),A,D.items)},T.prototype.resetAndUpdate=function(b,w,A,D,_){_===void 0&&(_=0);var M=this.getTaskAreaContainerScrollLeft();this.reset(),this.setupHelpers(b,w,A,D,_),this._scaleRender.createTimeScaleAreas(),this.setSizeForTaskArea(),this.setTaskAreaContainerScrollLeft(M)},T.prototype.createConnectorLines=function(){this._gridLayoutCalculator.createTileToConnectorLinesMap(),this._connectorLinesRender.recreateConnectorLineElements()},T.prototype.getTargetDateByPos=function(b){return this._gridLayoutCalculator.getDateByPos(this._taskAreaRender.taskAreaContainer.scrollLeft+b)},T.prototype.getExternalTaskAreaContainer=function(b){return this._ganttView.getExternalTaskAreaContainer(b)},T.prototype.prepareExternalTaskAreaContainer=function(b,w){return this._ganttView.prepareExternalTaskAreaContainer(b,w)},T.prototype.isAllowTaskAreaBorders=function(b){return this._ganttView.allowTaskAreaBorders(b)},T.prototype.getHeaderHeight=function(){return this._ganttView.getHeaderHeight()},T.prototype.getViewItem=function(b){return this._ganttView.getViewItem(b)},T.prototype.getTask=function(b){return this._ganttView.getTask(b)},T.prototype.hasTaskTemplate=function(){return!!this._ganttView.settings.taskContentTemplate},T.prototype.destroyTemplate=function(b){this._ganttView.destroyTemplate(b)},T.prototype.getTaskDependencies=function(b){return this._ganttView.getTaskDependencies(b)},T.prototype.getTaskResources=function(b){return this._ganttView.getTaskResources(b)},T.prototype.isHighlightRowElementAllowed=function(b){return this._ganttView.isHighlightRowElementAllowed(b)},T.prototype.updateRenderedConnectorLinesId=function(b,w){this._connectorLinesRender.updateRenderedConnectorLinesId(b,w)},T.prototype.recreateConnectorLineElement=function(b,w){w===void 0&&(w=!1),this._connectorLinesRender.recreateConnectorLineElement(b,w)},T.prototype.recreateConnectorLineElemensts=function(){this._connectorLinesRender.recreateConnectorLineElements()},T.prototype.setMainElementWidth=function(b){this.mainElement.style.width=b+"px"},T.prototype.setMainElementHeight=function(b){this.mainElement.style.height=b+"px"},T.prototype.createResources=function(b){this._resourceRender.createResourcesWrapperElement(b),this._resourceRender.createResources(b)},T.prototype.createTimeScale=function(){this._scaleRender.createTimeScaleContainer(this.header),this._scaleRender.createTimeScaleAreas()},T.prototype.setTimeScaleContainerScrollLeft=function(b){this._scaleRender.setTimeScaleContainerScrollLeft(b)},T.prototype.recreateStripLines=function(){this._stripLinesRender.recreateStripLines&&this._stripLinesRender.recreateStripLines()},T.prototype.createTaskArea=function(b){this._taskArea=this._taskAreaRender.createTaskArea(),this._taskArea.setAttribute("task-edit-enabled",this.isTaskUpdateAllowed().toString()),b.appendChild(this._taskArea)},T.prototype.isTaskUpdateAllowed=function(){var b=this.ganttViewSettings.editing;return b.enabled&&b.allowTaskUpdate},T.prototype.setSizeForTaskArea=function(){var b=this.getTaskAreaWidth(),w=this.getTaskAreaHeight();this._taskAreaRender.setSizeForTaskArea(b,w),this._ganttView.onTaskAreaSizeChanged({width:b,height:w})},T.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.getTotalWidth()},T.prototype.getTaskAreaHeight=function(){return this.gridLayoutCalculator.getVerticalGridLineHeight()},T.prototype.getTaskAreaContainerScrollLeft=function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},T.prototype.setTaskAreaContainerScrollLeft=function(b){this._taskAreaRender.taskAreaContainer.scrollLeft=b},T.prototype.setTaskAreaContainerScrollLeftToDate=function(b,w){this._taskAreaRender.taskAreaContainer.scrollLeft=Math.round(this._gridLayoutCalculator.getPosByDate(b))+w},T.prototype.getTaskAreaContainer=function(b){return new y.TaskAreaContainer(b,this._ganttView)},T.prototype.prepareTaskAreaContainer=function(){this._taskAreaRender.prepareTaskAreaContainer()},T.prototype.getTaskAreaContainerWidth=function(){return this._taskAreaRender.taskAreaContainer.getWidth()},T.prototype.createHighlightRowElement=function(b){this._taskAreaRender.createHighlightRowElement(b)},T.prototype.getSmallTaskWidth=function(b){return this._taskRender.getSmallTaskWidth(b)},T.prototype.createTaskElement=function(b){this._taskRender.createTaskElement(b,this._ganttView.settings.taskContentTemplate)},T.prototype.removeTaskElement=function(b){this._taskRender.removeTaskElement(b)},T.prototype.recreateTaskElement=function(b){this._taskRender.recreateTaskElement(b)},T.prototype.createDefaultTaskElement=function(b){this._taskRender.createDefaultTaskElement(b)},T.prototype.getScaleItemText=function(b,w){var A=this._gridLayoutCalculator.getScaleItemStart(b,w);return this.getScaleItemTextByStart(A,w)},T.prototype.getScaleItemTextByStart=function(b,w){return this._elementTextHelper.getScaleItemText(b,w)},T.prototype.getTextWidth=function(b){return this._elementTextHelper.getTextWidth(b)},T.prototype.getTaskVisibility=function(b){return this.gridLayoutCalculator.isTaskInRenderedRange(b)&&this._elementTextHelper.getTaskVisibility(b)},T.prototype.getTaskResourcesVisibility=function(b){return this.getTaskVisibility(b)&&!this.gridLayoutCalculator.isTaskCutByRange(b)},T.prototype.getScaleItemTextTemplate=function(b){return this._elementTextHelper.getScaleItemTextTemplate(b)},T.prototype.getTaskText=function(b){return this._elementTextHelper.getTaskText(b)},T.prototype.taskAreaManagerDetachEvents=function(){this.taskAreaManager.detachEvents()},T.prototype.attachEventsOnTask=function(b){this.taskAreaManager.attachEventsOnTask(this._taskRender.taskElements[b])},T.prototype.detachEventsOnTask=function(b){this.taskAreaManager.detachEventsOnTask(this._taskRender.taskElements[b])},T}();h.RenderHelper=v},4966:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ResourseRender=void 0;var c=a(658),d=function(){function u(o){this._resourcesElements=[],this._renderHelper=o}return Object.defineProperty(u.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"resourcesElements",{get:function(){return this._resourcesElements},enumerable:!1,configurable:!0}),u.prototype.getViewItem=function(o){return this._renderHelper.getViewItem(o)},u.prototype.getTaskResourcesVisibility=function(o){return this._renderHelper.getTaskResourcesVisibility(o)},u.prototype.createResources=function(o){for(var t=this.getViewItem(o).resources.items,n=0;n<t.length;n++)this.createResourceElement(o,t[n])},u.prototype.createResourcesWrapperElement=function(o){var t=this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(o);c.RenderElementUtils.create(t,o,this.taskArea,this.resourcesElements),this.resourcesElements[o].style.display=this.getTaskResourcesVisibility(o)?"":"none"},u.prototype.createResourceElement=function(o,t){var n=this.gridLayoutCalculator.getTaskResourceElementInfo();t.color&&(n.style.backgroundColor=t.color);var e=c.RenderElementUtils.create(n,o,this.resourcesElements[o]);e.innerText=t.text,this.gridLayoutCalculator.checkAndCorrectElementDisplayByRange(e)},u}();h.ResourseRender=d},6700:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ScaleRender=void 0;var c=a(6907),d=a(2449),u=a(9201),o=a(4289),t=a(658),n=function(){function e(r){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=new Array,this._renderHelper=r}return Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeScaleContainer",{get:function(){return this._timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._renderHelper.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewType",{get:function(){return this._renderHelper.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeScaleAreas",{get:function(){return this._timeScaleAreas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleElements",{get:function(){return this._scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBorders",{get:function(){return this._scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedScaleItemIndices",{get:function(){return this._renderedScaleItemIndices},enumerable:!1,configurable:!0}),e.prototype.getScaleItemText=function(r,i){return this._renderHelper.getScaleItemText(r,i)},e.prototype.getTaskAreaWidth=function(){return this._renderHelper.getTaskAreaWidth()},e.prototype.reset=function(){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=[],this._timeScaleContainer.innerHTML=""},e.prototype.setTimeScaleContainerScrollLeft=function(r){this._timeScaleContainer.scrollLeft=r},e.prototype.createTimeScaleContainer=function(r){var i=document.createElement("DIV");i.className="dx-gantt-tsac",i.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this._timeScaleContainer=i,r.appendChild(this.timeScaleContainer)},e.prototype.createTimeScaleArea=function(){var r=document.createElement("DIV");return r.className="dx-gantt-tsa",r.style.width=this.getTaskAreaWidth()+"px",r.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(r),this.timeScaleAreas.unshift(r),r},e.prototype.createTimeScaleAreas=function(){for(var r=0;r<this.scaleCount;r++)this.createTimeScaleArea()},e.prototype.createScaleElementCore=function(r,i,s,l){return l[s]||(l[s]=[]),t.RenderElementUtils.create(i,r,this.timeScaleAreas[s],l[s])},e.prototype.createScaleElement=function(r,i,s,l){var g=this._renderHelper.getTextWidth("a"),p=this.createScaleElementCore(r,l,i,this.scaleElements);if(p.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px",(l==null?void 0:l.size.width)>5*g){var f=this.getScaleItemText(r,s);p.innerText=f,s===d.ViewType.Quarter&&(p.style.padding="0");var y=getComputedStyle(p);l.size.width-c.DomUtils.pxToInt(y.paddingLeft)-c.DomUtils.pxToInt(y.paddingRight)<this._renderHelper.getTextWidth(f)&&(p.title=f)}return p},e.prototype.createScaleBorder=function(r,i,s){var l=this.gridLayoutCalculator.getScaleBorderInfo(r,s);return this.createScaleElementCore(r,l,i,this.scaleBorders)},e.prototype.createScaleElementAndBorder=function(r,i,s){var l=this.gridLayoutCalculator.getScaleElementInfo(r,s),g=this.createScaleElement(r,i,s,l),p=this.createScaleBorder(r,i,s);this.onScaleCellPrepared(s,i,g,p,l.additionalInfo.range)},e.prototype.removeScaleElementAndBorder=function(r,i){t.RenderElementUtils.remove(null,r,this.timeScaleAreas[i],this.scaleElements[i]),t.RenderElementUtils.remove(null,r,this.timeScaleAreas[i],this.scaleBorders[i])},e.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.viewType,0),this.recreateScaleElements(u.DateUtils.ViewTypeToScaleMap[this.viewType],1)},e.prototype.recreateScaleElements=function(r,i){var s=this,l=this.gridLayoutCalculator.getRenderedScaleItemIndices(r,this.renderedColIndices),g=this.renderedScaleItemIndices[r-this.viewType]||[];t.RenderElementUtils.recreate(g,l,function(p){s.removeScaleElementAndBorder(p,i)},function(p){s.createScaleElementAndBorder(p,i,r)}),this.renderedScaleItemIndices[r-this.viewType]=l},Object.defineProperty(e.prototype,"dispatcher",{get:function(){return this._renderHelper.dispatcher},enumerable:!1,configurable:!0}),e.prototype.onScaleCellPrepared=function(r,i,s,l,g){var p=new o.ScaleCellPreparedArguments({scaleType:r,scaleIndex:i,range:g,scaleElement:s,separatorElement:l});this.dispatcher.notifyScaleCellPrepared(p)},e}();h.ScaleRender=n},8148:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StripLinesRender=void 0;var c=a(658),d=function(){function u(o){this._stripLinesMap=[],this._renderedStripLines=[],this._renderHelper=o}return Object.defineProperty(u.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stripLinesMap",{get:function(){return this._stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedStripLines",{get:function(){return this._renderedStripLines},set:function(o){this._renderedStripLines=o},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stripLines",{get:function(){return this._renderHelper.stripLines},enumerable:!1,configurable:!0}),u.prototype.reset=function(){this._renderedStripLines=[]},u.prototype.recreateStripLines=function(){var o=this,t=this.gridLayoutCalculator.getRenderedStripLines(this.stripLines);c.RenderElementUtils.recreate(this.renderedStripLines,t,function(n){c.RenderElementUtils.remove(n,null,o.taskArea,o.stripLinesMap)},function(n){return c.RenderElementUtils.create(n,null,o.taskArea,o.stripLinesMap)}),this.renderedStripLines=t},u}();h.StripLinesRender=d},2349:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskAreaRender=void 0;var c=a(6907),d=a(658),u=function(){function o(t){this._vertTaskAreaBorders=[],this._horTaskAreaBorders=[],this._isExternalTaskAreaContainer=!1,this._renderHelper=t}return Object.defineProperty(o.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},set:function(t){this._renderHelper.renderedRowIndices=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},set:function(t){this._renderHelper.renderedColIndices=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"vertTaskAreaBorders",{get:function(){return this._vertTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"horTaskAreaBorders",{get:function(){return this._horTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainer",{get:function(){return this._taskAreaContainer},enumerable:!1,configurable:!0}),o.prototype.getExternalTaskAreaContainer=function(t){return this._renderHelper.getExternalTaskAreaContainer(t)},o.prototype.prepareExternalTaskAreaContainer=function(t,n){return this._renderHelper.prepareExternalTaskAreaContainer(t,n)},o.prototype.isAllowTaskAreaBorders=function(t){return this._renderHelper.isAllowTaskAreaBorders(t)},o.prototype.getTaskAreaContainerElement=function(){return this._taskAreaContainer.getElement()},o.prototype.initTaskAreaContainer=function(t){this._renderHelper.createTaskArea(t),this._taskAreaContainer=this.getExternalTaskAreaContainer(t),this._isExternalTaskAreaContainer=!!this._taskAreaContainer,this.taskAreaContainer==null&&(this._taskAreaContainer=this._renderHelper.getTaskAreaContainer(t))},o.prototype.createTaskElement=function(t){this._renderHelper.createTaskElement(t)},o.prototype.removeTaskElement=function(t){this._renderHelper.removeTaskElement(t)},o.prototype.reset=function(){this._horTaskAreaBorders=[],this._vertTaskAreaBorders=[]},o.prototype.prepareTaskAreaContainer=function(){var t="dx-gantt-tac-hb",n=this.getTaskAreaContainerElement();this.areHorizontalBordersEnabled?c.DomUtils.addClassName(n,t):c.DomUtils.removeClassName(n,t);var e=parseInt(getComputedStyle(n).getPropertyValue("margin-top"))||0,r="calc(100% - ".concat(this.etalonSizeValues.scaleItemHeight*this.scaleCount+e,"px)");this._isExternalTaskAreaContainer?this.prepareExternalTaskAreaContainer(n,{height:r}):n.style.height=r},o.prototype.createTaskAreaContainer=function(){var t=document.createElement("DIV");t.className="dx-gantt-tac",this.mainElement.appendChild(t),this.initTaskAreaContainer(t),this.prepareTaskAreaContainer()},o.prototype.createTaskAreaBorder=function(t,n){var e=this.gridLayoutCalculator.getTaskAreaBorderInfo(t,n);d.RenderElementUtils.create(e,t,this.taskArea,this.getTaskAreaBordersDictionary(n))},o.prototype.createTaskArea=function(){var t=document.createElement("DIV");return t.id="dx-gantt-ta",t},o.prototype.removeTaskAreaBorder=function(t,n){d.RenderElementUtils.remove(null,t,this.taskArea,this.getTaskAreaBordersDictionary(n))},o.prototype.createTaskAreaBorderAndTaskElement=function(t,n){this.isAllowTaskAreaBorders(n)&&this.createTaskAreaBorder(t,!n),n&&this.createTaskElement(t)},o.prototype.removeTaskAreaBorderAndTaskElement=function(t,n){this.isAllowTaskAreaBorders(n)&&this.removeTaskAreaBorder(t,!n),n&&this.removeTaskElement(t)},o.prototype.recreateTaskAreaBordersAndTaskElements=function(t){var n=this,e=t?this.taskAreaContainerScrollTop:this.taskAreaContainerScrollLeft,r=this.gridLayoutCalculator.getRenderedRowColumnIndices(e,t),i=t?this.renderedRowIndices:this.renderedColIndices;d.RenderElementUtils.recreate(i,r,function(s){n.removeTaskAreaBorderAndTaskElement(s,t)},function(s){n.createTaskAreaBorderAndTaskElement(s,t)}),t?this.renderedRowIndices=r:this.renderedColIndices=r,this.gridLayoutCalculator.createTileToConnectorLinesMap()},o.prototype.getTaskAreaBordersDictionary=function(t){return t?this.vertTaskAreaBorders:this.horTaskAreaBorders},o.prototype.setSizeForTaskArea=function(t,n){this.taskArea.style.width=t+"px",this.taskArea.style.height=n+"px"},o.prototype.createHighlightRowElement=function(t){var n=this.gridLayoutCalculator.getHighlightRowInfo(t);d.RenderElementUtils.create(n,t,this.taskArea,this.hlRowElements)},o}();h.TaskAreaRender=u},2290:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskRender=void 0;var c=a(6907),d=a(2449),u=a(1419),o=a(658),t=function(){function n(e){this._selectionElements=[],this._taskElements=[],this._renderHelper=e,this.customTaskRender=new u.CustomTaskRender(e,this)}return Object.defineProperty(n.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskElements",{get:function(){return this._taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selectionElements",{get:function(){return this._selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isExternalTaskAreaContainer",{get:function(){return this._renderHelper.isExternalTaskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resourcesElements",{get:function(){return this._renderHelper.resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showResources",{get:function(){return this._renderHelper.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskTextHeightKey",{get:function(){return this._renderHelper.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewModelItems",{get:function(){return this._renderHelper.viewModelItems},enumerable:!1,configurable:!0}),n.prototype.isHighlightRowElementAllowed=function(e){return this._renderHelper.isHighlightRowElementAllowed(e)},n.prototype.getTaskVisibility=function(e){return this._renderHelper.getTaskVisibility(e)},n.prototype.getTaskText=function(e){return this._renderHelper.getTaskText(e)},Object.defineProperty(n.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fakeTaskWrapper",{get:function(){var e;return(e=this._fakeTaskWrapper)!==null&&e!==void 0||(this._fakeTaskWrapper=this.createFakeTaskWrapper()),this._fakeTaskWrapper},enumerable:!1,configurable:!0}),n.prototype.getViewItem=function(e){return this._renderHelper.getViewItem(e)},n.prototype.getTask=function(e){return this._renderHelper.getTask(e)},n.prototype.createHighlightRowElement=function(e){this._renderHelper.createHighlightRowElement(e)},n.prototype.getTaskDependencies=function(e){return this._renderHelper.getTaskDependencies(e)},n.prototype.addInvalidTaskDependencies=function(e){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.concat(e)},n.prototype.removeInvalidTaskDependencies=function(e){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.filter(function(r){return r.predecessorId!=e||r.successorId!=e})},n.prototype.createResources=function(e){this.showResources&&this._renderHelper.createResources(e)},n.prototype.attachEventsOnTask=function(e){this._renderHelper.attachEventsOnTask(e)},n.prototype.detachEventsOnTask=function(e){this._renderHelper.detachEventsOnTask(e)},n.prototype.recreateConnectorLineElement=function(e,r){r===void 0&&(r=!1),this._renderHelper.recreateConnectorLineElement(e,r)},n.prototype.renderTaskElement=function(e){this._renderHelper.createTaskElement(e)},n.prototype.reset=function(){var e=this;this._taskElements.forEach(function(r,i){return e.removeTaskElement(i)}),this._selectionElements=[],this._taskElements=[]},n.prototype.createTaskWrapperElement=function(e){var r=this.gridLayoutCalculator.getTaskWrapperElementInfo(e);o.RenderElementUtils.create(r,e,this.taskArea,this.taskElements),this.taskElements[e].style.display=this.getTaskVisibility(e)?"":"none"},n.prototype.createTaskElement=function(e,r){var i=this.getViewItem(e);if(r&&this.customTaskRender.createCustomTaskElement(e,r),!i.task.isValid()||!i.visible){var s=this.getTaskDependencies(i.task.internalId);return this.addInvalidTaskDependencies(s),void(i.selected&&this.createTaskSelectionElement(e))}i.isCustom||this.createDefaultTaskElement(e)},n.prototype.createTaskVisualElement=function(e){var r=this.gridLayoutCalculator.getTaskElementInfo(e,this.taskTitlePosition!==d.TaskTitlePosition.Inside),i=o.RenderElementUtils.create(r,e,this.taskElements[e]);return this.attachEventsOnTask(e),i},n.prototype.createDefaultTaskElement=function(e){var r=this.getViewItem(e);this.isHighlightRowElementAllowed(e)&&this.createHighlightRowElement(e),r.selected&&this.createTaskSelectionElement(e),this.createTaskWrapperElement(e),this.taskTitlePosition===d.TaskTitlePosition.Outside&&this.createTaskTextElement(e,this.taskElements[e]);var i=this.createTaskVisualElement(e);r.task.isMilestone()||(this.taskTitlePosition===d.TaskTitlePosition.Inside&&this.createTaskTextElement(e,i),this.createTaskProgressElement(e,i)),this.createResources(e)},n.prototype.removeTaskElement=function(e){var r=this.getTask(e);if(r&&this.removeInvalidTaskDependencies(r.id),this.detachEventsOnTask(e),this._renderHelper.hasTaskTemplate()){var i=this.taskElements[e],s=i==null?void 0:i.firstElementChild;s&&(this._renderHelper.destroyTemplate(s),i.removeChild(s))}o.RenderElementUtils.remove(null,e,this.taskArea,this.taskElements),o.RenderElementUtils.remove(null,e,this.taskArea,this.resourcesElements),o.RenderElementUtils.remove(null,e,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(e)&&o.RenderElementUtils.remove(null,e,this.taskArea,this.hlRowElements),this.gridLayoutCalculator.resetTaskInfo(e)},n.prototype.recreateTaskElement=function(e){var r=this,i=this.renderedRowIndices.filter(function(g){return g===e}).length>0,s=this.getTask(e);if(s){i&&(this.removeTaskElement(e),this.renderTaskElement(e));var l=this.getTaskDependencies(s.internalId);l.length&&l.forEach(function(g){return r.recreateConnectorLineElement(g.internalId,!0)})}},n.prototype.createFakeTaskWrapper=function(){var e,r,i=(r=(e=this.viewModelItems.filter(function(p){return p.task&&!p.task.isMilestone})[0])===null||e===void 0?void 0:e.visibleIndex)!==null&&r!==void 0?r:0,s=this.gridLayoutCalculator,l=o.RenderElementUtils.create(s.getTaskWrapperElementInfo(i),null,this.taskArea),g=o.RenderElementUtils.create(s.getTaskElementInfo(i),null,l);return this.createTaskTextElement(i,g),this.createTaskProgressElement(i,g),l.style.display="none",l},n.prototype.createTaskProgressElement=function(e,r){var i=this.gridLayoutCalculator.getTaskProgressElementInfo(e);o.RenderElementUtils.create(i,e,r)},n.prototype.getTextWidth=function(e){return this._renderHelper.getTextWidth(e)},Object.defineProperty(n.prototype,"minTextWidth",{get:function(){var e;return(e=this._minTextWidth)!==null&&e!==void 0||(this._minTextWidth=5*this.getTextWidth("a")),this._minTextWidth},enumerable:!1,configurable:!0}),n.prototype.createTaskTextElement=function(e,r){var i,s,l=this.gridLayoutCalculator.getTaskTextElementInfo(e,this.taskTitlePosition===d.TaskTitlePosition.Inside);if(!l.additionalInfo.hidden){var g=o.RenderElementUtils.create(l,e,r),p=this.getTaskText(e);if(this.taskTitlePosition===d.TaskTitlePosition.Outside&&l.size.width>0){var f=getComputedStyle(g),y=l.size.width-c.DomUtils.pxToInt(f.paddingLeft);if(y>=this.minTextWidth){var m=c.DomUtils.pxToInt(f.paddingRight),v=p?this.getTextWidth(p):0;m&&v>y-m&&(m=Math.min(n.minTitleOutRightPadding,y-this.minTextWidth),g.style.paddingRight=m+"px"),v>y-m&&(g.style.overflowX="hidden",g.style.textOverflow="ellipsis")}else g.style.display="none"}p||((i=this[s=this.taskTextHeightKey])!==null&&i!==void 0||(this[s]=this.getTaskTextHeight(g)),g.style.height=this[this.taskTextHeightKey]),g.innerText=p}},n.prototype.createTaskSelectionElement=function(e){var r=this.gridLayoutCalculator.getSelectionElementInfo(e);this.isExternalTaskAreaContainer&&!this.areHorizontalBordersEnabled&&r.size.height++,o.RenderElementUtils.create(r,e,this.taskArea,this.selectionElements)},n.prototype.getTaskTextHeight=function(e){e.innerText="WWW";var r=getComputedStyle(e).height;return e.innerText="",r},n.prototype.getSmallTaskWidth=function(e){var r=0;if(e!=null&&e!==""){var i=e.indexOf("rem");if(i>-1)try{r=parseFloat(e.substr(0,i))*parseFloat(getComputedStyle(document.documentElement).fontSize)}catch{}else r=c.DomUtils.pxToInt(e)}return 2*r},n.minTitleOutRightPadding=5,n}();h.TaskRender=t},2990:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EditingSettings=void 0;var c=a(2491),d=function(){function u(){this.enabled=!1,this.allowDependencyDelete=!0,this.allowDependencyInsert=!0,this.allowTaskDelete=!0,this.allowTaskInsert=!0,this.allowTaskUpdate=!0,this.allowResourceDelete=!0,this.allowResourceInsert=!0,this.allowResourceUpdate=!0,this.allowTaskResourceUpdate=!0,this.taskHoverDelay=0}return u.parse=function(o){var t=new u;return o&&((0,c.isDefined)(o.enabled)&&(t.enabled=o.enabled),(0,c.isDefined)(o.allowDependencyDelete)&&(t.allowDependencyDelete=o.allowDependencyDelete),(0,c.isDefined)(o.allowDependencyInsert)&&(t.allowDependencyInsert=o.allowDependencyInsert),(0,c.isDefined)(o.allowTaskDelete)&&(t.allowTaskDelete=o.allowTaskDelete),(0,c.isDefined)(o.allowTaskInsert)&&(t.allowTaskInsert=o.allowTaskInsert),(0,c.isDefined)(o.allowTaskUpdate)&&(t.allowTaskUpdate=o.allowTaskUpdate),(0,c.isDefined)(o.allowResourceDelete)&&(t.allowResourceDelete=o.allowResourceDelete),(0,c.isDefined)(o.allowResourceInsert)&&(t.allowResourceInsert=o.allowResourceInsert),(0,c.isDefined)(o.allowResourceUpdate)&&(t.allowResourceUpdate=o.allowResourceUpdate),(0,c.isDefined)(o.allowTaskResourceUpdate)&&(t.allowTaskResourceUpdate=o.allowTaskResourceUpdate),(0,c.isDefined)(o.taskHoverDelay)&&(t.taskHoverDelay=o.taskHoverDelay)),t},u.prototype.equal=function(o){var t=!0;return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t&&this.enabled===o.enabled)&&this.allowDependencyDelete===o.allowDependencyDelete)&&this.allowDependencyInsert===o.allowDependencyInsert)&&this.allowTaskDelete===o.allowTaskDelete)&&this.allowTaskInsert===o.allowTaskInsert)&&this.allowTaskUpdate===o.allowTaskUpdate)&&this.allowResourceDelete===o.allowResourceDelete)&&this.allowResourceInsert===o.allowResourceInsert)&&this.allowResourceUpdate===o.allowResourceUpdate)&&this.allowTaskResourceUpdate===o.allowTaskResourceUpdate},u}();h.EditingSettings=d},9954:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FullScreenHelperSettings=void 0;var c=a(2491),d=function(){function u(){}return u.parse=function(o){var t=new u;return o&&((0,c.isDefined)(o.getMainElement)&&(t.getMainElement=o.getMainElement),(0,c.isDefined)(o.adjustControl)&&(t.adjustControl=o.adjustControl)),t},u}();h.FullScreenHelperSettings=d},9640:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TaskEditSettings=void 0;var c=a(655),d=a(2491),u=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.parse=function(n){var e=new t;return n&&((0,d.isDefined)(n.getCommandManager)&&(e.getCommandManager=n.getCommandManager),(0,d.isDefined)(n.getViewModel)&&(e.getViewModel=n.getViewModel),(0,d.isDefined)(n.getGanttSettings)&&(e.getGanttSettings=n.getGanttSettings),(0,d.isDefined)(n.getRenderHelper)&&(e.getRenderHelper=n.getRenderHelper),(0,d.isDefined)(n.destroyTemplate)&&(e.destroyTemplate=n.destroyTemplate),(0,d.isDefined)(n.formatDate)&&(e.formatDate=n.formatDate),(0,d.isDefined)(n.getModelManipulator)&&(e.getModelManipulator=n.getModelManipulator),(0,d.isDefined)(n.getValidationController)&&(e.getValidationController=n.getValidationController)),e},t}(a(9080).TooltipSettings);h.TaskEditSettings=u},9080:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TooltipSettings=void 0;var c=a(2491),d=function(){function u(){}return u.parse=function(o){var t=new u;return o&&((0,c.isDefined)(o.getHeaderHeight)&&(t.getHeaderHeight=o.getHeaderHeight),(0,c.isDefined)(o.getTaskTooltipContentTemplate)&&(t.getTaskTooltipContentTemplate=o.getTaskTooltipContentTemplate),(0,c.isDefined)(o.getTaskProgressTooltipContentTemplate)&&(t.getTaskProgressTooltipContentTemplate=o.getTaskProgressTooltipContentTemplate),(0,c.isDefined)(o.getTaskTimeTooltipContentTemplate)&&(t.getTaskTimeTooltipContentTemplate=o.getTaskTimeTooltipContentTemplate),(0,c.isDefined)(o.destroyTemplate)&&(t.destroyTemplate=o.destroyTemplate),(0,c.isDefined)(o.formatDate)&&(t.formatDate=o.formatDate),(0,c.isDefined)(o.getTaskAreaContainer)&&(t.getTaskAreaContainer=o.getTaskAreaContainer)),t},u}();h.TooltipSettings=d},5846:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ValidationControllerSettings=void 0;var c=a(2491),d=function(){function u(){}return u.parse=function(o){var t=new u;return o&&((0,c.isDefined)(o.getViewModel)&&(t.getViewModel=o.getViewModel),(0,c.isDefined)(o.getHistory)&&(t.getHistory=o.getHistory),(0,c.isDefined)(o.getModelManipulator)&&(t.getModelManipulator=o.getModelManipulator),(0,c.isDefined)(o.getRange)&&(t.getRange=o.getRange),(0,c.isDefined)(o.getValidationSettings)&&(t.getValidationSettings=o.getValidationSettings),(0,c.isDefined)(o.updateOwnerInAutoParentMode)&&(t.updateOwnerInAutoParentMode=o.updateOwnerInAutoParentMode),(0,c.isDefined)(o.getIsValidateDependenciesRequired)&&(t.getIsValidateDependenciesRequired=o.getIsValidateDependenciesRequired)),t},u}();h.ValidationControllerSettings=d},5351:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Settings=void 0;var c=a(2491),d=a(7880),u=a(2449),o=a(2990),t=a(9057),n=a(2762),e=a(9820),r=function(){function i(){this.viewType=void 0,this.taskTitlePosition=u.TaskTitlePosition.Inside,this.showResources=!0,this.showDependencies=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.firstDayOfWeek=0,this.editing=new o.EditingSettings,this.validation=new n.ValidationSettings,this.stripLines=new t.StripLineSettings,this.viewTypeRange=new e.ViewTypeRangeSettings}return i.parse=function(s){var l=new i;return s&&((0,c.isDefined)(s.viewType)&&(l.viewType=s.viewType),(0,c.isDefined)(s.taskTitlePosition)&&(l.taskTitlePosition=s.taskTitlePosition),(0,c.isDefined)(s.showResources)&&(l.showResources=s.showResources),(0,c.isDefined)(s.showDependencies)&&(l.showDependencies=s.showDependencies),(0,c.isDefined)(s.areHorizontalBordersEnabled)&&(l.areHorizontalBordersEnabled=s.areHorizontalBordersEnabled),(0,c.isDefined)(s.areVerticalBordersEnabled)&&(l.areHorizontalBordersEnabled=s.areHorizontalBordersEnabled),(0,c.isDefined)(s.areAlternateRowsEnabled)&&(l.areAlternateRowsEnabled=s.areAlternateRowsEnabled),(0,c.isDefined)(s.allowSelectTask)&&(l.allowSelectTask=s.allowSelectTask),(0,c.isDefined)(s.firstDayOfWeek)&&(l.firstDayOfWeek=s.firstDayOfWeek),(0,c.isDefined)(s.startDateRange)&&(l.startDateRange=new Date(s.startDateRange)),(0,c.isDefined)(s.endDateRange)&&(l.endDateRange=new Date(s.endDateRange)),(0,c.isDefined)(s.editing)&&(l.editing=o.EditingSettings.parse(s.editing)),(0,c.isDefined)(s.validation)&&(l.validation=n.ValidationSettings.parse(s.validation)),(0,c.isDefined)(s.stripLines)&&(l.stripLines=t.StripLineSettings.parse(s.stripLines)),(0,c.isDefined)(s.viewTypeRange)&&(l.viewTypeRange=e.ViewTypeRangeSettings.parse(s.viewTypeRange)),(0,c.isDefined)(s.taskTooltipContentTemplate)&&(l.taskTooltipContentTemplate=s.taskTooltipContentTemplate),(0,c.isDefined)(s.taskProgressTooltipContentTemplate)&&(l.taskProgressTooltipContentTemplate=s.taskProgressTooltipContentTemplate),(0,c.isDefined)(s.taskTimeTooltipContentTemplate)&&(l.taskTimeTooltipContentTemplate=s.taskTimeTooltipContentTemplate),(0,c.isDefined)(s.taskContentTemplate)&&(l.taskContentTemplate=s.taskContentTemplate),(0,c.isDefined)(s.cultureInfo)&&(l.cultureInfo=s.cultureInfo)),l},i.prototype.equal=function(s){var l=!0;return l=(l=(l=(l=(l=(l=(l=(l=(l=(l=(l=(l=l&&this.viewType===s.viewType)&&this.taskTitlePosition===s.taskTitlePosition)&&this.showResources===s.showResources)&&this.showDependencies===s.showDependencies)&&this.areHorizontalBordersEnabled===s.areHorizontalBordersEnabled)&&this.areAlternateRowsEnabled===s.areAlternateRowsEnabled)&&this.allowSelectTask===s.allowSelectTask)&&this.editing.equal(s.editing))&&this.validation.equal(s.validation))&&this.stripLines.equal(s.stripLines))&&d.DateTimeUtils.areDatesEqual(this.startDateRange,s.startDateRange))&&d.DateTimeUtils.areDatesEqual(this.endDateRange,s.endDateRange)},i}();h.Settings=r},1442:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StripLine=void 0;var c=a(2491),d=function(){function u(o,t,n,e,r){this.isCurrent=!1,this.start=o,this.end=t,this.title=n,this.cssClass=e,this.isCurrent=r}return u.parse=function(o){var t=new u;return o&&((0,c.isDefined)(o.start)&&(t.start=o.start),(0,c.isDefined)(o.end)&&(t.end=o.end),(0,c.isDefined)(o.title)&&(t.title=o.title),(0,c.isDefined)(o.cssClass)&&(t.cssClass=o.cssClass)),t},u.prototype.clone=function(){return new u(this.start,this.end,this.title,this.cssClass,this.isCurrent)},u.prototype.equal=function(o){var t=!0;return t=(t=(t=(t=t&&this.start==o.start)&&this.end==o.end)&&this.title==o.title)&&this.cssClass==o.cssClass},u}();h.StripLine=d},9057:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.StripLineSettings=void 0;var c=a(2491),d=a(1442),u=function(){function o(){this.showCurrentTime=!1,this.currentTimeUpdateInterval=6e4,this.stripLines=[]}return o.parse=function(t){var n=new o;if(t&&((0,c.isDefined)(t.showCurrentTime)&&(n.showCurrentTime=t.showCurrentTime),(0,c.isDefined)(t.currentTimeUpdateInterval)&&(n.currentTimeUpdateInterval=t.currentTimeUpdateInterval),(0,c.isDefined)(t.currentTimeTitle)&&(n.currentTimeTitle=t.currentTimeTitle),(0,c.isDefined)(t.currentTimeCssClass)&&(n.currentTimeCssClass=t.currentTimeCssClass),(0,c.isDefined)(t.stripLines)))for(var e=0;e<t.stripLines.length;e++)n.stripLines.push(d.StripLine.parse(t.stripLines[e]));return n},o.prototype.equal=function(t){var n=!0;if(n=(n=(n=(n=(n=n&&this.showCurrentTime==t.showCurrentTime)&&this.currentTimeUpdateInterval==t.currentTimeUpdateInterval)&&this.currentTimeTitle==t.currentTimeTitle)&&this.currentTimeCssClass==t.currentTimeCssClass)&&this.stripLines.length===t.stripLines.length)for(var e=0;e<t.stripLines.length;e++)n=n&&this.stripLines[e].equal(t.stripLines[e]);return n},o}();h.StripLineSettings=u},2762:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ValidationSettings=void 0;var c=a(2491),d=function(){function u(){this.validateDependencies=!1,this.autoUpdateParentTasks=!1,this.enablePredecessorGap=!1}return u.parse=function(o){var t=new u;return o&&((0,c.isDefined)(o.validateDependencies)&&(t.validateDependencies=o.validateDependencies),(0,c.isDefined)(o.autoUpdateParentTasks)&&(t.autoUpdateParentTasks=o.autoUpdateParentTasks),(0,c.isDefined)(o.enablePredecessorGap)&&(t.enablePredecessorGap=o.enablePredecessorGap)),t},u.prototype.equal=function(o){var t=!0;return t=(t=(t=t&&this.validateDependencies===o.validateDependencies)&&this.autoUpdateParentTasks===o.autoUpdateParentTasks)&&this.enablePredecessorGap===o.enablePredecessorGap},u}();h.ValidationSettings=d},9820:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ViewTypeRangeSettings=void 0;var c=a(2491),d=a(2449),u=function(){function o(){this.min=d.ViewType.TenMinutes,this.max=d.ViewType.Years}return o.parse=function(t){var n=new o;return t&&((0,c.isDefined)(t.min)&&(n.min=t.min),(0,c.isDefined)(t.max)&&(n.max=t.max)),n},o.prototype.equal=function(t){var n=!0;return n=(n=n&&this.min===t.min)&&this.max===t.max},o}();h.ViewTypeRangeSettings=u},9201:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DateUtils=void 0;var c=a(2449),d=function(){function u(){}var o;return u.getDaysInQuarter=function(t){var n=3*Math.floor(t.getMonth()/3);return[n,n+1,n+2].reduce(function(e,r){return e+u.getDaysInMonth(r,t.getFullYear())},0)},u.getDaysInMonth=function(t,n){return new Date(n,t+1,0).getDate()},u.getOffsetInMonths=function(t,n){return 12*(n.getFullYear()-t.getFullYear())+n.getMonth()-t.getMonth()},u.getOffsetInQuarters=function(t,n){return 4*(n.getFullYear()-t.getFullYear())+Math.floor(n.getMonth()/3)-Math.floor(t.getMonth()/3)},u.getNearestScaleTickDate=function(t,n,e,r){var i=new Date,s=n.start.getTime(),l=n.end.getTime();if(i.setTime(t.getTime()),t.getTime()<s)i.setTime(s);else if(t.getTime()>l)i.setTime(l);else if(this.needCorrectDate(t,s,e,r)){var g=this.getNearestLeftTickTime(t,s,e,r),p=this.getNextTickTime(g,e,r);Math.abs(t.getTime()-g)>Math.abs(t.getTime()-p)?i.setTime(p):i.setTime(g)}return i},u.needCorrectDate=function(t,n,e,r){return r==c.ViewType.Months?t.getTime()!==new Date(t.getFullYear(),t.getMonth(),1).getTime():(t.getTime()-n)%e!=0},u.getNearestLeftTickTime=function(t,n,e,r){return r==c.ViewType.Months?new Date(t.getFullYear(),t.getMonth(),1).getTime():n+Math.floor((t.getTime()-n)/e)*e},u.getNextTickTime=function(t,n,e){if(e==c.ViewType.Months){var r=new Date;return r.setTime(t),r.setMonth(r.getMonth()+1),r.getTime()}return t+n},u.adjustStartDateByViewType=function(t,n,e){switch(e===void 0&&(e=0),n){case c.ViewType.TenMinutes:return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours());case c.ViewType.SixHours:case c.ViewType.Hours:return new Date(t.getFullYear(),t.getMonth(),t.getDate());case c.ViewType.Days:case c.ViewType.Weeks:return new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()+e);case c.ViewType.Months:case c.ViewType.Quarter:case c.ViewType.Years:return new Date(t.getFullYear(),0,1);default:return new Date}},u.adjustEndDateByViewType=function(t,n,e){switch(e===void 0&&(e=0),n){case c.ViewType.TenMinutes:return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+1);case c.ViewType.SixHours:case c.ViewType.Hours:return new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);case c.ViewType.Days:case c.ViewType.Weeks:return new Date(t.getFullYear(),t.getMonth(),t.getDate()+7-t.getDay()+e);case c.ViewType.Months:case c.ViewType.Quarter:case c.ViewType.Years:return new Date(t.getFullYear()+1,0,1);default:return new Date}},u.roundStartDate=function(t,n){switch(n){case c.ViewType.TenMinutes:case c.ViewType.Hours:return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()-1);case c.ViewType.SixHours:case c.ViewType.Days:return new Date(t.getFullYear(),t.getMonth(),t.getDate()-1);case c.ViewType.Weeks:return new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay());case c.ViewType.Months:return new Date(t.getFullYear(),t.getMonth()-1);case c.ViewType.Quarter:case c.ViewType.Years:return new Date(t.getFullYear()-1,0,1);default:return new Date}},u.getTickTimeSpan=function(t){switch(t){case c.ViewType.TenMinutes:return u.msPerHour/6;case c.ViewType.Hours:return u.msPerHour;case c.ViewType.SixHours:return 6*u.msPerHour;case c.ViewType.Days:return u.msPerDay;case c.ViewType.Weeks:return u.msPerWeek;case c.ViewType.Months:return u.msPerMonth;case c.ViewType.Quarter:return 3*u.msPerMonth;case c.ViewType.Years:return u.msPerYear}},u.getRangeTickCount=function(t,n,e){return e===c.ViewType.Months?this.getRangeTickCountInMonthsViewType(t,n):e===c.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(t,n):u.getRangeMSPeriod(t,n)/u.getTickTimeSpan(e)},u.getRangeMSPeriod=function(t,n){return n.getTime()-u.getDSTTotalDelta(t,n)-t.getTime()},u.getRangeTickCountInMonthsViewType=function(t,n){var e=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(n.getFullYear(),n.getMonth(),1);return u.getOffsetInMonths(e,r)+(n.getTime()-r.getTime())/(u.getDaysInMonth(n.getMonth(),n.getFullYear())*u.msPerDay)-(t.getTime()-e.getTime())/(u.getDaysInMonth(t.getMonth(),t.getFullYear())*u.msPerDay)},u.getRangeTickCountInQuarterViewType=function(t,n){var e=new Date(t.getFullYear(),3*Math.floor(t.getMonth()/3),1),r=new Date(n.getFullYear(),3*Math.floor(n.getMonth()/3),1);return u.getOffsetInQuarters(e,r)+(n.getTime()-r.getTime())/(u.getDaysInQuarter(r)*u.msPerDay)-(t.getTime()-e.getTime())/(u.getDaysInQuarter(e)*u.msPerDay)},u.parse=function(t){return typeof t=="function"?new Date(t()):new Date(t)},u.getOrCreateUTCDate=function(t){var n=t.getTimezoneOffset();return n?new Date(t.valueOf()+6e4*n):t},u.getTimezoneOffsetDiff=function(t,n){return n.getTimezoneOffset()-t.getTimezoneOffset()},u.getDSTDelta=function(t,n){var e=u.getTimezoneOffsetDiff(t,n)*u.msPerMinute;return e>0?e:0},u.getDSTTotalDelta=function(t,n){if(!u.hasDST())return 0;for(var e=t,r=0,i=e.getFullYear(),s=e.getMonth();e<n;){s>=5?(i++,s=0):s=5;var l=new Date(i,s,1);l>n&&(l=n),r+=u.getDSTDelta(e,l),e=l}return r},u.getDSTCorrectedTaskEnd=function(t,n){var e=t.getTime()+n,r=u.getDSTTotalDelta(t,new Date(e));return new Date(e+r)},u.hasDST=function(){var t=new Date().getFullYear(),n=new Date(t,0,1),e=new Date(t,5,1);return u.getTimezoneOffsetDiff(n,e)!==0},u.msPerMinute=6e4,u.msPerHour=36e5,u.msPerDay=24*u.msPerHour,u.msPerWeek=7*u.msPerDay,u.msPerMonth=30*u.msPerDay,u.msPerYear=365*u.msPerDay,u.ViewTypeToScaleMap=((o={})[c.ViewType.TenMinutes]=c.ViewType.Hours,o[c.ViewType.Hours]=c.ViewType.Days,o[c.ViewType.SixHours]=c.ViewType.Days,o[c.ViewType.Days]=c.ViewType.Weeks,o[c.ViewType.Weeks]=c.ViewType.Months,o[c.ViewType.Months]=c.ViewType.Years,o[c.ViewType.Quarter]=c.ViewType.Years,o[c.ViewType.Years]=c.ViewType.FiveYears,o),u}();h.DateUtils=d},8380:(S,h,a)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ElementTextHelper=void 0;var c=a(6907),d=a(2449),u=a(9201),o=function(){function t(n){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var e=document.createElement("canvas");this.textMeasureContext=e.getContext("2d"),this.cultureInfo=n}return t.prototype.setFont=function(n){var e=c.DomUtils.getCurrentStyle(n),r=e.font?e.font:e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+e.fontSize+" / "+e.lineHeight+" "+e.fontFamily;this.textMeasureContext.font=r},t.prototype.setSettings=function(n,e,r){this.startTime=n,this.viewType=e,this.modelItems=r},t.prototype.getScaleItemText=function(n,e){var r=this.viewType.valueOf()===e.valueOf();switch(e){case d.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(n);case d.ViewType.Hours:case d.ViewType.SixHours:return this.getHoursScaleItemText(n);case d.ViewType.Days:return this.getDaysScaleItemText(n,r);case d.ViewType.Weeks:return this.getWeeksScaleItemText(n,r);case d.ViewType.Months:return this.getMonthsScaleItemText(n,r);case d.ViewType.Quarter:return this.getQuarterScaleItemText(n,r);case d.ViewType.Years:return this.getYearsScaleItemText(n);case d.ViewType.FiveYears:return this.getFiveYearsScaleItemText(n)}},t.prototype.getTenMinutesScaleItemText=function(n){var e=n.getMinutes()+1;return(10*Math.ceil(e/10)).toString()},t.prototype.getThirtyMinutesScaleItemText=function(n){return n.getMinutes()<30?"30":"60"},t.prototype.getHoursScaleItemText=function(n){var e=n.getHours(),r=this.getHourDisplayText(e),i=e<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(r,i)},t.prototype.getDaysScaleItemText=function(n,e){return this.getDayTotalText(n,!0,e,e,!e)},t.prototype.getWeeksScaleItemText=function(n,e){var r=u.DateUtils.getDSTCorrectedTaskEnd(n,u.DateUtils.msPerWeek-u.DateUtils.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(n,e,!0,e,!e),this.getDayTotalText(r,e,!0,e,!e))},t.prototype.getMonthsScaleItemText=function(n,e){var r=this.getMonthNames(),i=e?"":n.getFullYear().toString();return this.getMonthsScaleItemTextCore(r[n.getMonth()],i)},t.prototype.getQuarterScaleItemText=function(n,e){var r=this.getQuarterNames(),i=e?"":n.getFullYear().toString();return this.getMonthsScaleItemTextCore(r[Math.floor(n.getMonth()/3)],i)},t.prototype.getYearsScaleItemText=function(n){return n.getFullYear().toString()},t.prototype.getFiveYearsScaleItemText=function(n){return n.getFullYear().toString()+" - "+(n.getFullYear()+4).toString()},t.prototype.getHourDisplayText=function(n){return this.hasAmPm()?(n==0?12:n<=12?n:n-12).toString():n<10?"0"+n:n.toString()},t.prototype.getDayTotalText=function(n,e,r,i,s){var l=i?this.getAbbrMonthNames():this.getMonthNames(),g=r?this.getAbbrDayNames():this.getDayNames(),p=e?g[n.getDay()]:"",f=n.getDate(),y=l[n.getMonth()],m=s?n.getFullYear().toString():"";return this.getDayTotalTextCore(p,f.toString(),y,m)},t.prototype.getTaskText=function(n){var e=this.modelItems[n];return e?e.task.title:""},t.prototype.getTaskVisibility=function(n){var e=this.modelItems[n];return!!e&&e.getVisible()},t.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},t.prototype.getScaleItemTextTemplate=function(n){switch(n){case d.ViewType.TenMinutes:return"00";case d.ViewType.Hours:case d.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case d.ViewType.Days:return this.getDayTextTemplate();case d.ViewType.Weeks:return this.getWeekTextTemplate();case d.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case d.ViewType.Quarter:return"Q4";case d.ViewType.Years:return"0000"}},t.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},t.prototype.getWeekTextTemplate=function(){var n=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(n,n)},t.prototype.getHoursScaleItemTextCore=function(n,e){return n+":00"+(this.hasAmPm()?" "+e:"")},t.prototype.getDayTotalTextCore=function(n,e,r,i){var s=n.length>0?n+", ":"";return s+=e+" "+r,s+=i.length>0?" "+i:""},t.prototype.getWeeksScaleItemTextCore=function(n,e){return n+" - "+e},t.prototype.getMonthsScaleItemTextCore=function(n,e){var r=n;return e.length>0&&(r+=" "+e),r},t.prototype.getLongestAbbrMonthName=function(){return this.longestAbbrMonthName==null&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},t.prototype.getLongestMonthName=function(){return this.longestMonthName==null&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},t.prototype.getLongestAbbrDayName=function(){return this.longestAbbrDayName==null&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},t.prototype.getLongestText=function(n){var e=this,r="",i=0;return n.forEach(function(s){var l=e.getTextWidth(s);l>i&&(i=l,r=s)}),r},t.prototype.getTextWidth=function(n){return Math.round(this.textMeasureContext.measureText(n).width)},t.prototype.getAmText=function(){return this.cultureInfo.amText},t.prototype.getPmText=function(){return this.cultureInfo.pmText},t.prototype.getQuarterNames=function(){return this.cultureInfo.quarterNames},t.prototype.getMonthNames=function(){return this.cultureInfo.monthNames},t.prototype.getDayNames=function(){return this.cultureInfo.dayNames},t.prototype.getAbbrMonthNames=function(){return this.cultureInfo.abbrMonthNames},t.prototype.getAbbrDayNames=function(){return this.cultureInfo.abbrDayNames},t}();h.ElementTextHelper=o},655:(S,h,a)=>{a.r(h),a.d(h,{__assign:()=>u,__asyncDelegator:()=>b,__asyncGenerator:()=>T,__asyncValues:()=>w,__await:()=>v,__awaiter:()=>r,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>N,__createBinding:()=>s,__decorate:()=>t,__exportStar:()=>l,__extends:()=>d,__generator:()=>i,__importDefault:()=>M,__importStar:()=>_,__makeTemplateObject:()=>A,__metadata:()=>e,__param:()=>n,__read:()=>p,__rest:()=>o,__spread:()=>f,__spreadArray:()=>m,__spreadArrays:()=>y,__values:()=>g});var c=function(C,O){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,R){L.__proto__=R}||function(L,R){for(var H in R)Object.prototype.hasOwnProperty.call(R,H)&&(L[H]=R[H])},c(C,O)};function d(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function L(){this.constructor=C}c(C,O),C.prototype=O===null?Object.create(O):(L.prototype=O.prototype,new L)}var u=function(){return u=Object.assign||function(C){for(var O,L=1,R=arguments.length;L<R;L++)for(var H in O=arguments[L])Object.prototype.hasOwnProperty.call(O,H)&&(C[H]=O[H]);return C},u.apply(this,arguments)};function o(C,O){var L={};for(var R in C)Object.prototype.hasOwnProperty.call(C,R)&&O.indexOf(R)<0&&(L[R]=C[R]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var H=0;for(R=Object.getOwnPropertySymbols(C);H<R.length;H++)O.indexOf(R[H])<0&&Object.prototype.propertyIsEnumerable.call(C,R[H])&&(L[R[H]]=C[R[H]])}return L}function t(C,O,L,R){var H,V=arguments.length,B=V<3?O:R===null?R=Object.getOwnPropertyDescriptor(O,L):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(C,O,L,R);else for(var I=C.length-1;I>=0;I--)(H=C[I])&&(B=(V<3?H(B):V>3?H(O,L,B):H(O,L))||B);return V>3&&B&&Object.defineProperty(O,L,B),B}function n(C,O){return function(L,R){O(L,R,C)}}function e(C,O){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(C,O)}function r(C,O,L,R){return new(L||(L=Promise))(function(H,V){function B(E){try{k(R.next(E))}catch(P){V(P)}}function I(E){try{k(R.throw(E))}catch(P){V(P)}}function k(E){var P;E.done?H(E.value):(P=E.value,P instanceof L?P:new L(function(j){j(P)})).then(B,I)}k((R=R.apply(C,O||[])).next())})}function i(C,O){var L,R,H,V,B={label:0,sent:function(){if(1&H[0])throw H[1];return H[1]},trys:[],ops:[]};return V={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function I(k){return function(E){return function(P){if(L)throw new TypeError("Generator is already executing.");for(;B;)try{if(L=1,R&&(H=2&P[0]?R.return:P[0]?R.throw||((H=R.return)&&H.call(R),0):R.next)&&!(H=H.call(R,P[1])).done)return H;switch(R=0,H&&(P=[2&P[0],H.value]),P[0]){case 0:case 1:H=P;break;case 4:return B.label++,{value:P[1],done:!1};case 5:B.label++,R=P[1],P=[0];continue;case 7:P=B.ops.pop(),B.trys.pop();continue;default:if(H=B.trys,!((H=H.length>0&&H[H.length-1])||P[0]!==6&&P[0]!==2)){B=0;continue}if(P[0]===3&&(!H||P[1]>H[0]&&P[1]<H[3])){B.label=P[1];break}if(P[0]===6&&B.label<H[1]){B.label=H[1],H=P;break}if(H&&B.label<H[2]){B.label=H[2],B.ops.push(P);break}H[2]&&B.ops.pop(),B.trys.pop();continue}P=O.call(C,B)}catch(j){P=[6,j],R=0}finally{L=H=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([k,E])}}}var s=Object.create?function(C,O,L,R){R===void 0&&(R=L),Object.defineProperty(C,R,{enumerable:!0,get:function(){return O[L]}})}:function(C,O,L,R){R===void 0&&(R=L),C[R]=O[L]};function l(C,O){for(var L in C)L==="default"||Object.prototype.hasOwnProperty.call(O,L)||s(O,C,L)}function g(C){var O=typeof Symbol=="function"&&Symbol.iterator,L=O&&C[O],R=0;if(L)return L.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&R>=C.length&&(C=void 0),{value:C&&C[R++],done:!C}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(C,O){var L=typeof Symbol=="function"&&C[Symbol.iterator];if(!L)return C;var R,H,V=L.call(C),B=[];try{for(;(O===void 0||O-- >0)&&!(R=V.next()).done;)B.push(R.value)}catch(I){H={error:I}}finally{try{R&&!R.done&&(L=V.return)&&L.call(V)}finally{if(H)throw H.error}}return B}function f(){for(var C=[],O=0;O<arguments.length;O++)C=C.concat(p(arguments[O]));return C}function y(){for(var C=0,O=0,L=arguments.length;O<L;O++)C+=arguments[O].length;var R=Array(C),H=0;for(O=0;O<L;O++)for(var V=arguments[O],B=0,I=V.length;B<I;B++,H++)R[H]=V[B];return R}function m(C,O,L){if(L||arguments.length===2)for(var R,H=0,V=O.length;H<V;H++)!R&&H in O||(R||(R=Array.prototype.slice.call(O,0,H)),R[H]=O[H]);return C.concat(R||Array.prototype.slice.call(O))}function v(C){return this instanceof v?(this.v=C,this):new v(C)}function T(C,O,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R,H=L.apply(C,O||[]),V=[];return R={},B("next"),B("throw"),B("return"),R[Symbol.asyncIterator]=function(){return this},R;function B(j){H[j]&&(R[j]=function(F){return new Promise(function(W,z){V.push([j,F,W,z])>1||I(j,F)})})}function I(j,F){try{(W=H[j](F)).value instanceof v?Promise.resolve(W.value.v).then(k,E):P(V[0][2],W)}catch(z){P(V[0][3],z)}var W}function k(j){I("next",j)}function E(j){I("throw",j)}function P(j,F){j(F),V.shift(),V.length&&I(V[0][0],V[0][1])}}function b(C){var O,L;return O={},R("next"),R("throw",function(H){throw H}),R("return"),O[Symbol.iterator]=function(){return this},O;function R(H,V){O[H]=C[H]?function(B){return(L=!L)?{value:v(C[H](B)),done:H==="return"}:V?V(B):B}:V}}function w(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,L=C[Symbol.asyncIterator];return L?L.call(C):(C=g(C),O={},R("next"),R("throw"),R("return"),O[Symbol.asyncIterator]=function(){return this},O);function R(H){O[H]=C[H]&&function(V){return new Promise(function(B,I){(function(k,E,P,j){Promise.resolve(j).then(function(F){k({value:F,done:P})},E)})(B,I,(V=C[H](V)).done,V.value)})}}}function A(C,O){return Object.defineProperty?Object.defineProperty(C,"raw",{value:O}):C.raw=O,C}var D=Object.create?function(C,O){Object.defineProperty(C,"default",{enumerable:!0,value:O})}:function(C,O){C.default=O};function _(C){if(C&&C.__esModule)return C;var O={};if(C!=null)for(var L in C)L!=="default"&&Object.prototype.hasOwnProperty.call(C,L)&&s(O,C,L);return D(O,C),O}function M(C){return C&&C.__esModule?C:{default:C}}function x(C,O,L,R){if(L==="a"&&!R)throw new TypeError("Private accessor was defined without a getter");if(typeof O=="function"?C!==O||!R:!O.has(C))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?R:L==="a"?R.call(C):R?R.value:O.get(C)}function N(C,O,L,R,H){if(R==="m")throw new TypeError("Private method is not writable");if(R==="a"&&!H)throw new TypeError("Private accessor was defined without a setter");if(typeof O=="function"?C!==O||!H:!O.has(C))throw new TypeError("Cannot write private member to an object whose class did not declare it");return R==="a"?H.call(C,L):H?H.value=L:O.set(C,L),L}}},K={};function U(S){var h=K[S];if(h!==void 0)return h.exports;var a=K[S]={exports:{}};return G[S](a,a.exports,U),a.exports}U.d=(S,h)=>{for(var a in h)U.o(h,a)&&!U.o(S,a)&&Object.defineProperty(S,a,{enumerable:!0,get:h[a]})},U.o=(S,h)=>Object.prototype.hasOwnProperty.call(S,h),U.r=S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})};var Y={};return(()=>{var S=Y;Object.defineProperty(S,"__esModule",{value:!0}),S.GanttView=S.default=void 0,U(8721);var h=U(2366);Object.defineProperty(S,"default",{enumerable:!0,get:function(){return h.GanttView}}),Object.defineProperty(S,"GanttView",{enumerable:!0,get:function(){return h.GanttView}})})(),Y})())})(Z);var te=Z.exports;const ie=ee(te);export{ie as G};
